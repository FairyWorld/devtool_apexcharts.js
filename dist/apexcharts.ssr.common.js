/*!
 * ApexCharts v5.6.0
 * (c) 2018-2026 ApexCharts
 */
"use strict";var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,s,i)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i,n=(e,t)=>{for(var s in t||(t={}))a.call(t,s)&&o(e,s,t[s]);if(i)for(var s of i(t))r.call(t,s)&&o(e,s,t[s]);return e},l=(e,i)=>t(e,s(i)),c=(e,t,s)=>new Promise((i,a)=>{var r=e=>{try{n(s.next(e))}catch(e){a(e)}},o=e=>{try{n(s.throw(e))}catch(e){a(e)}},n=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,o);n((s=s.apply(e,t)).next())});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});class h{static isSSR(){return"undefined"==typeof window||"undefined"==typeof document}static isBrowser(){return!this.isSSR()}static hasAPI(e){return!this.isSSR()&&void 0!==window[e]}static getApex(){return"undefined"!=typeof window&&window.Apex?window.Apex:"undefined"!=typeof global&&global.Apex?global.Apex:{}}}class d{constructor(e,t=null){this.nodeName=e,this.namespaceURI=t,this.attributes=new Map,this.children=[],this.textContent="",this.style={},this.classList=new g,this.parentNode=null}setAttribute(e,t){this.attributes.set(e,t)}getAttribute(e){return this.attributes.get(e)}removeAttribute(e){this.attributes.delete(e)}hasAttribute(e){return this.attributes.has(e)}appendChild(e){return e&&e!==this&&(e.parentNode=this,this.children.push(e)),e}removeChild(e){const t=this.children.indexOf(e);return-1!==t&&(this.children.splice(t,1),e.parentNode=null),e}insertBefore(e,t){if(!t)return this.appendChild(e);const s=this.children.indexOf(t);return-1!==s&&(e.parentNode=this,this.children.splice(s,0,e)),e}cloneNode(e=!1){const t=new d(this.nodeName,this.namespaceURI);return t.textContent=this.textContent,this.attributes.forEach((e,s)=>{t.attributes.set(s,e)}),Object.assign(t.style,this.style),e&&this.children.forEach(e=>{e.cloneNode&&t.appendChild(e.cloneNode(!0))}),t}getBoundingClientRect(){return{width:this._ssrWidth||0,height:this._ssrHeight||0,top:0,left:0,right:this._ssrWidth||0,bottom:this._ssrHeight||0,x:0,y:0}}getRootNode(){let e=this;for(;e.parentNode;)e=e.parentNode;return e}querySelector(){return null}querySelectorAll(){return[]}getElementsByClassName(){return[]}addEventListener(){}removeEventListener(){}get childNodes(){return this.children}toString(){let e="";if(this.attributes.forEach((t,s)=>{e+=` ${s}="${t}"`}),0===this.children.length&&!this.textContent)return`<${this.nodeName}${e}/>`;const t=this.children.map(e=>e.toString()).join("");return`<${this.nodeName}${e}>${this.textContent}${t}</${this.nodeName}>`}get innerHTML(){return this.children.map(e=>e.toString()).join("")}set innerHTML(e){this.children=[],this.textContent=e}get outerHTML(){return this.toString()}get isConnected(){return!0}}class g{constructor(){this.classes=new Set}add(...e){e.forEach(e=>this.classes.add(e))}remove(...e){e.forEach(e=>this.classes.delete(e))}contains(e){return this.classes.has(e)}toggle(e,t){return!0===t?(this.classes.add(e),!0):!1===t||this.classes.has(e)?(this.classes.delete(e),!1):(this.classes.add(e),!0)}toString(){return Array.from(this.classes).join(" ")}}class p{constructor(){this.SVGNS="http://www.w3.org/2000/svg",this.XLINKNS="http://www.w3.org/1999/xlink"}createElementNS(e,t){return new d(t,e)}createTextNode(e){return{nodeName:"#text",nodeType:3,textContent:e,toString(){return this.textContent}}}querySelector(){return null}querySelectorAll(){return[]}getComputedStyle(){return{}}getBoundingClientRect(e){return e&&e.getBoundingClientRect?e.getBoundingClientRect():{width:0,height:0,top:0,left:0,right:0,bottom:0,x:0,y:0}}createXMLSerializer(){return{serializeToString:e=>e.toString?e.toString():""}}createDOMParser(){return{parseFromString(e,t){const s=new d("root");return s.innerHTML=e,{documentElement:s}}}}}let x=null,u=null,f=null;class m{static init(){h.isSSR()&&!x&&(x=new p)}static createElement(e){return h.isSSR()?(x||this.init(),x.createElementNS(null,e)):document.createElement(e)}static createElementNS(e,t){return h.isSSR()?(x||this.init(),x.createElementNS(e,t)):document.createElementNS(e,t)}static createTextNode(e){return h.isSSR()?(x||this.init(),x.createTextNode(e)):document.createTextNode(e)}static querySelector(e){return h.isSSR()?null:document.querySelector(e)}static querySelectorAll(e){return h.isSSR()?[]:document.querySelectorAll(e)}static getComputedStyle(e){return h.isSSR()?{}:window.getComputedStyle(e)}static getBoundingClientRect(e){return h.isSSR()?(x||this.init(),x.getBoundingClientRect(e)):e?e.getBoundingClientRect():{width:0,height:0,top:0,left:0,right:0,bottom:0,x:0,y:0}}static getXMLSerializer(){return h.isSSR()?(x||this.init(),u||(u=x.createXMLSerializer()),u):(u||(u=new XMLSerializer),u)}static getDOMParser(){return h.isSSR()?(x||this.init(),f||(f=x.createDOMParser()),f):(f||(f=new DOMParser),f)}static addWindowEventListener(e,t,s){h.isBrowser()&&window.addEventListener(e,t,s)}static removeWindowEventListener(e,t,s){h.isBrowser()&&window.removeEventListener(e,t,s)}static requestAnimationFrame(e){return h.isBrowser()?window.requestAnimationFrame(e):(e(),null)}static cancelAnimationFrame(e){h.isBrowser()&&e&&window.cancelAnimationFrame(e)}static elementExists(e){return!!e&&(h.isSSR()?!0===e._ssrMode||void 0!==e.nodeName:!!e.getRootNode&&(e.getRootNode({composed:!0})===document||e.isConnected))}static getWindow(){return h.isBrowser()?window:null}static getDocument(){return h.isBrowser()?document:null}static _getShim(){return x}static _resetShim(){x=null,u=null,f=null}}let b=class e{static isObject(e){return e&&"object"==typeof e&&!Array.isArray(e)}static is(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}static isSafari(){return h.isBrowser()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}static extend(e,t){const s=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(i=>{this.isObject(t[i])?i in e?s[i]=this.extend(e[i],t[i]):Object.assign(s,{[i]:t[i]}):Object.assign(s,{[i]:t[i]})}),s}static extendArray(t,s){const i=[];return t.map(t=>{i.push(e.extend(s,t))}),t=i}static monthMod(e){return e%12}static clone(e,t=new WeakMap,s=!1){if(null===e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);let i;if(Array.isArray(e))if(s)i=e.slice();else{i=[],t.set(e,i);for(let s=0;s<e.length;s++)i[s]=this.clone(e[s],t,!1)}else if(e instanceof Date)i=new Date(e.getTime());else if(s)i=Object.assign({},e);else{i={},t.set(e,i);for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=this.clone(e[s],t,!1))}return i}static shallowClone(e){return null===e||"object"!=typeof e?e:Array.isArray(e)?e.slice():Object.assign({},e)}static shallowEqual(e,t){if(e===t)return!0;if(!e||!t)return!1;if("object"!=typeof e||"object"!=typeof t)return e===t;const s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(const i of s)if(e[i]!==t[i])return!1;return!0}static log10(e){return Math.log(e)/Math.LN10}static roundToBase10(e){return Math.pow(10,Math.floor(Math.log10(e)))}static roundToBase(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}static parseNumber(e){return"number"==typeof e||null===e?e:parseFloat(e)}static stripNumber(e,t=2){return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}static randomId(){return(Math.random()+1).toString(36).substring(4)}static noExponents(e){return e.toString().includes("e")?Math.round(e):e}static elementExists(e){return!(!e||!e.isConnected)}static isInShadowDOM(t){if(!t||!t.getRootNode)return!1;const s=t.getRootNode();return s&&s!==document&&e.is("ShadowRoot",s)}static getShadowRootHost(t){if(!e.isInShadowDOM(t))return null;return t.getRootNode().host||null}static getDimensions(e){if(!e)return[0,0];if(h.isSSR())return[e._ssrWidth||400,e._ssrHeight||300];const t=e.getRootNode&&e.getRootNode();if(t&&t!==document&&t.host){const e=t.host.getBoundingClientRect();return[e.width,e.height]}let s;try{s=getComputedStyle(e,null)}catch(t){return[e.clientWidth||0,e.clientHeight||0]}let i=e.clientHeight,a=e.clientWidth;return i-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),a-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),[a,i]}static getBoundingClientRect(e){if(!e)return{top:0,right:0,bottom:0,left:0,width:0,height:0,x:0,y:0};if(h.isSSR())return m.getBoundingClientRect(e);const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}static getLargestStringFromArr(e){return e.reduce((e,t)=>(Array.isArray(t)&&(t=t.reduce((e,t)=>e.length>t.length?e:t)),e.length>t.length?e:t),0)}static hexToRgba(e="#999999",t=.6){"#"!==e.substring(0,1)&&(e="#999999");let s=e.replace("#","");s=s.match(new RegExp("(.{"+s.length/3+"})","g"));for(let e=0;e<s.length;e++)s[e]=parseInt(1===s[e].length?s[e]+s[e]:s[e],16);return void 0!==t&&s.push(t),"rgba("+s.join(",")+")"}static getOpacityFromRGBA(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}static rgb2hex(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}shadeRGBColor(e,t){const s=t.split(","),i=e<0?0:255,a=e<0?-1*e:e,r=parseInt(s[0].slice(4),10),o=parseInt(s[1],10),n=parseInt(s[2],10);return"rgb("+(Math.round((i-r)*a)+r)+","+(Math.round((i-o)*a)+o)+","+(Math.round((i-n)*a)+n)+")"}shadeHexColor(e,t){const s=parseInt(t.slice(1),16),i=e<0?0:255,a=e<0?-1*e:e,r=s>>16,o=s>>8&255,n=255&s;return"#"+(16777216+65536*(Math.round((i-r)*a)+r)+256*(Math.round((i-o)*a)+o)+(Math.round((i-n)*a)+n)).toString(16).slice(1)}shadeColor(t,s){return e.isColorHex(s)?this.shadeHexColor(t,s):this.shadeRGBColor(t,s)}static isColorHex(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}static isCSSVariable(e){if("string"!=typeof e)return!1;const t=e.trim();return t.startsWith("var(")&&t.endsWith(")")}static getThemeColor(t){if(!e.isCSSVariable(t))return t;if(h.isSSR())return t;const s=document.createElement("div");let i;s.style.cssText="position:fixed; left: -9999px; visibility:hidden;",s.style.color=t,document.body.appendChild(s);try{i=window.getComputedStyle(s).color}finally{s.parentNode&&s.parentNode.removeChild(s)}return i}static getPolygonPos(e,t){const s=[],i=2*Math.PI/t;for(let a=0;a<t;a++){const t={};t.x=e*Math.sin(a*i),t.y=-e*Math.cos(a*i),s.push(t)}return s}static polarToCartesian(e,t,s,i){const a=(i-90)*Math.PI/180;return{x:e+s*Math.cos(a),y:t+s*Math.sin(a)}}static escapeString(e,t="x"){let s=e.toString().slice();return s=s.replace(/[` ~!@#$%^&*()|+=?;:'",.<>{}[\]\\/]/gi,t),s}static negToZero(e){return e<0?0:e}static moveIndexInArray(e,t,s){if(s>=e.length){let t=s-e.length+1;for(;t--;)e.push(void 0)}return e.splice(s,0,e.splice(t,1)[0]),e}static extractNumber(e){return parseFloat(e.replace(/[^\d.]*/g,""))}static findAncestor(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}static setELstyles(e,t){for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e.style.key=t[s])}static preciseAddition(e,t){const s=(String(e).split(".")[1]||"").length,i=(String(t).split(".")[1]||"").length,a=Math.pow(10,Math.max(s,i));return(Math.round(e*a)+Math.round(t*a))/a}static isNumber(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}static isFloat(e){return Number(e)===e&&e%1!=0}static isMsEdge(){if(h.isSSR())return!1;const e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}static getGCD(e,t,s=7){let i=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,t))));for(i>1?(e=Math.round(Math.abs(e)*i),t=Math.round(Math.abs(t)*i)):i=1;t;){const s=t;t=e%t,e=s}return e/i}static getPrimeFactors(e){const t=[];let s=2;for(;e>=2;)e%s==0?(t.push(s),e/=s):s++;return t}static mod(e,t,s=7){const i=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*i))%(t=Math.round(Math.abs(t)*i))/i}};class y{constructor(e){this.w=e,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}isValidDate(e){return"number"!=typeof e&&!isNaN(this.parseDate(e))}getTimeStamp(e){if(!Date.parse(e))return e;return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime()}getDate(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}parseDate(e){const t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);let s=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return s=this.getTimeStamp(s),s}parseDateWithTimezone(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}formatDate(e,t){const s=this.w.globals.locale,i=this.w.config.xaxis.labels.datetimeUTC,a=["\0",...s.months],r=["\x01",...s.shortMonths],o=["\x02",...s.days],n=["\x03",...s.shortDays];function l(e,t){let s=e+"";for(t=t||2;s.length<t;)s="0"+s;return s}const c=i?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);const h=(i?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+a[0])).replace(/(^|[^\\])MMM/g,"$1"+r[0])).replace(/(^|[^\\])MM/g,"$1"+l(h))).replace(/(^|[^\\])M/g,"$1"+h);const d=i?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+n[0])).replace(/(^|[^\\])dd/g,"$1"+l(d))).replace(/(^|[^\\])d/g,"$1"+d);const g=i?e.getUTCHours():e.getHours(),p=g>12?g-12:0===g?12:g;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+l(g))).replace(/(^|[^\\])H/g,"$1"+g)).replace(/(^|[^\\])hh+/g,"$1"+l(p))).replace(/(^|[^\\])h/g,"$1"+p);const x=i?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+l(x))).replace(/(^|[^\\])m/g,"$1"+x);const u=i?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+l(u))).replace(/(^|[^\\])s/g,"$1"+u);let f=i?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+l(f,3)),f=Math.round(f/10),t=t.replace(/(^|[^\\])ff/g,"$1"+l(f)),f=Math.round(f/10);const m=g<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+f)).replace(/(^|[^\\])TT+/g,"$1"+m)).replace(/(^|[^\\])T/g,"$1"+m.charAt(0));const b=m.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));let y=-e.getTimezoneOffset(),w=i||!y?"Z":y>0?"+":"-";if(!i){y=Math.abs(y);const e=y%60;w+=l(Math.floor(y/60))+":"+l(e)}t=t.replace(/(^|[^\\])K/g,"$1"+w);const v=(i?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(o[0],"g"),o[v])).replace(new RegExp(n[0],"g"),n[v])).replace(new RegExp(a[0],"g"),a[h])).replace(new RegExp(r[0],"g"),r[h])).replace(/\\(.)/g,"$1")}getTimeUnitsfromTimestamp(e,t){const s=this.w;void 0!==s.config.xaxis.min&&(e=s.config.xaxis.min),void 0!==s.config.xaxis.max&&(t=s.config.xaxis.max);const i=this.getDate(e),a=this.getDate(t),r=this.formatDate(i,"yyyy MM dd HH mm ss fff").split(" "),o=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(r[6],10),maxMillisecond:parseInt(o[6],10),minSecond:parseInt(r[5],10),maxSecond:parseInt(o[5],10),minMinute:parseInt(r[4],10),maxMinute:parseInt(o[4],10),minHour:parseInt(r[3],10),maxHour:parseInt(o[3],10),minDate:parseInt(r[2],10),maxDate:parseInt(o[2],10),minMonth:parseInt(r[1],10)-1,maxMonth:parseInt(o[1],10)-1,minYear:parseInt(r[0],10),maxYear:parseInt(o[0],10)}}isLeapYear(e){return e%4==0&&e%100!=0||e%400==0}calculcateLastDaysOfMonth(e,t,s){return this.determineDaysOfMonths(e,t)-s}determineDaysOfYear(e){let t=365;return this.isLeapYear(e)&&(t=366),t}determineRemainingDaysOfYear(e,t,s){let i=this.daysCntOfYear[t]+s;return t>1&&this.isLeapYear()&&i++,i}determineDaysOfMonths(e,t){let s=30;switch(e=b.monthMod(e),!0){case this.months30.indexOf(e)>-1:2===e&&(s=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:s=31}return s}}class w{constructor(e){this.w=e,this.tooltipKeyFormat="dd MMM"}xLabelFormat(e,t,s,i){const a=this.w;if("datetime"===a.config.xaxis.type&&void 0===a.config.xaxis.labels.formatter&&void 0===a.config.tooltip.x.formatter){const e=new y(this.w);return e.formatDate(e.getDate(t),a.config.tooltip.x.format)}return e(t,s,i)}defaultGeneralFormatter(e){return Array.isArray(e)?e.map(e=>e):e}defaultYFormatter(e,t){const s=this.w;if(b.isNumber(e))if(0!==s.globals.yValueDecimal)e=e.toFixed(void 0!==t.decimalsInFloat?t.decimalsInFloat:s.globals.yValueDecimal);else{const t=e.toFixed(0);e=e==t?t:e.toFixed(1)}return e}setLabelFormatters(){const e=this.w,t=e.formatters;return t.xaxisTooltipFormatter=e=>this.defaultGeneralFormatter(e),t.ttKeyFormatter=e=>this.defaultGeneralFormatter(e),t.ttZFormatter=e=>e,t.legendFormatter=e=>this.defaultGeneralFormatter(e),void 0!==e.config.xaxis.labels.formatter?t.xLabelFormatter=e.config.xaxis.labels.formatter:t.xLabelFormatter=t=>{if(b.isNumber(t)){if(!e.config.xaxis.convertedCatToNumeric&&"numeric"===e.config.xaxis.type){if(b.isNumber(e.config.xaxis.decimalsInFloat))return t.toFixed(e.config.xaxis.decimalsInFloat);{const s=e.globals.maxX-e.globals.minX;return s>0&&s<100?t.toFixed(1):t.toFixed(0)}}if(e.globals.isBarHorizontal){if(e.globals.maxY-e.globals.minYArr<4)return t.toFixed(1)}return t.toFixed(0)}return t},"function"==typeof e.config.tooltip.x.formatter?t.ttKeyFormatter=e.config.tooltip.x.formatter:t.ttKeyFormatter=t.xLabelFormatter,"function"==typeof e.config.xaxis.tooltip.formatter&&(t.xaxisTooltipFormatter=e.config.xaxis.tooltip.formatter),(Array.isArray(e.config.tooltip.y)||void 0!==e.config.tooltip.y.formatter)&&(t.ttVal=e.config.tooltip.y),void 0!==e.config.tooltip.z.formatter&&(t.ttZFormatter=e.config.tooltip.z.formatter),void 0!==e.config.legend.formatter&&(t.legendFormatter=e.config.legend.formatter),t.yLabelFormatters=[],e.config.yaxis.forEach((s,i)=>{void 0!==s.labels.formatter?t.yLabelFormatters[i]=s.labels.formatter:t.yLabelFormatters[i]=t=>e.globals.xyCharts?Array.isArray(t)?t.map(e=>this.defaultYFormatter(e,s,i)):this.defaultYFormatter(t,s,i):t}),e.globals}heatmapLabelFormatters(){const e=this.w;if("heatmap"===e.config.chart.type){e.globals.yAxisScale[0].result=e.seriesData.seriesNames.slice();const t=e.seriesData.seriesNames.reduce((e,t)=>e.length>t.length?e:t,0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}const v=({isTimeline:e,seriesIndex:t,dataPointIndex:s,y1:i,y2:a,w:r})=>{var o;let n=r.rangeData.seriesRangeStart[t][s],l=r.rangeData.seriesRangeEnd[t][s],c=r.labelData.labels[s],h=r.config.series[t].name?r.config.series[t].name:"";const d=r.formatters.ttKeyFormatter,g=r.config.tooltip.y.title.formatter,p={w:r,seriesIndex:t,dataPointIndex:s,start:n,end:l};if("function"==typeof g&&(h=g(h,p)),(null==(o=r.config.series[t].data[s])?void 0:o.x)&&(c=r.config.series[t].data[s].x),!e&&"datetime"===r.config.xaxis.type){c=new w(r).xLabelFormat(r.formatters.ttKeyFormatter,c,c,{i:void 0,dateFormatter:new y(r).formatDate,w:r})}"function"==typeof d&&(c=d(c,p)),Number.isFinite(i)&&Number.isFinite(a)&&(n=i,l=a);let x="",u="";const f=r.globals.colors[t];if(void 0===r.config.tooltip.x.formatter)if("datetime"===r.config.xaxis.type){const e=new y(r);x=e.formatDate(e.getDate(n),r.config.tooltip.x.format),u=e.formatDate(e.getDate(l),r.config.tooltip.x.format)}else x=n,u=l;else x=r.config.tooltip.x.formatter(n),u=r.config.tooltip.x.formatter(l);return{start:n,end:l,startVal:x,endVal:u,ylabel:c,color:f,seriesName:h}},A=e=>{let{color:t,seriesName:s,ylabel:i,start:a,end:r,seriesIndex:o,dataPointIndex:n}=e;const l=e.w.globals.tooltip.tooltipLabels.getFormatters(o);a=l.yLbFormatter(a),r=l.yLbFormatter(r);const c=l.yLbFormatter(e.w.seriesData.series[o][n]);let h="";const d=`<span class="value start-value">\n  ${a}\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ${r}\n  </span>`;return h=e.w.globals.comboCharts?"rangeArea"===e.w.config.series[o].type||"rangeBar"===e.w.config.series[o].type?d:`<span>${c}</span>`:d,'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+t+'">'+(s||"")+'</span></div><div> <span class="category">'+i+": </span> "+h+" </div></div>"};class S{constructor(e){this.opts=e}hideYAxis(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}line(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}sparkline(e){this.hideYAxis();return b.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}slope(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter(e,t){const s=t.w.config.series[t.seriesIndex].name;return null!==e?s+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}bar(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}funnel(){return this.hideYAxis(),l(n({},this.bar()),{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}candlestick(){return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:({seriesIndex:e,dataPointIndex:t,w:s})=>this._getBoxTooltip(s,e,t,["Open","High","","Low","Close"],"candlestick")},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}boxPlot(){return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:({seriesIndex:e,dataPointIndex:t,w:s})=>this._getBoxTooltip(s,e,t,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}rangeBar(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter(e,{seriesIndex:t,dataPointIndex:s,w:i}){const a=()=>{const e=i.rangeData.seriesRangeStart[t][s];return i.rangeData.seriesRangeEnd[t][s]-e};return i.globals.comboCharts?"rangeBar"===i.config.series[t].type||"rangeArea"===i.config.series[t].type?a():e:a()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:e=>e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?(e=>{const{color:t,seriesName:s,ylabel:i,startVal:a,endVal:r}=v(l(n({},e),{isTimeline:!0}));return A(l(n({},e),{color:t,seriesName:s,ylabel:i,start:a,end:r}))})(e):(e=>{const{color:t,seriesName:s,ylabel:i,start:a,end:r}=v(e);return A(l(n({},e),{color:t,seriesName:s,ylabel:i,start:a,end:r}))})(e)},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}dumbbell(e){var t,s;return(null==(t=e.plotOptions.bar)?void 0:t.barHeight)||(e.plotOptions.bar.barHeight=2),(null==(s=e.plotOptions.bar)?void 0:s.columnWidth)||(e.plotOptions.bar.columnWidth=2),e}area(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}rangeArea(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:e=>(e=>{const{color:t,seriesName:s,ylabel:i,start:a,end:r}=v(e);return A(l(n({},e),{color:t,seriesName:s,ylabel:i,start:a,end:r}))})(e)}}}brush(e){return b.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}stacked100(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;const t=e.dataLabels.formatter;e.yaxis.forEach((t,s)=>{e.yaxis[s].min=0,e.yaxis[s].max=100});return"bar"===e.chart.type&&(e.dataLabels.formatter=t||function(e){return"number"==typeof e&&e?e.toFixed(0)+"%":e}),e}stackedBars(){const e=this.bar();return l(n({},e),{plotOptions:l(n({},e.plotOptions),{bar:l(n({},e.plotOptions.bar),{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}convertCatToNumeric(e){return e.xaxis.convertedCatToNumeric=!0,e}convertCatToNumericXaxis(e,t){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(e){return b.isNumber(e)?Math.floor(e):e};const s=e.xaxis.labels.formatter;let i=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return t&&t.length&&(i=t.map(e=>Array.isArray(e)?e:String(e))),i&&i.length&&(e.xaxis.labels.formatter=function(e){return b.isNumber(e)?s(i[Math.floor(e)-1]):s(e)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}bubble(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}scatter(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}heatmap(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}treemap(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}pie(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:e=>e.toFixed(1)+"%",style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}donut(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:e=>e.toFixed(1)+"%",style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}polarArea(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:e=>e.toFixed(1)+"%",enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}radar(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:e=>e,style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}radialBar(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}_getBoxTooltip(e,t,s,i,a){const r=e.candleData.seriesCandleO[t][s],o=e.candleData.seriesCandleH[t][s],n=e.candleData.seriesCandleM[t][s],l=e.candleData.seriesCandleL[t][s],c=e.candleData.seriesCandleC[t][s];return e.config.series[t].type&&e.config.series[t].type!==a?`<div class="apexcharts-custom-tooltip">\n          ${e.config.series[t].name?e.config.series[t].name:"series-"+(t+1)}: <strong>${e.seriesData.series[t][s]}</strong>\n        </div>`:`<div class="apexcharts-tooltip-box apexcharts-tooltip-${e.config.chart.type}"><div>${i[0]}: <span class="value">`+r+`</span></div><div>${i[1]}: <span class="value">`+o+"</span></div>"+(n?`<div>${i[2]}: <span class="value">`+n+"</span></div>":"")+`<div>${i[3]}: <span class="value">`+l+`</span></div><div>${i[4]}: <span class="value">`+c+"</span></div></div>"}}const C={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}};class k{constructor(){this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}init(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[C],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0,keyDown:void 0,keyUp:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}},accessibility:{enabled:!0,description:void 0,announcements:{enabled:!0},keyboard:{enabled:!0,navigation:{enabled:!0,wrapAround:!1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:e=>e},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:e=>e+"%"},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:e=>e.globals.seriesTotals.reduce((e,t)=>e+t,0)/e.seriesData.series.length+"%"}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:e=>e,onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:e=>e},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:e=>e},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:e=>e.globals.seriesTotals.reduce((e,t)=>e+t,0)}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:e=>null!==e?e:"",textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:e=>e?e+": ":""}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}class D{constructor(e){this.opts=e}init({responsiveOverride:e}){var t,s,i,a,r,o,n,l,c,d;let g=this.opts;const p=new k,x=new S(g);this.chartType=g.chart.type,g=this.extendYAxis(g),g=this.extendAnnotations(g);let u=p.init(),f={};if(g&&"object"==typeof g){let p={};p=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(g.chart.type)?x[g.chart.type]():x.line(),(null==(s=null==(t=g.plotOptions)?void 0:t.bar)?void 0:s.isFunnel)&&(p=x.funnel()),g.chart.stacked&&"bar"===g.chart.type&&(p=x.stackedBars()),(null==(i=g.chart.brush)?void 0:i.enabled)&&(p=x.brush(p)),(null==(r=null==(a=g.plotOptions)?void 0:a.line)?void 0:r.isSlopeChart)&&(p=x.slope()),g.chart.stacked&&"100%"===g.chart.stackType&&(g=x.stacked100(g)),(null==(n=null==(o=g.plotOptions)?void 0:o.bar)?void 0:n.isDumbbell)&&(g=x.dumbbell(g)),this.checkForDarkTheme(h.getApex()),this.checkForDarkTheme(g),g.xaxis=g.xaxis||h.getApex().xaxis||{},e||(g.xaxis.convertedCatToNumeric=!1),g=this.checkForCatToNumericXAxis(this.chartType,p,g),((null==(l=g.chart.sparkline)?void 0:l.enabled)||(null==(d=null==(c=h.getApex().chart)?void 0:c.sparkline)?void 0:d.enabled))&&(p=x.sparkline(p)),f=b.extend(u,p)}const m=b.extend(f,h.getApex());return u=b.extend(m,g),u=this.handleUserInputErrors(u),u}checkForCatToNumericXAxis(e,t,s){var i,a;const r=new S(s),o=("bar"===e||"boxPlot"===e)&&(null==(a=null==(i=s.plotOptions)?void 0:i.bar)?void 0:a.horizontal),n="pie"===e||"polarArea"===e||"donut"===e||"radar"===e||"radialBar"===e||"heatmap"===e,l="datetime"!==s.xaxis.type&&"numeric"!==s.xaxis.type,c=s.xaxis.tickPlacement?s.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return o||n||!l||"between"===c||(s=r.convertCatToNumeric(s)),s}extendYAxis(e,t){const s=new k;(void 0===e.yaxis||!e.yaxis||Array.isArray(e.yaxis)&&0===e.yaxis.length)&&(e.yaxis={});const i=h.getApex();e.yaxis.constructor!==Array&&i.yaxis&&i.yaxis.constructor!==Array&&(e.yaxis=b.extend(e.yaxis,i.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[b.extend(s.yAxis,e.yaxis)]:e.yaxis=b.extendArray(e.yaxis,s.yAxis);let a=!1;e.yaxis.forEach(e=>{e.logarithmic&&(a=!0)});let r=e.series;return t&&!r&&(r=t.config.series),a&&r.length!==e.yaxis.length&&r.length&&(e.yaxis=r.map((t,i)=>{if(t.name||(r[i].name=`series-${i+1}`),e.yaxis[i])return e.yaxis[i].seriesName=r[i].name,e.yaxis[i];{const t=b.extend(s.yAxis,e.yaxis[0]);return t.show=!1,t}})),a&&r.length>1&&(r.length,e.yaxis.length),e}extendAnnotations(e){return void 0===e.annotations&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}extendYAxisAnnotations(e){const t=new k;return e.annotations.yaxis=b.extendArray(void 0!==e.annotations.yaxis?e.annotations.yaxis:[],t.yAxisAnnotation),e}extendXAxisAnnotations(e){const t=new k;return e.annotations.xaxis=b.extendArray(void 0!==e.annotations.xaxis?e.annotations.xaxis:[],t.xAxisAnnotation),e}extendPointAnnotations(e){const t=new k;return e.annotations.points=b.extendArray(void 0!==e.annotations.points?e.annotations.points:[],t.pointAnnotation),e}checkForDarkTheme(e){e.theme&&"dark"===e.theme.mode&&(e.tooltip||(e.tooltip={}),"light"!==e.tooltip.theme&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}handleUserInputErrors(e){const t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===t.chart.type&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return"bar"!==t.chart.type&&"rangeBar"!==t.chart.type||t.tooltip.shared&&"barWidth"===t.xaxis.crosshairs.width&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),"candlestick"!==t.chart.type&&"boxPlot"!==t.chart.type||t.yaxis[0].reversed&&(t.yaxis[0].reversed=!1),t}}const L=[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],M=[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24];class T{initGlobalVars(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.dataWasParsed=!1,e.originalSeries=null,e.maxValsInArrayIndex=0,e.yValueDecimal=0,e.allSeriesHasEqualX=!0,e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0,e.disableZoomIn=!1,e.disableZoomOut=!1,e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.rotateXLabels=!1,e.overlappingXLabels=!1,e.radialSize=0,e.barHeight=0,e.barWidth=0,e.animationEnded=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.lastDrawnDataLabelsIndexes=[],e.textRectsCache=new Map,e.domCache=new Map,e.dimensionCache={},e.cachedSelectors={},e.seriesNS||this._attachNamespaces(e)}_attachNamespaces(e){const t=(t,s,i=s)=>{Object.defineProperty(t,i,{get:()=>e[s],set(t){e[s]=t},enumerable:!0,configurable:!0})},s={};t(s,"series","data");for(const e of["seriesNames","seriesX","seriesZ","seriesXvalues","seriesYvalues","seriesGoals","seriesLog","seriesColors","seriesPercent","seriesTotals","stackedSeriesTotals","seriesCandleO","seriesCandleH","seriesCandleM","seriesCandleL","seriesCandleC","seriesRangeStart","seriesRangeEnd","seriesRange","seriesYAxisMap","seriesYAxisReverseMap","seriesGroups","barGroups","lineGroups","areaGroups","originalSeries","collapsedSeries","collapsedSeriesIndices","ancillaryCollapsedSeries","ancillaryCollapsedSeriesIndices","allSeriesCollapsed","risingSeries","previousPaths","ignoreYAxisIndexes","labels","categoryLabels","timescaleLabels","groups"])t(s,e);Object.defineProperty(e,"seriesNS",{value:s,writable:!1,enumerable:!1,configurable:!0});const i={};for(const e of["minX","maxX","initialMinX","initialMaxX","minY","maxY","minYArr","maxYArr","minZ","maxZ","minDate","maxDate","minXDiff","xRange","yRange","zRange","xAxisScale","yAxisScale","xAxisTicksPositions","xTickAmount","multiAxisTickAmount","dataPoints","maxValsInArrayIndex","isXNumeric","isMultipleYAxis","isMultiLineX","isDataXYZ","dataFormatXNumeric","allSeriesHasEqualX","hasNullValues","dataWasParsed","hasXaxisGroups","hasSeriesGroups","skipFirstTimelinelabel","skipLastTimelinelabel","yValueDecimal","invalidLogScale","noLabelsProvided"])t(i,e);Object.defineProperty(e,"axes",{value:i,writable:!1,enumerable:!1,configurable:!0});const a={};for(const e of["svgWidth","svgHeight","gridWidth","gridHeight","translateX","translateY","translateXAxisX","translateXAxisY","translateYAxisX","xAxisLabelsHeight","xAxisGroupLabelsHeight","xAxisLabelsWidth","yAxisLabelsWidth","yAxisWidths","yLabelsCoords","yTitleCoords","padHorizontal","barPadForNumericAxis","rotateXLabels","scaleX","scaleY","radialSize","defaultLabels","overlappingXLabels"])t(a,e);Object.defineProperty(e,"layout",{value:a,writable:!1,enumerable:!1,configurable:!0});const r={};for(const e of["domCache","dimensionCache","cachedSelectors","textRectsCache","pointsArray","dataLabelsRects","lastDrawnDataLabelsIndexes","delayedElements","resizeTimer","selectionResizeTimer","resizeObserver"])t(r,e);Object.defineProperty(e,"cache",{value:r,writable:!1,enumerable:!1,configurable:!0})}globalVars(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},LINE_HEIGHT_RATIO:1.618,axisCharts:!0,isSlopeChart:e.plotOptions.line.isSlopeChart,comboCharts:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],ignoreYAxisIndexes:[],isDirty:!1,isExecCalled:!1,dataChanged:!1,resized:!1,invalidLogScale:!1,hasNullValues:!1,columnSeries:null,yaxis:null,total:0,shouldAnimate:!0,previousPaths:[],svgWidth:0,svgHeight:0,defaultLabels:!1,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateYAxisX:[],yAxisWidths:[],tooltip:null,resizeObserver:null,locale:{},memory:{methodsToExec:[]},niceScaleAllowedMagMsd:L,niceScaleDefaultTicks:M,seriesYAxisMap:[],seriesYAxisReverseMap:[],noData:!1}}init(e){const t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=b.extend({},e),t.initialSeries=b.clone(e.series),t.lastXAxis=b.clone(t.initialConfig.xaxis),t.lastYAxis=b.clone(t.initialConfig.yaxis),t}}class E{constructor(e){this.opts=e}init(){const e=new D(this.opts).init({responsiveOverride:!1}),t=(new T).init(e),s={config:e,globals:t,dom:{},interact:{zoomEnabled:"zoom"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:"pan"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.pan,selectionEnabled:"selection"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.selection,zoomed:!1,selection:void 0,visibleXRange:void 0,selectedDataPoints:[],mousedown:!1,clientX:null,clientY:null,lastClientPosition:{},lastWheelExecution:0,capturedSeriesIndex:-1,capturedDataPointIndex:-1,disableZoomIn:!1,disableZoomOut:!1,isTouchDevice:!!h.isBrowser()&&("ontouchstart"in window||navigator.msMaxTouchPoints>0)},formatters:{xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,legendFormatter:void 0},candleData:{seriesCandleO:[],seriesCandleH:[],seriesCandleM:[],seriesCandleL:[],seriesCandleC:[]},rangeData:{seriesRangeStart:[],seriesRangeEnd:[],seriesRange:[]},labelData:{labels:[],categoryLabels:[],timescaleLabels:[],hasXaxisGroups:!1,groups:[],seriesGroups:[]},axisFlags:{isXNumeric:!1,dataFormatXNumeric:!1,isDataXYZ:!1,isRangeData:!1,isRangeBar:!1,isMultiLineX:!1,noLabelsProvided:!1,dataWasParsed:!1},seriesData:{series:[],seriesNames:[],seriesX:[],seriesZ:[],seriesColors:[],seriesGoals:[],stackedSeriesTotals:[],stackedSeriesTotalsByGroups:[]},layout:{gridHeight:0,gridWidth:0,translateX:0,translateY:0,translateXAxisX:0,translateXAxisY:0,rotateXLabels:!1,xAxisHeight:0,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yLabelsCoords:[],yTitleCoords:[]}};Object.defineProperty(t,"dom",{get:()=>s.dom,set(e){s.dom=e},enumerable:!1,configurable:!0});for(const e of["xLabelFormatter","yLabelFormatters","xaxisTooltipFormatter","ttKeyFormatter","ttVal","ttZFormatter","legendFormatter"])Object.defineProperty(t,e,{get:()=>s.formatters[e],set(t){s.formatters[e]=t},enumerable:!1,configurable:!0});for(const e of["zoomEnabled","panEnabled","selectionEnabled","zoomed","selection","visibleXRange","selectedDataPoints","mousedown","clientX","clientY","lastClientPosition","lastWheelExecution","capturedSeriesIndex","capturedDataPointIndex","disableZoomIn","disableZoomOut","isTouchDevice"])Object.defineProperty(t,e,{get:()=>s.interact[e],set(t){s.interact[e]=t},enumerable:!1,configurable:!0});for(const e of["gridHeight","gridWidth","translateX","translateY","translateXAxisX","translateXAxisY","rotateXLabels","xAxisHeight","xAxisLabelsHeight","xAxisGroupLabelsHeight","xAxisLabelsWidth","yLabelsCoords","yTitleCoords"])Object.defineProperty(t,e,{get:()=>s.layout[e],set(t){s.layout[e]=t},enumerable:!1,configurable:!0});for(const e of["series","seriesNames","seriesX","seriesZ","seriesColors","seriesGoals","stackedSeriesTotals","stackedSeriesTotalsByGroups"])Object.defineProperty(t,e,{get:()=>s.seriesData[e],set(t){s.seriesData[e]=t},enumerable:!1,configurable:!0});for(const e of["isXNumeric","dataFormatXNumeric","isDataXYZ","isRangeData","isRangeBar","isMultiLineX","noLabelsProvided","dataWasParsed"])Object.defineProperty(t,e,{get:()=>s.axisFlags[e],set(t){s.axisFlags[e]=t},enumerable:!1,configurable:!0});for(const e of["labels","categoryLabels","timescaleLabels","hasXaxisGroups","groups","seriesGroups"])Object.defineProperty(t,e,{get:()=>s.labelData[e],set(t){s.labelData[e]=t},enumerable:!1,configurable:!0});for(const e of["seriesRangeStart","seriesRangeEnd","seriesRange"])Object.defineProperty(t,e,{get:()=>s.rangeData[e],set(t){s.rangeData[e]=t},enumerable:!1,configurable:!0});for(const e of["seriesCandleO","seriesCandleH","seriesCandleM","seriesCandleL","seriesCandleC"])Object.defineProperty(t,e,{get:()=>s.candleData[e],set(t){s.candleData[e]=t},enumerable:!1,configurable:!0});return s}}class F{constructor(e){this.w=e}static checkComboSeries(e,t){let s=!1,i=0,a=0;return void 0===t&&(t="line"),e.length&&void 0!==e[0].type&&e.forEach(e=>{"bar"!==e.type&&"column"!==e.type&&"candlestick"!==e.type&&"boxPlot"!==e.type||i++,void 0!==e.type&&e.type!==t&&a++}),a>0&&(s=!0),{comboBarCount:i,comboCharts:s}}getStackedSeriesTotals(e=[]){const t=this.w,s=[];if(0===t.seriesData.series.length)return s;for(let i=0;i<t.seriesData.series[t.globals.maxValsInArrayIndex].length;i++){let a=0;for(let s=0;s<t.seriesData.series.length;s++)void 0!==t.seriesData.series[s][i]&&-1===e.indexOf(s)&&(a+=t.seriesData.series[s][i]);s.push(a)}return s}getSeriesTotalByIndex(e=null){return null===e?this.w.config.series.reduce((e,t)=>e+t,0):this.w.seriesData.series[e].reduce((e,t)=>e+t,0)}getStackedSeriesTotalsByGroups(){const e=this.w,t=[];return e.labelData.seriesGroups.forEach(s=>{const i=[];e.config.series.forEach((t,a)=>{s.indexOf(e.seriesData.seriesNames[a])>-1&&i.push(a)});const a=e.seriesData.series.map((e,t)=>-1===i.indexOf(t)?t:-1).filter(e=>-1!==e);t.push(this.getStackedSeriesTotals(a))}),t}setSeriesYAxisMappings(){const e=this.w.globals,t=this.w.config;let s=[];const i=[],a=[],r=this.w.seriesData.series.length>t.yaxis.length||t.yaxis.some(e=>Array.isArray(e.seriesName));t.series.forEach((e,t)=>{a.push(t),i.push(null)}),t.yaxis.forEach((e,t)=>{s[t]=[]});const o=[];t.yaxis.forEach((e,i)=>{let n=!1;if(e.seriesName){let o=[];Array.isArray(e.seriesName)?o=e.seriesName:o.push(e.seriesName),o.forEach(e=>{t.series.forEach((t,o)=>{if(t.name===e){let e=o;i===o||r?(!r||a.indexOf(o)>-1)&&s[i].push([i,o]):(s[o].push([o,i]),e=i),n=!0,e=a.indexOf(e),-1!==e&&a.splice(e,1)}})})}n||o.push(i)}),s=s.map(e=>{const t=[];return e.forEach(e=>{i[e[1]]=e[0],t.push(e[1])}),t});let n=t.yaxis.length-1;for(let e=0;e<o.length&&(n=o[e],s[n]=[],a);e++){const e=a[0];a.shift(),s[n].push(e),i[e]=n}a.forEach(e=>{s[n].push(e),i[e]=n}),e.seriesYAxisMap=s.map(e=>e),e.seriesYAxisReverseMap=i.map(e=>e),e.seriesYAxisMap.forEach((e,s)=>{e.forEach(e=>{t.series[e]&&void 0===t.series[e].group&&(t.series[e].group="apexcharts-axis-".concat(s.toString()))})})}isSeriesNull(e=null){let t=[];return t=null===e?this.w.config.series.filter(e=>null!==e):this.w.config.series[e].data.filter(e=>null!==e),0===t.length}seriesHaveSameValues(e){return this.w.seriesData.series[e].every((e,t,s)=>e===s[0])}getCategoryLabels(e){const t=this.w;let s=e.slice();return t.config.xaxis.convertedCatToNumeric&&(s=e.map(e=>t.config.xaxis.labels.formatter(e-t.globals.minX+1))),s}getLargestSeries(){const e=this.w;e.globals.maxValsInArrayIndex=e.seriesData.series.map(e=>e.length).indexOf(Math.max.apply(Math,e.seriesData.series.map(e=>e.length)))}getLargestMarkerSize(){const e=this.w;let t=0;return e.globals.markers.size.forEach(e=>{t=Math.max(t,e)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(e=>{t=Math.max(t,e.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}getSeriesTotals(){const e=this.w;e.globals.seriesTotals=e.seriesData.series.map(e=>{let t=0;if(Array.isArray(e))for(let s=0;s<e.length;s++)t+=e[s];else t+=e;return t})}getSeriesTotalsXRange(e,t){const s=this.w;return s.seriesData.series.map((i,a)=>{let r=0;for(let o=0;o<i.length;o++)s.seriesData.seriesX[a][o]>e&&s.seriesData.seriesX[a][o]<t&&(r+=i[o]);return r})}getPercentSeries(){const e=this.w;e.globals.seriesPercent=e.seriesData.series.map(t=>{const s=[];if(Array.isArray(t))for(let i=0;i<t.length;i++){const a=e.seriesData.stackedSeriesTotals[i];let r=0;a&&(r=100*t[i]/a),s.push(r)}else{const i=100*t/e.globals.seriesTotals.reduce((e,t)=>e+t,0);s.push(i)}return s})}getCalculatedRatios(){const e=this.w,t=e.globals,s=[];let i=0,a=0,r=0,o=0,n=[],l=.1,c=0;if(t.yRange=[],t.isMultipleYAxis)for(let e=0;e<t.minYArr.length;e++)t.yRange.push(Math.abs(t.minYArr[e]-t.maxYArr[e])),n.push(0);else t.yRange.push(Math.abs(t.minY-t.maxY));t.xRange=Math.abs(t.maxX-t.minX),t.zRange=Math.abs(t.maxZ-t.minZ);for(let e=0;e<t.yRange.length;e++)s.push(t.yRange[e]/this.w.layout.gridHeight);if(a=t.xRange/this.w.layout.gridWidth,i=t.yRange/this.w.layout.gridWidth,r=t.xRange/this.w.layout.gridHeight,o=t.zRange/this.w.layout.gridHeight*16,o||(o=1),t.minY!==Number.MIN_VALUE&&0!==Math.abs(t.minY)&&(t.hasNegs=!0),e.globals.seriesYAxisReverseMap.length>0){const r=(t,i)=>{const a=e.config.yaxis[e.globals.seriesYAxisReverseMap[i]],r=t<0?-1:1;return t=Math.abs(t),a.logarithmic&&(t=this.getBaseLog(a.logBase,t)),-r*t/s[i]};if(t.isMultipleYAxis){n=[];for(let e=0;e<s.length;e++)n.push(r(t.minYArr[e],e))}else n=[],n.push(r(t.minY,0)),t.minY!==Number.MIN_VALUE&&0!==Math.abs(t.minY)&&(l=-t.minY/i,c=t.minX/a)}else n=[],n.push(0),l=0,c=0;return{yRatio:s,invertedYRatio:i,zRatio:o,xRatio:a,invertedXRatio:r,baseLineInvertedY:l,baseLineY:n,baseLineX:c}}getLogSeries(e){const t=this.w;return t.globals.seriesLog=e.map((e,s)=>{const i=t.globals.seriesYAxisReverseMap[s];return t.config.yaxis[i]&&t.config.yaxis[i].logarithmic?e.map(e=>null===e?null:this.getLogVal(t.config.yaxis[i].logBase,e,s)):e}),t.globals.invalidLogScale?e:t.globals.seriesLog}getLogValAtSeriesIndex(e,t){if(null===e)return null;const s=this.w,i=s.globals.seriesYAxisReverseMap[t];return s.config.yaxis[i]&&s.config.yaxis[i].logarithmic?this.getLogVal(s.config.yaxis[i].logBase,e,t):e}getBaseLog(e,t){return Math.log(t)/Math.log(e)}getLogVal(e,t,s){if(t<=0)return 0;const i=this.w,a=0===i.globals.minYArr[s]?-1:this.getBaseLog(e,i.globals.minYArr[s]),r=(0===i.globals.maxYArr[s]?0:this.getBaseLog(e,i.globals.maxYArr[s]))-a;if(t<1)return t/r;return(this.getBaseLog(e,t)-a)/r}getLogYRatios(e){const t=this.w,s=this.w.globals;return s.yLogRatio=e.slice(),s.logYRange=s.yRange.map((e,i)=>{const a=t.globals.seriesYAxisReverseMap[i];if(t.config.yaxis[a]&&this.w.config.yaxis[a].logarithmic){let e=-Number.MAX_VALUE,a=Number.MIN_VALUE,r=1;return s.seriesLog.forEach((s,i)=>{s.forEach(s=>{t.config.yaxis[i]&&t.config.yaxis[i].logarithmic&&(e=Math.max(s,e),a=Math.min(s,a))})}),r=Math.pow(s.yRange[i],Math.abs(a-e)/s.yRange[i]),s.yLogRatio[i]=r/this.w.layout.gridHeight,r}}),s.invalidLogScale?e.slice():s.yLogRatio}static extendArrayProps(e,t,s){var i,a;return(null==t?void 0:t.yaxis)&&(t=e.extendYAxis(t,s)),(null==t?void 0:t.annotations)&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(null==(i=null==t?void 0:t.annotations)?void 0:i.xaxis)&&(t=e.extendXAxisAnnotations(t)),(null==(a=null==t?void 0:t.annotations)?void 0:a.points)&&(t=e.extendPointAnnotations(t))),t}drawSeriesByGroup(e,t,s,i){const a=this.w,r=[];return e.series.length>0&&t.forEach(t=>{const o=[],n=[];e.i.forEach((s,i)=>{a.config.series[s].group===t&&(o.push(e.series[i]),n.push(s))}),o.length>0&&r.push(i.draw(o,s,n))}),r}}class I{constructor(e,t){this.w=e,this.ctx=t}animateLine(e,t,s,i){e.attr(t).animate(i).attr(s)}animateMarker(e,t,s,i){e.attr({opacity:0}).animate(t).attr({opacity:1}).after(()=>{i()})}animateRect(e,t,s,i,a){e.attr(t).animate(i).attr(s).after(()=>a())}animatePathsGradually(e){const{el:t,realIndex:s,j:i,fill:a,pathFrom:r,pathTo:o,speed:n,delay:l}=e,c=this.w;let h=0;c.config.chart.animations.animateGradually.enabled&&(h=c.config.chart.animations.animateGradually.delay),c.config.chart.animations.dynamicAnimation.enabled&&c.globals.dataChanged&&"bar"!==c.config.chart.type&&(h=0),this.morphSVG(t,s,i,"line"!==c.config.chart.type||c.globals.comboCharts?a:"stroke",r,o,n,l*h)}showDelayedElements(){this.w.globals.delayedElements.forEach(e=>{const t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}animationCompleted(e){const t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof t.config.chart.events.animationEnd&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}morphSVG(e,t,s,i,a,r,o,n){const l=this.w;a||(a=e.attr("pathFrom")),r||(r=e.attr("pathTo"));const c=()=>("radar"===l.config.chart.type&&(o=1),`M 0 ${l.layout.gridHeight}`);(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=c()),(!r.trim()||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=c()),l.globals.shouldAnimate||(o=1),e.plot(a).animate(1,n).plot(a).animate(o,n).plot(r).after(()=>{b.isNumber(s)?s===l.seriesData.series[l.globals.maxValsInArrayIndex].length-2&&l.globals.shouldAnimate&&this.animationCompleted(e):"none"!==i&&l.globals.shouldAnimate&&(!l.globals.comboCharts&&t===l.seriesData.series.length-1||l.globals.comboCharts)&&this.animationCompleted(e),this.showDelayedElements()})}}class X{constructor(e){this.w=e}getDefaultFilter(e,t){const s=this.w;e.unfilter&&e.unfilter(!0),s.config.chart.dropShadow.enabled&&this.dropShadow(e,s.config.chart.dropShadow,t)}applyFilter(e,t,s){var i,a,r;const o=this.w;if(e.unfilter&&e.unfilter(!0),"none"===s)return void this.getDefaultFilter(e,t);const n=o.config.chart.dropShadow,l="lighten"===s?2:.3;e.filterWith&&(e.filterWith(e=>{e.colorMatrix({type:"matrix",values:`\n            ${l} 0 0 0 0\n            0 ${l} 0 0 0\n            0 0 ${l} 0 0\n            0 0 0 1 0\n          `,in:"SourceGraphic",result:"brightness"}),n.enabled&&this.addShadow(e,t,n,"brightness")}),n.noUserSpaceOnUse||null==(a=null==(i=e.filterer())?void 0:i.node)||a.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(null==(r=e.filterer())?void 0:r.node))}addShadow(e,t,s,i){var a;const r=this.w;let{blur:o,top:n,left:l,color:c,opacity:h}=s;if(c=Array.isArray(c)?c[t]:c,(null==(a=r.config.chart.dropShadow.enabledOnSeries)?void 0:a.length)>0&&-1===r.config.chart.dropShadow.enabledOnSeries.indexOf(t))return e;e.offset({in:i,dx:l,dy:n,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:o,result:"blur"}),e.flood({"flood-color":c,"flood-opacity":h,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",i])}dropShadow(e,t,s=0){var i,a,r,o,n;const l=this.w;return e.unfilter&&e.unfilter(!0),b.isMsEdge()&&"radialBar"===l.config.chart.type||(null==(i=l.config.chart.dropShadow.enabledOnSeries)?void 0:i.length)>0&&-1===(null==(a=l.config.chart.dropShadow.enabledOnSeries)?void 0:a.indexOf(s))||e.filterWith&&(e.filterWith(e=>{this.addShadow(e,s,t,"SourceGraphic")}),t.noUserSpaceOnUse||null==(o=null==(r=e.filterer())?void 0:r.node)||o.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(null==(n=e.filterer())?void 0:n.node)),e}setSelectionFilter(e,t,s){const i=this.w;if(void 0!==i.interact.selectedDataPoints[t]&&i.interact.selectedDataPoints[t].indexOf(s)>-1){e.node.setAttribute("selected",!0);const s=i.config.states.active.filter;"none"!==s&&this.applyFilter(e,t,s.type)}}_scaleFilterSize(e){if(!e)return;(t=>{for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.setAttribute(s,t[s])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}class P{constructor(e,t=null){this.w=e,this.ctx=t}roundPathCorners(e,t){function s(e,t,s){var a=t.x-e.x,r=t.y-e.y,o=Math.sqrt(a*a+r*r);return i(e,t,Math.min(1,s/o))}function i(e,t,s){return{x:e.x+(t.x-e.x)*s,y:e.y+(t.y-e.y)*s}}function a(e,t){e.length>2&&(e[e.length-2]=t.x,e[e.length-1]=t.y)}function r(e){return{x:parseFloat(e[e.length-2]),y:parseFloat(e[e.length-1])}}e.indexOf("NaN")>-1&&(e="");var o=e.split(/[,\s]/).reduce(function(e,t){var s=t.match(/^([a-zA-Z])(.+)/);return s?(e.push(s[1]),e.push(s[2])):e.push(t),e},[]).reduce(function(e,t){return parseFloat(t)==t&&e.length?e[e.length-1].push(t):e.push([t]),e},[]),n=[];if(o.length>1){var l=r(o[0]),c=null;"Z"==o[o.length-1][0]&&o[0].length>2&&(c=["L",l.x,l.y],o[o.length-1]=c),n.push(o[0]);for(var h=1;h<o.length;h++){var d=n[n.length-1],g=o[h],p=g==c?o[1]:o[h+1];if(p&&d&&d.length>2&&"L"==g[0]&&p.length>2&&"L"==p[0]){var x,u,f=r(d),m=r(g),b=r(p);x=s(m,f,t),u=s(m,b,t),a(g,x),g.origPoint=m,n.push(g);var y=i(x,m,.5),w=i(m,u,.5),v=["C",y.x,y.y,w.x,w.y,u.x,u.y];v.origPoint=m,n.push(v)}else n.push(g)}if(c){var A=r(n[n.length-1]);n.push(["Z"]),a(n[0],A)}}else n=o;return n.reduce(function(e,t){return e+t.join(" ")+" "},"")}drawLine(e,t,s,i,a="#a8a8a8",r=0,o=null,n="butt"){return this.w.dom.Paper.line().attr({x1:e,y1:t,x2:s,y2:i,stroke:a,"stroke-dasharray":r,"stroke-width":o,"stroke-linecap":n})}drawRect(e=0,t=0,s=0,i=0,a=0,r="#fefefe",o=1,n=null,l=null,c=0){const h=this.w.dom.Paper.rect();return h.attr({x:e,y:t,width:s>0?s:0,height:i>0?i:0,rx:a,ry:a,opacity:o,"stroke-width":null!==n?n:0,stroke:null!==l?l:"none","stroke-dasharray":c}),h.node.setAttribute("fill",r),h}drawPolygon(e,t="#e1e1e1",s=1,i="none"){return this.w.dom.Paper.polygon(e).attr({fill:i,stroke:t,"stroke-width":s})}drawCircle(e,t=null){e<0&&(e=0);const s=this.w.dom.Paper.circle(2*e);return null!==t&&s.attr(t),s}drawPath({d:e="",stroke:t="#a8a8a8",strokeWidth:s=1,fill:i,fillOpacity:a=1,strokeOpacity:r=1,classes:o,strokeLinecap:n=null,strokeDashArray:l=0}){const c=this.w;null===n&&(n=c.config.stroke.lineCap),(e.indexOf("undefined")>-1||e.indexOf("NaN")>-1)&&(e=`M 0 ${c.layout.gridHeight}`);return c.dom.Paper.path(e).attr({fill:i,"fill-opacity":a,stroke:t,"stroke-opacity":r,"stroke-linecap":n,"stroke-width":s,"stroke-dasharray":l,class:o})}group(e=null){const t=this.w.dom.Paper.group();return null!==e&&t.attr(e),t}move(e,t){return["M",e,t].join(" ")}line(e,t,s=null){let i=null;return null===s?i=[" L",e,t].join(" "):"H"===s?i=[" H",e].join(" "):"V"===s&&(i=[" V",t].join(" ")),i}curve(e,t,s,i,a,r){return["C",e,t,s,i,a,r].join(" ")}quadraticCurve(e,t,s,i){return["Q",e,t,s,i].join(" ")}arc(e,t,s,i,a,r,o,n=!1){let l="A";n&&(l="a");return[l,e,t,s,i,a,r,o].join(" ")}renderPaths({j:e,realIndex:t,pathFrom:s,pathTo:i,stroke:a,strokeWidth:r,strokeLinecap:o,fill:c,animationDelay:h,initialSpeed:d,dataChangeSpeed:g,className:p,chartType:x,shouldClipToGrid:u=!0,bindEventsOnPaths:f=!0,drawShadow:m=!0}){const b=this.w,y=new X(this.w),w=new I(this.w),v=this.w.config.chart.animations.enabled,A=v&&this.w.config.chart.animations.dynamicAnimation.enabled;if(s&&s.startsWith("M 0 0")&&i){const e=i.match(/^M\s+[\d.-]+\s+[\d.-]+/);e&&(s=s.replace(/^M\s+0\s+0/,e[0]))}let S;const C=!!(v&&!b.globals.resized||A&&b.globals.dataChanged&&b.globals.shouldAnimate);C?S=s:(S=i,b.globals.animationEnded=!0);const k=b.config.stroke.dashArray;let D=0;D=Array.isArray(k)?k[t]:b.config.stroke.dashArray;const L=this.drawPath({d:S,stroke:a,strokeWidth:r,fill:c,fillOpacity:1,classes:p,strokeLinecap:o,strokeDashArray:D});L.attr("index",t),u&&("bar"===x&&!b.globals.isHorizontal||b.globals.comboCharts?L.attr({"clip-path":`url(#gridRectBarMask${b.globals.cuid})`}):L.attr({"clip-path":`url(#gridRectMask${b.globals.cuid})`})),b.config.chart.dropShadow.enabled&&m&&y.dropShadow(L,b.config.chart.dropShadow,t),f&&(L.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,L)),L.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,L)),L.node.addEventListener("mousedown",this.pathMouseDown.bind(this,L))),L.attr({pathTo:i,pathFrom:s});const M={el:L,j:e,realIndex:t,pathFrom:s,pathTo:i,fill:c,strokeWidth:r,delay:h};return!v||b.globals.resized||b.globals.dataChanged?!b.globals.resized&&b.globals.dataChanged||w.showDelayedElements():w.animatePathsGradually(l(n({},M),{speed:d})),b.globals.dataChanged&&A&&C&&w.animatePathsGradually(l(n({},M),{speed:g})),L}drawPattern(e,t,s,i="#a8a8a8",a=0){return this.w.dom.Paper.pattern(t,s,r=>{"horizontalLines"===e?r.line(0,0,s,0).stroke({color:i,width:a+1}):"verticalLines"===e?r.line(0,0,0,t).stroke({color:i,width:a+1}):"slantedLines"===e?r.line(0,0,t,s).stroke({color:i,width:a}):"squares"===e?r.rect(t,s).fill("none").stroke({color:i,width:a}):"circles"===e&&r.circle(t).fill("none").stroke({color:i,width:a})})}drawGradient(e,t,s,i,a,r=null,o=null,n=[],l=0){const c=this.w;let h;t.length<9&&0===t.indexOf("#")&&(t=b.hexToRgba(t,i)),s.length<9&&0===s.indexOf("#")&&(s=b.hexToRgba(s,a));let d=0,g=1,p=1,x=null;null!==o&&(d=void 0!==o[0]?o[0]/100:0,g=void 0!==o[1]?o[1]/100:1,p=void 0!==o[2]?o[2]/100:1,x=void 0!==o[3]?o[3]/100:null);const u=!("donut"!==c.config.chart.type&&"pie"!==c.config.chart.type&&"polarArea"!==c.config.chart.type&&"bubble"!==c.config.chart.type);if(h=n&&0!==n.length?c.dom.Paper.gradient(u?"radial":"linear",e=>{(Array.isArray(n[l])?n[l]:n).forEach(t=>{e.stop(t.offset/100,t.color,t.opacity)})}):c.dom.Paper.gradient(u?"radial":"linear",e=>{e.stop(d,t,i),e.stop(g,s,a),e.stop(p,s,a),null!==x&&e.stop(x,t,i)}),u){const e=c.layout.gridWidth/2,t=c.layout.gridHeight/2;"bubble"!==c.config.chart.type?h.attr({gradientUnits:"userSpaceOnUse",cx:e,cy:t,r:r}):h.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===e?h.from(0,0).to(0,1):"diagonal"===e?h.from(0,0).to(1,1):"horizontal"===e?h.from(0,1).to(1,1):"diagonal2"===e&&h.from(1,0).to(0,1);return h}getTextBasedOnMaxWidth({text:e,maxWidth:t,fontSize:s,fontFamily:i}){const a=this.getTextRects(e,s,i),r=a.width/e.length,o=Math.floor(t/r);return t<a.width?e.slice(0,o-3)+"...":e}drawText({x:e,y:t,text:s,textAnchor:i,fontSize:a,fontFamily:r,fontWeight:o,foreColor:l,opacity:c,maxWidth:h,cssClass:d="",isPlainText:g=!0,dominantBaseline:p="auto"}){const x=this.w;void 0===s&&(s="");let u=s;i||(i="start"),l&&l.length||(l=x.config.chart.foreColor),r=r||x.config.chart.fontFamily,o=o||"regular";const f={maxWidth:h,fontSize:a=a||"11px",fontFamily:r};let m;return Array.isArray(s)?m=x.dom.Paper.text(e=>{for(let t=0;t<s.length;t++)u=s[t],h&&(u=this.getTextBasedOnMaxWidth(n({text:s[t]},f))),0===t?e.tspan(u):e.tspan(u).newLine()}):(h&&(u=this.getTextBasedOnMaxWidth(n({text:s},f))),m=g?x.dom.Paper.plain(s):x.dom.Paper.text(e=>e.tspan(u))),m.attr({x:e,y:t,"text-anchor":i,"dominant-baseline":p,"font-size":a,"font-family":r,"font-weight":o,fill:l,class:"apexcharts-text "+d}),m.node.style.fontFamily=r,m.node.style.opacity=c,m}getMarkerPath(e,t,s,i){let a="";switch(s){case"cross":a=`M ${e-(i/=1.4)} ${t-i} L ${e+i} ${t+i}  M ${e-i} ${t+i} L ${e+i} ${t-i}`;break;case"plus":a=`M ${e-(i/=1.12)} ${t} L ${e+i} ${t}  M ${e} ${t-i} L ${e} ${t+i}`;break;case"star":case"sparkle":{let r=5;i*=1.15,"sparkle"===s&&(i/=1.1,r=4);const o=Math.PI/r;for(let s=0;s<=2*r;s++){const r=s*o,n=s%2==0?i:i/2;a+=(0===s?"M":"L")+(e+n*Math.sin(r))+","+(t-n*Math.cos(r))}a+="Z";break}case"triangle":a=`M ${e} ${t-i} \n             L ${e+i} ${t+i} \n             L ${e-i} ${t+i} \n             Z`;break;case"square":case"rect":a=`M ${e-(i/=1.125)} ${t-i} \n           L ${e+i} ${t-i} \n           L ${e+i} ${t+i} \n           L ${e-i} ${t+i} \n           Z`;break;case"diamond":a=`M ${e} ${t-(i*=1.05)} \n             L ${e+i} ${t} \n             L ${e} ${t+i} \n             L ${e-i} ${t} \n            Z`;break;case"line":a=`M ${e-(i/=1.1)} ${t} \n           L ${e+i} ${t}`;break;default:a=`M ${e}, ${t} \n           m -${(i*=2)/2}, 0 \n           a ${i/2},${i/2} 0 1,0 ${i},0 \n           a ${i/2},${i/2} 0 1,0 -${i},0`}return a}drawMarkerShape(e,t,s,i,a){const r=this.drawPath({d:this.getMarkerPath(e,t,s,i,a),stroke:a.pointStrokeColor,strokeDashArray:a.pointStrokeDashArray,strokeWidth:a.pointStrokeWidth,fill:a.pointFillColor,fillOpacity:a.pointFillOpacity,strokeOpacity:a.pointStrokeOpacity});return r.attr({cx:e,cy:t,shape:a.shape,class:a.class?a.class:""}),r}drawMarker(e,t,s){e=e||0;let i=s.pSize||0;return b.isNumber(t)||(i=0,t=0),this.drawMarkerShape(e,t,null==s?void 0:s.shape,i,n(n({},s),"line"===s.shape||"plus"===s.shape||"cross"===s.shape?{pointStrokeColor:s.pointFillColor,pointStrokeOpacity:s.pointFillOpacity}:{}))}pathMouseEnter(e,t){const s=this.w,i=new X(this.w),a=parseInt(e.node.getAttribute("index"),10),r=parseInt(e.node.getAttribute("j"),10);if("function"==typeof s.config.chart.events.dataPointMouseEnter&&s.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:a,dataPointIndex:r,w:s}),P._fireEvent(s,"dataPointMouseEnter",[t,this.ctx,{seriesIndex:a,dataPointIndex:r,w:s}]),("none"===s.config.states.active.filter.type||"true"!==e.node.getAttribute("selected"))&&"none"!==s.config.states.hover.filter.type&&!s.interact.isTouchDevice){const t=s.config.states.hover.filter;i.applyFilter(e,a,t.type)}}pathMouseLeave(e,t){const s=this.w,i=new X(this.w),a=parseInt(e.node.getAttribute("index"),10),r=parseInt(e.node.getAttribute("j"),10);"function"==typeof s.config.chart.events.dataPointMouseLeave&&s.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:a,dataPointIndex:r,w:s}),P._fireEvent(s,"dataPointMouseLeave",[t,this.ctx,{seriesIndex:a,dataPointIndex:r,w:s}]),"none"!==s.config.states.active.filter.type&&"true"===e.node.getAttribute("selected")||"none"!==s.config.states.hover.filter.type&&i.getDefaultFilter(e,a)}pathMouseDown(e,t){const s=this.w,i=new X(this.w),a=parseInt(e.node.getAttribute("index"),10),r=parseInt(e.node.getAttribute("j"),10);let o="false";if("true"===e.node.getAttribute("selected")){if(e.node.setAttribute("selected","false"),s.interact.selectedDataPoints[a].indexOf(r)>-1){const e=s.interact.selectedDataPoints[a].indexOf(r);s.interact.selectedDataPoints[a].splice(e,1)}}else{if(!s.config.states.active.allowMultipleDataPointsSelection&&s.interact.selectedDataPoints.length>0){s.interact.selectedDataPoints=[];const e=s.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),t=s.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),r=e=>{Array.prototype.forEach.call(e,e=>{e.node.setAttribute("selected","false"),i.getDefaultFilter(e,a)})};r(e),r(t)}e.node.setAttribute("selected","true"),o="true",void 0===s.interact.selectedDataPoints[a]&&(s.interact.selectedDataPoints[a]=[]),s.interact.selectedDataPoints[a].push(r)}if("true"===o){const t=s.config.states.active.filter;if("none"!==t)i.applyFilter(e,a,t.type);else if("none"!==s.config.states.hover.filter&&!s.interact.isTouchDevice){const t=s.config.states.hover.filter;i.applyFilter(e,a,t.type)}}else if("none"!==s.config.states.active.filter.type)if("none"===s.config.states.hover.filter.type||s.interact.isTouchDevice)i.getDefaultFilter(e,a);else{const t=s.config.states.hover.filter;i.applyFilter(e,a,t.type)}"function"==typeof s.config.chart.events.dataPointSelection&&s.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:s.interact.selectedDataPoints,seriesIndex:a,dataPointIndex:r,w:s}),t&&P._fireEvent(s,"dataPointSelection",[t,this.ctx,{selectedDataPoints:s.interact.selectedDataPoints,seriesIndex:a,dataPointIndex:r,w:s}])}rotateAroundCenter(e){let t={};e&&"function"==typeof e.getBBox&&(t=e.getBBox());return{x:t.x+t.width/2,y:t.y+t.height/2}}setupEventDelegation(e,t){let s=null;e.node.addEventListener("mouseover",i=>{const a=P._findDelegateTarget(i.target,e.node,t);a&&a!==s&&(s&&s.instance&&this.pathMouseLeave(s.instance,i),s=a,a.instance&&this.pathMouseEnter(a.instance,i))}),e.node.addEventListener("mouseout",i=>{if(!s)return;(i.relatedTarget?P._findDelegateTarget(i.relatedTarget,e.node,t):null)!==s&&(s&&s.instance&&this.pathMouseLeave(s.instance,i),s=null)}),e.node.addEventListener("mousedown",s=>{const i=P._findDelegateTarget(s.target,e.node,t);i&&i.instance&&this.pathMouseDown(i.instance,s)})}static _fireEvent(e,t,s){const i=e.globals.events;if(!i||!Object.prototype.hasOwnProperty.call(i,t))return;const a=i[t];for(let e=0;e<a.length;e++)a[e].apply(null,s)}static _findDelegateTarget(e,t,s){for(;e&&e!==t&&e!==document;){if(e.matches&&e.matches(s))return e;e=e.parentNode}return null}static setAttrs(e,t){for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.setAttribute(s,t[s])}getTextRects(e,t,s,i,a=!0){const r=this.w,o=`${e}|${t}|${s}|${i}|${a}`,n=r.globals.textRectsCache;if(n&&n.has(o))return n.get(o);const l=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:s,foreColor:"#fff",opacity:0});i&&l.attr("transform",i),r.dom.Paper.add(l);let c=l.bbox();a||(c=l.node.getBoundingClientRect()),l.remove();const h={width:c.width,height:c.height};return n&&n.set(o,h),h}placeTextWithEllipsis(e,t,s){if("function"==typeof e.getComputedTextLength&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=s/1.1)){for(let i=t.length-3;i>0;i-=3)if(e.getSubStringLength(0,i)<=s/1.1)return void(e.textContent=t.substring(0,i)+"...");e.textContent="."}}}const N="http://www.w3.org/2000/svg";class z{constructor(e,t){"object"==typeof e?(this.x=e.x,this.y=e.y):(this.x=e||0,this.y=t||0)}transform(e){return e.apply(this)}clone(){return new z(this.x,this.y)}}class H{constructor(e,t,s,i,a,r){this.a=null!=e?e:1,this.b=null!=t?t:0,this.c=null!=s?s:0,this.d=null!=i?i:1,this.e=null!=a?a:0,this.f=null!=r?r:0}rotate(e){const t=e*Math.PI/180,s=Math.cos(t),i=Math.sin(t);return this.multiply(new H(s,i,-i,s,0,0))}scale(e,t){return this.multiply(new H(e,0,0,null!=t?t:e,0,0))}multiply(e){return new H(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)}apply(e){return new z(this.a*e.x+this.c*e.y+this.e,this.b*e.x+this.d*e.y+this.f)}}class Y{constructor(e){this.w=e,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}clippedImgArea(e){const t=this.w,s=t.config,i=parseInt(t.layout.gridWidth,10),a=parseInt(t.layout.gridHeight,10),r=i>a?i:a,o=e.image;let n=0,l=0;void 0===e.width&&void 0===e.height?void 0!==s.fill.image.width&&void 0!==s.fill.image.height?(n=s.fill.image.width+1,l=s.fill.image.height):(n=r+1,l=r):(n=e.width,l=e.height);const c=m.createElementNS(N,"pattern");P.setAttrs(c,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:n+"px",height:l+"px"});const d=m.createElementNS(N,"image");c.appendChild(d);const g=h.isBrowser()?window.SVG:global.SVG;d.setAttributeNS(g.xlink,"href",o),P.setAttrs(d,{x:0,y:0,preserveAspectRatio:"none",width:n+"px",height:l+"px"}),d.style.opacity=e.opacity,t.dom.elDefs.node.appendChild(c)}getSeriesIndex(e){const t=this.w,s=t.config.chart.type;return("bar"===s||"rangeBar"===s)&&t.config.plotOptions.bar.distributed||"heatmap"===s||"treemap"===s?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.seriesData.series.length,this.seriesIndex}computeColorStops(e,t){const s=this.w;let i=null,a=null;for(const s of e)s>=t.threshold?(null===i||s>i)&&(i=s):(null===a||s<a)&&(a=s);null===i&&(i=t.threshold),null===a&&(a=t.threshold);let r=i-t.threshold+(t.threshold-a);0===r&&(r=1);let o=100-(t.threshold-a)/r*100;return o=Math.max(0,Math.min(o,100)),[{offset:o,color:t.colorAboveThreshold,opacity:s.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:s.config.fill.opacity}]}fillPath(e){var t,s,i,a,r,o;const n=this.w;this.opts=e;const l=this.w.config;let c,h,d;this.seriesIndex=this.getSeriesIndex(e);const g=l.plotOptions.line.colors.colorAboveThreshold&&l.plotOptions.line.colors.colorBelowThreshold;let p=this.getFillColors()[this.seriesIndex];void 0!==n.seriesData.seriesColors[this.seriesIndex]&&(p=n.seriesData.seriesColors[this.seriesIndex]),"function"==typeof p&&(p=p({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:n}));const x=e.fillType?e.fillType:this.getFillType(this.seriesIndex);let u=Array.isArray(l.fill.opacity)?l.fill.opacity[this.seriesIndex]:l.fill.opacity;const f="gradient"===x||g;e.color&&(p=e.color),(null==(i=null==(s=null==(t=n.config.series[this.seriesIndex])?void 0:t.data)?void 0:s[e.dataPointIndex])?void 0:i.fillColor)&&(p=null==(o=null==(r=null==(a=n.config.series[this.seriesIndex])?void 0:a.data)?void 0:r[e.dataPointIndex])?void 0:o.fillColor),p||(p="#fff"),b.isCSSVariable(p)&&(p=b.getThemeColor(p));let m=p;if(-1===p.indexOf("rgb")?-1===p.indexOf("#")?m=p:p.length<9&&(m=b.hexToRgba(p,u)):p.indexOf("rgba")>-1?u=b.getOpacityFromRGBA(p):m=b.hexToRgba(b.rgb2hex(p),u),e.opacity&&(u=e.opacity),"pattern"===x&&(h=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:h,fillColor:p,fillOpacity:u,defaultColor:m})),f){const t=l.fill.gradient.colorStops?[...l.fill.gradient.colorStops]:[];let s=l.fill.gradient.type;g&&(t[this.seriesIndex]=this.computeColorStops(n.seriesData.series[this.seriesIndex],l.plotOptions.line.colors),s="vertical"),d=this.handleGradientFill({type:s,fillConfig:e.fillConfig,fillColor:p,fillOpacity:u,colorStops:t,i:this.seriesIndex})}if("image"===x){const t=l.fill.image.src,s=e.patternID?e.patternID:"",i=`pattern${n.globals.cuid}${e.seriesNumber+1}${s}`;-1===this.patternIDs.indexOf(i)&&(this.clippedImgArea({opacity:u,image:Array.isArray(t)?e.seriesNumber<t.length?t[e.seriesNumber]:t[0]:t,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:i}),this.patternIDs.push(i)),c=`url(#${i})`}else c=f?d:"pattern"===x?h:m;return e.solid&&(c=m),c}getFillType(e){const t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}getFillColors(){const e=this.w,t=e.config,s=this.opts;let i=[];return e.globals.comboCharts?"line"===e.config.series[this.seriesIndex].type?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors):"line"===t.chart.type?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors),void 0!==s.fillColors&&(i=[],Array.isArray(s.fillColors)?i=s.fillColors.slice():i.push(s.fillColors)),i}handlePatternFill({fillConfig:e,patternFill:t,fillColor:s,fillOpacity:i,defaultColor:a}){let r=this.w.config.fill;e&&(r=e);const o=this.opts,n=new P(this.w),l=Array.isArray(r.pattern.strokeWidth)?r.pattern.strokeWidth[this.seriesIndex]:r.pattern.strokeWidth,c=s;if(Array.isArray(r.pattern.style))if(void 0!==r.pattern.style[o.seriesNumber]){t=n.drawPattern(r.pattern.style[o.seriesNumber],r.pattern.width,r.pattern.height,c,l,i)}else t=a;else t=n.drawPattern(r.pattern.style,r.pattern.width,r.pattern.height,c,l,i);return t}handleGradientFill({type:e,fillColor:t,fillOpacity:s,fillConfig:i,colorStops:a,i:r}){let o=this.w.config.fill;i&&(o=n(n({},o),i));const l=this.opts,c=new P(this.w),h=new b;e=e||o.gradient.type;let d,g=t,p=void 0===o.gradient.opacityFrom?s:Array.isArray(o.gradient.opacityFrom)?o.gradient.opacityFrom[r]:o.gradient.opacityFrom;g.indexOf("rgba")>-1&&(p=b.getOpacityFromRGBA(g));let x=void 0===o.gradient.opacityTo?s:Array.isArray(o.gradient.opacityTo)?o.gradient.opacityTo[r]:o.gradient.opacityTo;if(void 0===o.gradient.gradientToColors||0===o.gradient.gradientToColors.length)d="dark"===o.gradient.shade?h.shadeColor(-1*parseFloat(o.gradient.shadeIntensity),t.indexOf("rgb")>-1?b.rgb2hex(t):t):h.shadeColor(parseFloat(o.gradient.shadeIntensity),t.indexOf("rgb")>-1?b.rgb2hex(t):t);else if(o.gradient.gradientToColors[l.seriesNumber]){const e=o.gradient.gradientToColors[l.seriesNumber];d=e,e.indexOf("rgba")>-1&&(x=b.getOpacityFromRGBA(e))}else d=t;if(o.gradient.gradientFrom&&(g=o.gradient.gradientFrom),o.gradient.gradientTo&&(d=o.gradient.gradientTo),o.gradient.inverseColors){const e=g;g=d,d=e}return g.indexOf("rgb")>-1&&(g=b.rgb2hex(g)),d.indexOf("rgb")>-1&&(d=b.rgb2hex(d)),c.drawGradient(e,g,d,p,x,l.size,o.gradient.stops,a,r)}}class O{constructor(e,t){this.w=e,this.ctx=t,this._filters=new X(this.w),this._graphics=new P(this.w,this.ctx)}setGlobalMarkerSize(){const e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.seriesData.series.length+1)for(let t=0;t<=e.seriesData.series.length;t++)void 0===e.globals.markers.size[t]&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(()=>e.config.markers.size)}plotChartMarkers({pointsPos:e,seriesIndex:t,j:s,pSize:i,alwaysDrawMarker:a=!1,isVirtualPoint:r=!1}){const o=this.w,n=t,l=e;let c=null;const h=new P(this.w),d=o.config.markers.discrete&&o.config.markers.discrete.length;if(Array.isArray(l.x))for(let e=0;e<l.x.length;e++){let g,p=s,x=!b.isNumber(l.y[e]);0===o.globals.markers.largestSize&&o.globals.hasNullValues&&null!==o.seriesData.series[n][s+1]&&!r&&(x=!0),1===s&&0===e&&(p=0),1===s&&1===e&&(p=1);let u="apexcharts-marker";"line"!==o.config.chart.type&&"area"!==o.config.chart.type||o.globals.comboCharts||o.config.tooltip.intersect||(u+=" no-pointer-events");if((Array.isArray(o.config.markers.size)?o.globals.markers.size[t]>0:o.config.markers.size>0)||a||d){x||(u+=` w${b.randomId()}`);const s=this.getMarkerConfig({cssClass:u,seriesIndex:t,dataPointIndex:p});if(o.config.series[n].data[p]&&(o.config.series[n].data[p].fillColor&&(s.pointFillColor=o.config.series[n].data[p].fillColor),o.config.series[n].data[p].strokeColor&&(s.pointStrokeColor=o.config.series[n].data[p].strokeColor)),void 0!==i&&(s.pSize=i),(l.x[e]<-o.globals.markers.largestSize||l.x[e]>o.layout.gridWidth+o.globals.markers.largestSize||l.y[e]<-o.globals.markers.largestSize||l.y[e]>o.layout.gridHeight+o.globals.markers.largestSize)&&(s.pSize=0),!x){(o.globals.markers.size[t]>0||a||d)&&!c&&(c=h.group({class:a||d?"":"apexcharts-series-markers"}),c.attr("clip-path",`url(#gridRectMarkerMask${o.globals.cuid})`),this.setupMarkerDelegation(c)),g=h.drawMarker(l.x[e],l.y[e],s),g.attr("rel",p),g.attr("j",p),g.attr("index",t),g.node.setAttribute("default-marker-size",s.pSize),this._filters.setSelectionFilter(g,t,p),c&&c.add(g)}}else void 0===o.globals.pointsArray[t]&&(o.globals.pointsArray[t]=[]),o.globals.pointsArray[t].push([l.x[e],l.y[e]])}return c}getMarkerConfig({cssClass:e,seriesIndex:t,dataPointIndex:s=null,radius:i=null,size:a=null,strokeWidth:r=null}){const o=this.w,n=this.getMarkerStyle(t);let l=null===a?o.globals.markers.size[t]:a;const c=o.config.markers;return null!==s&&c.discrete.length&&c.discrete.map(e=>{e.seriesIndex===t&&e.dataPointIndex===s&&(n.pointStrokeColor=e.strokeColor,n.pointFillColor=e.fillColor,l=e.size,n.pointShape=e.shape)}),{pSize:null===i?l:i,pRadius:null!==i?i:c.radius,pointStrokeWidth:null!==r?r:Array.isArray(c.strokeWidth)?c.strokeWidth[t]:c.strokeWidth,pointStrokeColor:n.pointStrokeColor,pointFillColor:n.pointFillColor,shape:n.pointShape||(Array.isArray(c.shape)?c.shape[t]:c.shape),class:e,pointStrokeOpacity:Array.isArray(c.strokeOpacity)?c.strokeOpacity[t]:c.strokeOpacity,pointStrokeDashArray:Array.isArray(c.strokeDashArray)?c.strokeDashArray[t]:c.strokeDashArray,pointFillOpacity:Array.isArray(c.fillOpacity)?c.fillOpacity[t]:c.fillOpacity,seriesIndex:t}}setupMarkerDelegation(e){const t=this.w,s=".apexcharts-marker";this._graphics.setupEventDelegation(e,s),e.node.addEventListener("click",i=>{if(t.config.markers.onClick){P._findDelegateTarget(i.target,e.node,s)&&t.config.markers.onClick(i)}}),e.node.addEventListener("dblclick",i=>{if(t.config.markers.onDblClick){P._findDelegateTarget(i.target,e.node,s)&&t.config.markers.onDblClick(i)}}),e.node.addEventListener("touchstart",t=>{const i=P._findDelegateTarget(t.target,e.node,s);i&&i.instance&&this._graphics.pathMouseDown(i.instance,t)},{passive:!0})}addEvents(e){const t=this.w;e.node.addEventListener("mouseenter",this._graphics.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",this._graphics.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",this._graphics.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",this._graphics.pathMouseDown.bind(this.ctx,e),{passive:!0})}getMarkerStyle(e){const t=this.w,s=t.globals.markers.colors,i=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(i)?i[e]:i,pointFillColor:Array.isArray(s)?s[e]:s}}}class R{constructor(e,t){this.ctx=t,this.w=e,this.initialAnim=this.w.config.chart.animations.enabled,this.anim=new I(this.w),this.filters=new X(this.w),this.fill=new Y(this.w),this.markers=new O(this.w,this.ctx),this.graphics=new P(this.w)}draw(e,t,s){const i=this.w,a=this.graphics,r=s.realIndex,o=s.pointsPos,n=s.zRatio,l=s.elParent,c=a.group({class:`apexcharts-series-markers apexcharts-series-${i.config.chart.type}`});if(c.attr("clip-path",`url(#gridRectMarkerMask${i.globals.cuid})`),this.markers.setupMarkerDelegation(c),Array.isArray(o.x))for(let e=0;e<o.x.length;e++){let s=t+1,a=!0;0===t&&0===e&&(s=0),0===t&&1===e&&(s=1);let h=i.globals.markers.size[r];if(n!==1/0){const e=i.config.plotOptions.bubble;h=i.seriesData.seriesZ[r][s],e.zScaling&&(h/=n),e.minBubbleRadius&&h<e.minBubbleRadius&&(h=e.minBubbleRadius),e.maxBubbleRadius&&h>e.maxBubbleRadius&&(h=e.maxBubbleRadius)}const d=o.x[e],g=o.y[e];if(h=h||0,null!==g&&void 0!==i.seriesData.series[r][s]||(a=!1),a){const e=this.drawPoint(d,g,h,r,s,t);c.add(e)}l.add(c)}}drawPoint(e,t,s,i,a,r){const o=this.w,n=i,l=this.anim,c=this.filters,h=this.fill,d=this.markers,g=this.graphics,p=d.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:n,dataPointIndex:a,radius:"bubble"===o.config.chart.type||o.globals.comboCharts&&o.config.series[i]&&"bubble"===o.config.series[i].type?s:null});let x=h.fillPath({seriesNumber:i,dataPointIndex:a,color:p.pointFillColor,patternUnits:"objectBoundingBox",value:o.seriesData.series[i][r]});const u=g.drawMarker(e,t,p);if(o.config.series[n].data[a]&&o.config.series[n].data[a].fillColor&&(x=o.config.series[n].data[a].fillColor),u.attr({fill:x}),o.config.chart.dropShadow.enabled){const e=o.config.chart.dropShadow;c.dropShadow(u,e,i)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{const e=o.config.chart.animations.speed;l.animateMarker(u,e,o.globals.easing,()=>{window.setTimeout(()=>{l.animationCompleted(u)},100)})}return u.attr({rel:a,j:a,index:i,"default-marker-size":p.pSize}),c.setSelectionFilter(u,i,a),u.node.classList.add("apexcharts-marker"),u}centerTextInBubble(e){const t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}class B{constructor(e,t=null){this.w=e,this.ctx=t}dataLabelsCorrection(e,t,s,i,a,r,o){const n=this.w;let l=!1;const c=new P(this.w).getTextRects(s,o),h=c.width,d=c.height;t<0&&(t=0),t>n.layout.gridHeight+d&&(t=n.layout.gridHeight+d/2),void 0===n.globals.dataLabelsRects[i]&&(n.globals.dataLabelsRects[i]=[]),n.globals.dataLabelsRects[i].push({x:e,y:t,width:h,height:d});const g=n.globals.dataLabelsRects[i].length-2,p=void 0!==n.globals.lastDrawnDataLabelsIndexes[i]?n.globals.lastDrawnDataLabelsIndexes[i][n.globals.lastDrawnDataLabelsIndexes[i].length-1]:0;if(void 0!==n.globals.dataLabelsRects[i][g]){const s=n.globals.dataLabelsRects[i][p];(e>s.x+s.width||t>s.y+s.height||t+d<s.y||e+h<s.x)&&(l=!0)}return(0===a||r)&&(l=!0),{x:e,y:t,textRects:c,drawnextLabel:l}}drawDataLabel({type:e,pos:t,i:s,j:i,isRangeStart:a,strokeWidth:r=2}){const o=this.w,n=new P(this.w),l=o.config.dataLabels;let c=0,h=0,d=i,g=null;if(-1!==o.globals.collapsedSeriesIndices.indexOf(s)||!l.enabled||!Array.isArray(t.x))return g;g=n.group({class:"apexcharts-data-labels"});for(let n=0;n<t.x.length;n++)if(c=t.x[n]+l.offsetX,h=t.y[n]+l.offsetY+r,!isNaN(c)){1===i&&0===n&&(d=0),1===i&&1===n&&(d=1);let r=o.seriesData.series[s][d];"rangeArea"===e&&(r=a?o.rangeData.seriesRangeStart[s][d]:o.rangeData.seriesRangeEnd[s][d]);let l="";const p=e=>o.config.dataLabels.formatter(e,{seriesIndex:s,dataPointIndex:d,w:o});if("bubble"===o.config.chart.type){r=o.seriesData.seriesZ[s][d],l=p(r),h=t.y[n];h=new R(this.w,this.ctx).centerTextInBubble(h,s,d).y}else void 0!==r&&(l=p(r));let x=o.config.dataLabels.textAnchor;o.globals.isSlopeChart&&(x=0===d?"end":d===o.config.series[s].data.length-1?"start":"middle"),this.plotDataLabelsText({x:c,y:h,text:l,i:s,j:d,parent:g,offsetCorrection:!0,dataLabelsConfig:o.config.dataLabels,textAnchor:x})}return g}plotDataLabelsText(e){const t=this.w,s=new P(this.w);let{x:i,y:a,i:r,j:o,text:n,textAnchor:l,fontSize:c,parent:h,dataLabelsConfig:d,color:g,alwaysDrawDataLabel:p,offsetCorrection:x,className:u}=e,f=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(r)<0)return f;let m={x:i,y:a,drawnextLabel:!0,textRects:null};x&&(m=this.dataLabelsCorrection(i,a,n,r,o,p,parseInt(d.style.fontSize,10))),t.interact.zoomed||(i=m.x,a=m.y),m.textRects&&(i<-20-m.textRects.width||i>t.layout.gridWidth+m.textRects.width+30)&&(n="");let b=t.globals.dataLabels.style.colors[r];(("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(b=t.globals.dataLabels.style.colors[o]),"function"==typeof b&&(b=b({series:t.seriesData.series,seriesIndex:r,dataPointIndex:o,w:t})),g&&(b=g);let y=d.offsetX,w=d.offsetY;if("bar"!==t.config.chart.type&&"rangeBar"!==t.config.chart.type||(y=0,w=0),t.globals.isSlopeChart&&(0!==o&&(y=-2*d.offsetX+5),0!==o&&o!==t.config.series[r].data.length-1&&(y=0)),m.drawnextLabel){if("middle"===l&&i===t.layout.gridWidth&&(l="end"),f=s.drawText({width:100,height:parseInt(d.style.fontSize,10),x:i+y,y:a+w,foreColor:b,textAnchor:l||d.textAnchor,text:n,fontSize:c||d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight||"normal"}),f.attr({class:u||"apexcharts-datalabel",cx:i,cy:a}),d.dropShadow.enabled){const e=d.dropShadow;new X(this.w).dropShadow(f,e)}h.add(f),void 0===t.globals.lastDrawnDataLabelsIndexes[r]&&(t.globals.lastDrawnDataLabelsIndexes[r]=[]),t.globals.lastDrawnDataLabelsIndexes[r].push(o)}return f}addBackgroundToDataLabel(e,t){const s=this.w,i=s.config.dataLabels.background,a=i.padding,r=i.padding/2,o=t.width,n=t.height,l=new P(this.w).drawRect(t.x-a,t.y-r/2,o+2*a,n+r,i.borderRadius,"transparent"!==s.config.chart.background&&s.config.chart.background?s.config.chart.background:"#fff",i.opacity,i.borderWidth,i.borderColor);if(i.dropShadow.enabled){new X(this.w).dropShadow(l,i.dropShadow)}return l}dataLabelsBackground(){const e=this.w;if("bubble"===e.config.chart.type)return;const t=e.dom.baseEl.querySelectorAll(".apexcharts-datalabels text");for(let s=0;s<t.length;s++){const i=t[s],a=i.getBBox();let r=null;if(a.width&&a.height&&(r=this.addBackgroundToDataLabel(i,a)),r){i.parentNode.insertBefore(r.node,i);const t=e.config.dataLabels.background.backgroundColor||i.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?r.animate().attr({fill:t}):r.attr({fill:t}),i.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}bringForward(){const e=this.w,t=e.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),s=e.dom.baseEl.querySelector(".apexcharts-plot-series:last-child");for(let e=0;e<t.length;e++)s&&s.insertBefore(t[e],s.nextSibling)}}class W{constructor(e,{theme:t=null,timeScale:s=null}={}){this.w=e,this.theme=t,this.timeScale=s}getLabel(e,t,s,i,a=[],r="12px",o=!0){const n=this.w,l=void 0===e[i]?"":e[i];let c=l;const h=n.formatters.xLabelFormatter,d=n.config.xaxis.labels.formatter;let g=!1;const p=new w(this.w),x=l;o&&(c=p.xLabelFormat(h,l,x,{i:i,dateFormatter:new y(this.w).formatDate,w:n}),void 0!==d&&(c=d(l,e[i],{i:i,dateFormatter:new y(this.w).formatDate,w:n})));t.length>0?(g=(e=>{let s=null;return t.forEach(e=>{"month"===e.unit?s="year":"day"===e.unit?s="month":"hour"===e.unit?s="day":"minute"===e.unit&&(s="hour")}),s===e})(t[i].unit),s=t[i].position,c=t[i].value):"datetime"===n.config.xaxis.type&&void 0===d&&(c=""),void 0===c&&(c=""),c=Array.isArray(c)?c:c.toString();const u=new P(this.w);let f={};f=n.layout.rotateXLabels&&o?u.getTextRects(c,parseInt(r,10),null,`rotate(${n.config.xaxis.labels.rotate} 0 0)`,!1):u.getTextRects(c,parseInt(r,10));const m=!n.config.xaxis.labels.showDuplicates&&this.timeScale;return!Array.isArray(c)&&("NaN"===String(c)||a.indexOf(c)>=0&&m)&&(c=""),{x:s,text:c,textRect:f,isBold:g}}checkLabelBasedOnTickamount(e,t,s){const i=this.w;let a=i.config.xaxis.tickAmount;if("dataPoints"===a&&(a=Math.round(i.layout.gridWidth/120)),a>s)return t;return e%Math.round(s/(a+1))===0||(t.text=""),t}checkForOverflowingLabels(e,t,s,i,a){const r=this.w;if(0===e&&r.globals.skipFirstTimelinelabel&&(t.text=""),e===s-1&&r.globals.skipLastTimelinelabel&&(t.text=""),r.config.xaxis.labels.hideOverlappingLabels&&i.length>0){const e=a[a.length-1];if(r.config.xaxis.labels.trim&&"datetime"!==r.config.xaxis.type)return t;t.x<e.textRect.width/(r.layout.rotateXLabels?Math.abs(r.config.xaxis.labels.rotate)/12:1.01)+e.x&&(t.text="")}return t}checkForReversedLabels(e,t){const s=this.w;return s.config.yaxis[e]&&s.config.yaxis[e].reversed&&t.reverse(),t}yAxisAllSeriesCollapsed(e){const t=this.w.globals;return!t.seriesYAxisMap[e].some(e=>-1===t.collapsedSeriesIndices.indexOf(e))}translateYAxisIndex(e){const t=this.w,s=t.globals,i=t.config.yaxis;return t.seriesData.series.length>i.length||i.some(e=>Array.isArray(e.seriesName))?e:s.seriesYAxisReverseMap[e]}isYAxisHidden(e){const t=this.w,s=t.config.yaxis[e];if(!s.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!s.showForNullSeries){const s=t.globals.seriesYAxisMap[e],i=new F(this.w);return s.every(e=>i.isSeriesNull(e))}return!1}getYAxisForeColor(e,t){var s;const i=this.w;return Array.isArray(e)&&i.globals.yAxisScale[t]&&(null==(s=this.theme)||s.pushExtraColors(e,i.globals.yAxisScale[t].result.length,!1)),e}drawYAxisTicks(e,t,s,i,a,r,o){const n=this.w,l=new P(this.w);let c=n.layout.translateY+n.config.yaxis[a].labels.offsetY;if(n.globals.isBarHorizontal?c=0:"heatmap"===n.config.chart.type&&(c+=r/2),i.show&&t>0){!0===n.config.yaxis[a].opposite&&(e+=i.width);for(let a=t;a>=0;a--){const t=l.drawLine(e+s.offsetX-i.width+i.offsetX,c+i.offsetY,e+s.offsetX+i.offsetX,c+i.offsetY,i.color);o.add(t),c+=r}}}}class _{constructor(e,t,s){this.w=e,this.ctx=t,this.elgrid=s,this.axesUtils=new W(e,{theme:t.theme,timeScale:t.timeScale}),this.xaxisLabels=e.labelData.labels.slice(),e.labelData.timescaleLabels.length>0&&!e.globals.isBarHorizontal&&(this.xaxisLabels=e.labelData.timescaleLabels.slice()),e.config.xaxis.overwriteCategories&&(this.xaxisLabels=e.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===e.config.xaxis.position?this.offY=0:this.offY=e.layout.gridHeight,this.offY=this.offY+e.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===e.config.chart.type&&e.config.plotOptions.bar.horizontal,this.xaxisFontSize=e.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=e.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=e.config.xaxis.labels.style.colors,this.xaxisBorderWidth=e.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=e.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=e.layout.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=e.config.xaxis.axisBorder.height,this.yaxis=e.config.yaxis[0]}drawXaxis(){const e=this.w,t=new P(this.w),s=t.group({class:"apexcharts-xaxis",transform:`translate(${e.config.xaxis.offsetX}, ${e.config.xaxis.offsetY})`}),i=t.group({class:"apexcharts-xaxis-texts-g",transform:`translate(${e.layout.translateXAxisX}, ${e.layout.translateXAxisY})`});s.add(i);let a=[];for(let e=0;e<this.xaxisLabels.length;e++)a.push(this.xaxisLabels[e]);if(this.drawXAxisLabelAndGroup(!0,t,i,a,e.axisFlags.isXNumeric,(e,t)=>t),e.labelData.hasXaxisGroups){const s=e.labelData.groups;a=[];for(let e=0;e<s.length;e++)a.push(s[e].title);const r={};e.config.xaxis.group.style&&(r.xaxisFontSize=e.config.xaxis.group.style.fontSize,r.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,r.xaxisForeColors=e.config.xaxis.group.style.colors,r.fontWeight=e.config.xaxis.group.style.fontWeight,r.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,i,a,!1,(e,t)=>s[e].cols*t,r)}if(void 0!==e.config.xaxis.title.text){const i=t.group({class:"apexcharts-xaxis-title"}),a=t.drawText({x:e.layout.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===e.config.xaxis.position?e.layout.xAxisLabelsHeight:-e.layout.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});i.add(a),s.add(i)}if(e.config.xaxis.axisBorder.show){const i=e.globals.barPadForNumericAxis,a=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-i,this.offY,this.xaxisBorderWidth+i,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(a):s.add(a)}return s}drawXAxisLabelAndGroup(e,t,s,i,a,r,o={}){const n=[],l=[],c=this.w,h=o.xaxisFontSize||this.xaxisFontSize,d=o.xaxisFontFamily||this.xaxisFontFamily,g=o.xaxisForeColors||this.xaxisForeColors,p=o.fontWeight||c.config.xaxis.labels.style.fontWeight,x=o.cssClass||c.config.xaxis.labels.style.cssClass;let u,f=c.globals.padHorizontal;const b=i.length;let y="category"===c.config.xaxis.type?c.globals.dataPoints:b;if(0===y&&b>y&&(y=b),a){const e=Math.max(Number(c.config.xaxis.tickAmount)||1,y>1?y-1:y);u=c.layout.gridWidth/Math.min(e,b-1),f=f+r(0,u)/2+c.config.xaxis.labels.offsetX}else u=c.layout.gridWidth/y,f=f+r(0,u)+c.config.xaxis.labels.offsetX;for(let a=0;a<=b-1;a++){let o=f-r(a,u)/2+c.config.xaxis.labels.offsetX;0===a&&1===b&&u/2===f&&1===y&&(o=c.layout.gridWidth/2);let w=this.axesUtils.getLabel(i,c.labelData.timescaleLabels,o,a,n,h,e),v=28;c.layout.rotateXLabels&&e&&(v=22),c.config.xaxis.title.text&&"top"===c.config.xaxis.position&&(v+=parseFloat(c.config.xaxis.title.style.fontSize)+2),e||(v=v+parseFloat(h)+(c.layout.xAxisLabelsHeight-c.layout.xAxisGroupLabelsHeight)+(c.layout.rotateXLabels?10:0));w=void 0!==c.config.xaxis.tickAmount&&"dataPoints"!==c.config.xaxis.tickAmount&&"datetime"!==c.config.xaxis.type?this.axesUtils.checkLabelBasedOnTickamount(a,w,b):this.axesUtils.checkForOverflowingLabels(a,w,b,n,l);const A=()=>e&&c.config.xaxis.convertedCatToNumeric?g[c.globals.minX+a-1]:g[a];if(c.config.xaxis.labels.show){const i=t.drawText({x:w.x,y:this.offY+c.config.xaxis.labels.offsetY+v-("top"===c.config.xaxis.position?c.layout.xAxisHeight+c.config.xaxis.axisTicks.height-2:0),text:w.text,textAnchor:"middle",fontWeight:w.isBold?600:p,fontSize:h,fontFamily:d,foreColor:Array.isArray(g)?A():g,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+x});if(s.add(i),i.on("click",e=>{if("function"==typeof c.config.chart.events.xAxisLabelClick){const t=Object.assign({},c,{labelIndex:a});c.config.chart.events.xAxisLabelClick(e,this.ctx,t)}}),e){const e=m.createElementNS(N,"title");e.textContent=Array.isArray(w.text)?w.text.join(" "):w.text,i.node.appendChild(e),""!==w.text&&(n.push(w.text),l.push(w))}}a<b-1&&(f+=r(a+1,u))}}drawXaxisInversed(e){const t=this.w,s=new P(this.w),i=t.config.yaxis[0].opposite?t.globals.translateYAxisX[e]:0,a=s.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),r=s.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+i+", 0)"});a.add(r);const o=[];if(t.config.yaxis[e].show)for(let e=0;e<this.xaxisLabels.length;e++)o.push(this.xaxisLabels[e]);const n=t.layout.gridHeight/o.length;let l=-n/2.2;const c=t.formatters.yLabelFormatters[0],h=t.config.yaxis[0].labels;if(h.show)for(let i=0;i<=o.length-1;i++){let a=void 0===o[i]?"":o[i];a=c(a,{seriesIndex:e,dataPointIndex:i,w:t});const d=this.axesUtils.getYAxisForeColor(h.style.colors,e),g=()=>Array.isArray(d)?d[i]:d;let p=0;Array.isArray(a)&&(p=a.length/2*parseInt(h.style.fontSize,10));let x=h.offsetX-15,u="end";this.yaxis.opposite&&(u="start"),"left"===t.config.yaxis[0].labels.align?(x=h.offsetX,u="start"):"center"===t.config.yaxis[0].labels.align?(x=h.offsetX,u="middle"):"right"===t.config.yaxis[0].labels.align&&(u="end");const f=s.drawText({x:x,y:l+n+h.offsetY-p,text:a,textAnchor:u,foreColor:g(),fontSize:h.style.fontSize,fontFamily:h.style.fontFamily,fontWeight:h.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+h.style.cssClass,maxWidth:h.maxWidth});r.add(f),f.on("click",e=>{if("function"==typeof t.config.chart.events.xAxisLabelClick){const s=Object.assign({},t,{labelIndex:i});t.config.chart.events.xAxisLabelClick(e,this.ctx,s)}});const b=m.createElementNS(N,"title");if(b.textContent=Array.isArray(a)?a.join(" "):a,f.node.appendChild(b),0!==t.config.yaxis[e].labels.rotate){const i=s.rotateAroundCenter(f.node);f.node.setAttribute("transform",`rotate(${t.config.yaxis[e].labels.rotate} 0 ${i.y})`)}l+=n}if(void 0!==t.config.yaxis[0].title.text){const e=s.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+i+", 0)"}),r=s.drawText({x:t.config.yaxis[0].title.offsetX,y:t.layout.gridHeight/2+t.config.yaxis[0].title.offsetY,text:t.config.yaxis[0].title.text,textAnchor:"middle",foreColor:t.config.yaxis[0].title.style.color,fontSize:t.config.yaxis[0].title.style.fontSize,fontWeight:t.config.yaxis[0].title.style.fontWeight,fontFamily:t.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+t.config.yaxis[0].title.style.cssClass});e.add(r),a.add(e)}let d=0;this.isCategoryBarHorizontal&&t.config.yaxis[0].opposite&&(d=t.layout.gridWidth);const g=t.config.xaxis.axisBorder;if(g.show){const e=s.drawLine(t.globals.padHorizontal+g.offsetX+d,1+g.offsetY,t.globals.padHorizontal+g.offsetX+d,t.layout.gridHeight+g.offsetY,g.color,0);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(e):a.add(e)}return t.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(d,o.length,t.config.yaxis[0].axisBorder,t.config.yaxis[0].axisTicks,0,n,a),a}drawXaxisTicks(e,t,s){const i=this.w,a=e;if(e<0||e-2>i.layout.gridWidth)return;const r=this.offY+i.config.xaxis.axisTicks.offsetY;if(t=t+r+i.config.xaxis.axisTicks.height,"top"===i.config.xaxis.position&&(t=r-i.config.xaxis.axisTicks.height),i.config.xaxis.axisTicks.show){const o=new P(this.w).drawLine(e+i.config.xaxis.axisTicks.offsetX,r+i.config.xaxis.offsetY,a+i.config.xaxis.axisTicks.offsetX,t+i.config.xaxis.offsetY,i.config.xaxis.axisTicks.color);s.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}getXAxisTicksPositions(){const e=this.w,t=[],s=this.xaxisLabels.length;let i=e.globals.padHorizontal;if(e.labelData.timescaleLabels.length>0)for(let e=0;e<s;e++)i=this.xaxisLabels[e].position,t.push(i);else{const a=s;for(let s=0;s<a;s++){let s=a;e.axisFlags.isXNumeric&&"bar"!==e.config.chart.type&&(s-=1),i+=e.layout.gridWidth/s,t.push(i)}}return t}xAxisLabelCorrections(){const e=this.w,t=new P(this.w),s=e.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),i=e.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),a=e.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),r=e.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.layout.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(let a=0;a<i.length;a++){const r=t.rotateAroundCenter(i[a]);r.y=r.y-1,r.x=r.x+1,i[a].setAttribute("transform",`rotate(${e.config.xaxis.labels.rotate} ${r.x} ${r.y})`),i[a].setAttribute("text-anchor","end"),s.setAttribute("transform","translate(0, -10)");const o=i[a].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(o,s=>{t.placeTextWithEllipsis(s,s.textContent,e.layout.xAxisLabelsHeight-("bottom"===e.config.legend.position?20:10))})}else{const s=e.layout.gridWidth/(e.labelData.labels.length+1);for(let a=0;a<i.length;a++){const r=i[a].childNodes;e.config.xaxis.labels.trim&&"datetime"!==e.config.xaxis.type&&Array.prototype.forEach.call(r,e=>{t.placeTextWithEllipsis(e,e.textContent,s)})}}if(a.length>0){const s=a[a.length-1].getBBox(),i=a[0].getBBox();s.x<-20&&a[a.length-1].parentNode.removeChild(a[a.length-1]),i.x+i.width>e.layout.gridWidth&&!e.globals.isBarHorizontal&&a[0].parentNode.removeChild(a[0]);for(let s=0;s<r.length;s++)t.placeTextWithEllipsis(r[s],r[s].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}class G{constructor(e,t){this.w=e,this.ctx=t,this.xaxisLabels=e.labelData.labels.slice(),this.axesUtils=new W(t.w,{theme:t.theme,timeScale:t.timeScale}),this.isRangeBar=e.rangeData.seriesRange.length&&e.globals.isBarHorizontal,e.labelData.timescaleLabels.length>0&&(this.xaxisLabels=e.labelData.timescaleLabels.slice())}drawGridArea(e=null){const t=this.w,s=new P(this.w);e||(e=s.group({class:"apexcharts-grid"}));const i=s.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.layout.gridHeight,"transparent"),a=s.drawLine(t.globals.padHorizontal,t.layout.gridHeight,t.layout.gridWidth,t.layout.gridHeight,"transparent");return e.add(a),e.add(i),e}drawGrid(){if(this.w.globals.axisCharts){const e=this.renderGrid();return this.drawGridArea(e.el),e}return null}createGridMask(){const e=this.w,t=e.globals,s=new P(this.w),i=Array.isArray(e.config.stroke.width)?Math.max(...e.config.stroke.width):e.config.stroke.width,a=e=>{const t=m.createElementNS(N,"clipPath");return t.setAttribute("id",e),t};e.dom.elGridRectMask=a(`gridRectMask${t.cuid}`),e.dom.elGridRectBarMask=a(`gridRectBarMask${t.cuid}`),e.dom.elGridRectMarkerMask=a(`gridRectMarkerMask${t.cuid}`),e.dom.elForecastMask=a(`forecastMask${t.cuid}`),e.dom.elNonForecastMask=a(`nonForecastMask${t.cuid}`);let r=0,o=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.axisFlags.isXNumeric&&!e.globals.isBarHorizontal&&(r=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),o=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),e.dom.elGridRect=s.drawRect(-i/2-2,-i/2-2,e.layout.gridWidth+i+4,e.layout.gridHeight+i+4,0,"#fff"),e.dom.elGridRectBar=s.drawRect(-i/2-r-2,-i/2-2,e.layout.gridWidth+i+o+r+4,e.layout.gridHeight+i+4,0,"#fff");const n=e.globals.markers.largestSize;e.dom.elGridRectMarker=s.drawRect(Math.min(-i/2-r-2,-n),-n,e.layout.gridWidth+Math.max(i+o+r+4,2*n),e.layout.gridHeight+2*n,0,"#fff"),e.dom.elGridRectMask.appendChild(e.dom.elGridRect.node),e.dom.elGridRectBarMask.appendChild(e.dom.elGridRectBar.node),e.dom.elGridRectMarkerMask.appendChild(e.dom.elGridRectMarker.node);const l=e.dom.elDefs.node;l.appendChild(e.dom.elGridRectMask),l.appendChild(e.dom.elGridRectBarMask),l.appendChild(e.dom.elGridRectMarkerMask),l.appendChild(e.dom.elForecastMask),l.appendChild(e.dom.elNonForecastMask)}_drawGridLines({i:e,x1:t,y1:s,x2:i,y2:a,xCount:r,parent:o}){const n=this.w;if(!(0===e&&n.globals.skipFirstTimelinelabel||e===r-1&&n.globals.skipLastTimelinelabel&&!n.config.xaxis.labels.formatter||"radar"===n.config.chart.type)){n.config.grid.xaxis.lines.show&&this._drawGridLine({i:e,x1:t,y1:s,x2:i,y2:a,xCount:r,parent:o});let l=0;if(n.labelData.hasXaxisGroups&&"between"===n.config.xaxis.tickPlacement){const t=n.labelData.groups;if(t){let s=0;for(let i=0;s<e&&i<t.length;i++)s+=t[i].cols;s===e&&(l=.6*n.layout.xAxisLabelsHeight)}}new _(this.w,this.ctx).drawXaxisTicks(t,l,n.dom.elGraphical)}}_drawGridLine({i:e,x1:t,y1:s,x2:i,y2:a,xCount:r,parent:o}){const n=this.w,l=o.node.classList.contains("apexcharts-gridlines-horizontal"),c=n.globals.barPadForNumericAxis,h=0===s&&0===a||0===t&&0===i||s===n.layout.gridHeight&&a===n.layout.gridHeight||n.globals.isBarHorizontal&&(0===e||e===r-1),d=new P(this.w).drawLine(t-(l?c:0),s,i+(l?c:0),a,n.config.grid.borderColor,n.config.grid.strokeDashArray);d.node.classList.add("apexcharts-gridline"),h&&n.config.grid.show?this.elGridBorders.add(d):o.add(d)}_drawGridBandRect({c:e,x1:t,y1:s,x2:i,y2:a,type:r}){const o=this.w,n=new P(this.w),l=o.globals.barPadForNumericAxis,c=o.config.grid[r].colors[e],h=n.drawRect(t-("row"===r?l:0),s,i+("row"===r?2*l:0),a,0,c,o.config.grid[r].opacity);this.elg.add(h),h.attr("clip-path",`url(#gridRectMask${o.globals.cuid})`),h.node.classList.add(`apexcharts-grid-${r}`)}_drawXYLines({xCount:e,tickAmount:t}){const s=this.w,i=({xC:t,x1:s,y1:i,x2:a,y2:r})=>{for(let o=0;o<t;o++)s=this.xaxisLabels[o].position,a=this.xaxisLabels[o].position,this._drawGridLines({i:o,x1:s,y1:i,x2:a,y2:r,xCount:e,parent:this.elgridLinesV})},a=({xC:t,x1:i,y1:a,x2:r,y2:o})=>{for(let n=0;n<t+(s.axisFlags.isXNumeric?0:1);n++)0===n&&1===t&&1===s.globals.dataPoints&&(r=i=s.layout.gridWidth/2),this._drawGridLines({i:n,x1:i,y1:a,x2:r,y2:o,xCount:e,parent:this.elgridLinesV}),r=i+=s.layout.gridWidth/(s.axisFlags.isXNumeric?t-1:t)};if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show){const t=s.globals.padHorizontal,r=0;let o;const n=s.layout.gridHeight;s.labelData.timescaleLabels.length?i({xC:e,x1:t,y1:r,x2:o,y2:n}):(s.axisFlags.isXNumeric&&(e=s.globals.xAxisScale.result.length),a({xC:e,x1:t,y1:r,x2:o,y2:n}))}if(s.config.grid.yaxis.lines.show){const e=0;let i=0,a=0;const r=s.layout.gridWidth;let o=t+1;this.isRangeBar&&(o=s.labelData.labels.length);for(let n=0;n<o+(this.isRangeBar?1:0);n++)this._drawGridLine({i:n,xCount:o+(this.isRangeBar?1:0),x1:e,y1:i,x2:r,y2:a,parent:this.elgridLinesH}),i+=s.layout.gridHeight/(this.isRangeBar?o:t),a=i}}_drawInvertedXYLines({xCount:e}){const t=this.w;if(t.config.grid.xaxis.lines.show||t.config.xaxis.axisTicks.show){let s=t.globals.padHorizontal;const i=0;let a;const r=t.layout.gridHeight;for(let o=0;o<e+1;o++){t.config.grid.xaxis.lines.show&&this._drawGridLine({i:o,xCount:e+1,x1:s,y1:i,x2:a,y2:r,parent:this.elgridLinesV});new _(this.w,this.ctx).drawXaxisTicks(s,0,t.dom.elGraphical),s+=t.layout.gridWidth/e,a=s}}if(t.config.grid.yaxis.lines.show){const e=0;let s=0,i=0;const a=t.layout.gridWidth;for(let r=0;r<t.globals.dataPoints+1;r++)this._drawGridLine({i:r,xCount:t.globals.dataPoints+1,x1:e,y1:s,x2:a,y2:i,parent:this.elgridLinesH}),s+=t.layout.gridHeight/t.globals.dataPoints,i=s}}renderGrid(){var e,t,s;const i=this.w,a=i.globals,r=new P(this.w);this.elg=r.group({class:"apexcharts-grid"}),this.elgridLinesH=r.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=r.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=r.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),i.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());let o=0;for(;o<a.seriesYAxisMap.length&&a.ignoreYAxisIndexes.includes(o);)o++;o===a.seriesYAxisMap.length&&(o=0);let n,l=a.yAxisScale[o].result.length-1;return!a.isBarHorizontal||this.isRangeBar?(n=this.xaxisLabels.length,this.isRangeBar&&(l=i.labelData.labels.length,i.config.xaxis.tickAmount&&i.config.xaxis.labels.formatter&&(n=i.config.xaxis.tickAmount),(null==(s=null==(t=null==(e=a.yAxisScale)?void 0:e[o])?void 0:t.result)?void 0:s.length)>0&&"datetime"!==i.config.xaxis.type&&(n=a.yAxisScale[o].result.length-1)),this._drawXYLines({xCount:n,tickAmount:l})):(n=l,l=a.xTickAmount,this._drawInvertedXYLines({xCount:n,tickAmount:l})),this.drawGridBands(n,l),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:i.layout.gridWidth/n}}drawGridBands(e,t){var s,i,a;const r=this.w,o=(e,s,i,a,o,n)=>{for(let l=0,c=0;l<s;l++,c++)c>=r.config.grid[e].colors.length&&(c=0),this._drawGridBandRect({c:c,x1:i,y1:a,x2:o,y2:n,type:e}),a+=r.layout.gridHeight/t};if((null==(s=r.config.grid.row.colors)?void 0:s.length)>0&&o("row",t,0,0,r.layout.gridWidth,r.layout.gridHeight/t),(null==(i=r.config.grid.column.colors)?void 0:i.length)>0){let t=r.globals.isBarHorizontal||"on"!==r.config.xaxis.tickPlacement||"category"!==r.config.xaxis.type&&!r.config.xaxis.convertedCatToNumeric?e:e-1;r.axisFlags.isXNumeric&&(t=r.globals.xAxisScale.result.length-1);let s=r.globals.padHorizontal;const i=0;let o=r.globals.padHorizontal+r.layout.gridWidth/t;const n=r.layout.gridHeight;for(let l=0,c=0;l<e;l++,c++)c>=r.config.grid.column.colors.length&&(c=0),"datetime"===r.config.xaxis.type&&(s=this.xaxisLabels[l].position,o=((null==(a=this.xaxisLabels[l+1])?void 0:a.position)||r.layout.gridWidth)-this.xaxisLabels[l].position),this._drawGridBandRect({c:c,x1:s,y1:i,x2:o,y2:n,type:"column"}),s+=r.layout.gridWidth/t}}}class ${constructor(e){this.w=e,this.coreUtils=new F(this.w)}niceScale(e,t,s=0){const i=1e-11,a=this.w,r=a.globals;let o,n,l,c;r.isBarHorizontal?(o=a.config.xaxis,n=Math.max((r.svgWidth-100)/25,2)):(o=a.config.yaxis[s],n=Math.max((r.svgHeight-100)/15,2)),b.isNumber(n)||(n=10),l=void 0!==o.min&&null!==o.min,c=void 0!==o.max&&null!==o.min;let h=void 0!==o.stepSize&&null!==o.stepSize,d=void 0!==o.tickAmount&&null!==o.tickAmount,g=d?o.tickAmount:M[Math.min(Math.round(n/2),M.length-1)];if(r.isMultipleYAxis&&!d&&r.multiAxisTickAmount>0&&(g=r.multiAxisTickAmount,d=!0),g="dataPoints"===g?r.dataPoints-1:Math.abs(Math.round(g)),(e===Number.MIN_VALUE&&0===t||!b.isNumber(e)&&!b.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=b.isNumber(o.min)?o.min:0,t=b.isNumber(o.max)?o.max:e+g,r.allSeriesCollapsed=!1),e>t){const s=t;t=e,e=s}else e===t&&(e=0===e?0:e-1,t=0===t?2:t+1);const p=[];g<1&&(g=1);let x=g,u=Math.abs(t-e);!l&&e>0&&e/u<.15&&(e=0,l=!0),!c&&t<0&&-t/u<.15&&(t=0,c=!0),u=Math.abs(t-e);let f=u/x,m=f;const y=Math.floor(Math.log10(m)),w=Math.pow(10,y);let v=Math.ceil(m/w);if(v=L[0===r.yValueDecimal?0:1][v],m=v*w,f=m,r.isBarHorizontal&&o.stepSize&&"datetime"!==o.type?(f=o.stepSize,h=!0):h&&(f=o.stepSize),h&&o.forceNiceScale){const e=Math.floor(Math.log10(f));f*=Math.pow(10,y-e)}if(l&&c){let e=u/x;if(d)if(h)if(0!=b.mod(u,f)){const t=b.getGCD(f,e);f=e/t<10?t:e}else 0==b.mod(f,e)?f=e:(e=f,d=!1);else f=e;else if(h)0==b.mod(u,f)?e=f:f=e;else if(0==b.mod(u,f))e=f;else{x=Math.ceil(u/f),e=u/x;const t=b.getGCD(u,f);u/t<n&&(e=t),f=e}x=Math.round(u/f)}else{if(l||c){if(c)if(d)e=t-f*x;else{const s=e;e=f*Math.floor(e/f),Math.abs(t-e)/b.getGCD(u,f)>n&&(e=t-f*g,e+=f*Math.floor((s-e)/f))}else if(l)if(d)t=e+f*x;else{const s=t;t=f*Math.ceil(t/f),Math.abs(t-e)/b.getGCD(u,f)>n&&(t=e+f*g,t+=f*Math.ceil((s-t)/f))}}else if(r.isMultipleYAxis&&d){const s=f*Math.floor(e/f);let i=s+f*x;i<t&&(f*=2),i=t,t=(e=s)+f*x,u=Math.abs(t-e),e>0&&e<Math.abs(i-t)&&(e=0,t=f*x),t<0&&-t<Math.abs(s-e)&&(t=0,e=-f*x)}else e=f*Math.floor(e/f),t=f*Math.ceil(t/f);u=Math.abs(t-e),f=b.getGCD(u,f),x=Math.round(u/f)}if(d||l||c||(x=Math.ceil((u-i)/(f+i)),x>16&&b.getPrimeFactors(x).length<2&&x++),!d&&o.forceNiceScale&&0===r.yValueDecimal&&x>u&&(x=u,f=Math.round(u/x)),x>n&&(!d&&!h||o.forceNiceScale)){const e=b.getPrimeFactors(x),t=e.length-1;let s=x;e:for(var A=0;A<t;A++)for(var S=0;S<=t-A;S++){const i=Math.min(S+A,t);let a=s,r=1;for(var C=S;C<=i;C++)r*=e[C];if(a/=r,a<n){s=a;break e}}f=s===x?u:u/s,x=Math.round(u/f)}r.isMultipleYAxis&&0==r.multiAxisTickAmount&&r.ignoreYAxisIndexes.indexOf(s)<0&&(r.multiAxisTickAmount=x);let k=e-f;const D=f*i;do{k+=f,p.push(b.stripNumber(k,7))}while(t-k>D);return{result:p,niceMin:p[0],niceMax:p[p.length-1]}}linearScale(e,t,s=10,i=0,a=void 0){const r=Math.abs(t-e);let o=[];if(e===t)return o=[e],{result:o,niceMin:o[0],niceMax:o[o.length-1]};"dataPoints"===(s=this._adjustTicksForSmallRange(s,i,r))&&(s=this.w.globals.dataPoints-1),a||(a=r/s);if(0!==a&&isFinite(a)){const e=Math.floor(Math.log10(Math.abs(a))),t=Math.max(2,2-e),s=Math.pow(10,t);a=Math.round((a+Number.EPSILON)*s)/s}s===Number.MAX_VALUE&&(s=5,a=1);let n=e;for(;s>=0;)o.push(n),n=b.preciseAddition(n,a),s-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}logarithmicScaleNice(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));const i=[],a=Math.ceil(Math.log(t)/Math.log(s)+1);for(let t=Math.floor(Math.log(e)/Math.log(s));t<a;t++)i.push(Math.pow(s,t));return{result:i,niceMin:i[0],niceMax:i[i.length-1]}}logarithmicScale(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));const i=[],a=Math.log(t)/Math.log(s),r=Math.log(e)/Math.log(s),o=a-r,n=Math.round(o),l=o/n;for(let e=0,t=r;e<n;e++,t+=l)i.push(Math.pow(s,t));return i.push(Math.pow(s,a)),{result:i,niceMin:e,niceMax:t}}_adjustTicksForSmallRange(e,t,s){let i=e;if(void 0!==t&&this.w.config.yaxis[t].labels.formatter&&void 0===this.w.config.yaxis[t].tickAmount){const e=Number(this.w.config.yaxis[t].labels.formatter(1));b.isNumber(e)&&0===this.w.globals.yValueDecimal&&(i=Math.ceil(s))}return i<e?i:e}setYScaleForIndex(e,t,s){const i=this.w.globals,a=this.w.config,r=i.isBarHorizontal?a.xaxis:a.yaxis[e];void 0===i.yAxisScale[e]&&(i.yAxisScale[e]=[]);const o=Math.abs(s-t);r.logarithmic&&o<=5&&(i.invalidLogScale=!0),r.logarithmic&&o>5?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=r.forceNiceScale?this.logarithmicScaleNice(t,s,r.logBase):this.logarithmicScale(t,s,r.logBase)):s!==-Number.MAX_VALUE&&b.isNumber(s)&&t!==Number.MAX_VALUE&&b.isNumber(t)?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=this.niceScale(t,s,e)):i.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}setXScale(e,t){const s=this.w,i=s.globals;if(t!==-Number.MAX_VALUE&&b.isNumber(t)){const a=i.xTickAmount;i.xAxisScale=this.linearScale(e,t,a,0,void 0===s.config.xaxis.max?s.config.xaxis.stepSize:void 0)}else i.xAxisScale=this.linearScale(0,10,10);return i.xAxisScale}scaleMultipleYAxes(){const e=this.w.config,t=this.w.globals;this.coreUtils.setSeriesYAxisMappings();const s=t.seriesYAxisMap,i=t.minYArr,a=t.maxYArr;t.allSeriesCollapsed=!0,t.barGroups=[],s.forEach((s,r)=>{const o=[];if(s.forEach(t=>{var s;const i=null==(s=e.series[t])?void 0:s.group;o.indexOf(i)<0&&o.push(i)}),s.length>0){let n,l,c=Number.MAX_VALUE,h=-Number.MAX_VALUE,d=c,g=h;if(e.chart.stacked){const i=new Array(t.dataPoints).fill(0),a=[],p=[],x=[];o.forEach(()=>{a.push(i.map(()=>Number.MIN_VALUE)),p.push(i.map(()=>Number.MIN_VALUE)),x.push(i.map(()=>Number.MIN_VALUE))});for(let i=0;i<s.length;i++){!n&&e.series[s[i]].type&&(n=e.series[s[i]].type);const c=s[i];l=e.series[c].group?e.series[c].group:"axis-".concat(r);!(t.collapsedSeriesIndices.indexOf(c)<0&&t.ancillaryCollapsedSeriesIndices.indexOf(c)<0)||(t.allSeriesCollapsed=!1,o.forEach((t,s)=>{if(e.series[c].group===t)for(let e=0;e<this.w.seriesData.series[c].length;e++){const t=this.w.seriesData.series[c][e];t>=0?p[s][e]+=t:x[s][e]+=t,a[s][e]+=t,d=Math.min(d,t),g=Math.max(g,t)}})),"bar"!==n&&"column"!==n||t.barGroups.push(l)}n||(n=e.chart.type),"bar"===n||"column"===n?o.forEach((e,t)=>{c=Math.min(c,Math.min.apply(null,x[t])),h=Math.max(h,Math.max.apply(null,p[t]))}):(o.forEach((e,t)=>{d=Math.min(d,Math.min.apply(null,a[t])),g=Math.max(g,Math.max.apply(null,a[t]))}),c=d,h=g),c===Number.MIN_VALUE&&h===Number.MIN_VALUE&&(h=-Number.MAX_VALUE)}else for(let e=0;e<s.length;e++){const r=s[e];c=Math.min(c,i[r]),h=Math.max(h,a[r]);!(t.collapsedSeriesIndices.indexOf(r)<0&&t.ancillaryCollapsedSeriesIndices.indexOf(r)<0)||(t.allSeriesCollapsed=!1)}void 0!==e.yaxis[r].min&&(c="function"==typeof e.yaxis[r].min?e.yaxis[r].min(c):e.yaxis[r].min),void 0!==e.yaxis[r].max&&(h="function"==typeof e.yaxis[r].max?e.yaxis[r].max(h):e.yaxis[r].max),t.barGroups=t.barGroups.filter((e,t,s)=>s.indexOf(e)===t),this.setYScaleForIndex(r,c,h),s.forEach(e=>{i[e]=t.yAxisScale[r].niceMin,a[e]=t.yAxisScale[r].niceMax})}else this.setYScaleForIndex(r,0,-Number.MAX_VALUE)})}}class V{constructor(e){this.w=e,this.scales=new $(this.w)}init(){this.setYRange(),this.setXRange(),this.setZRange()}getMinYMaxY(e,t=Number.MAX_VALUE,s=-Number.MAX_VALUE,i=null){var a,r,o,n,l;const c=this.w.config,h=this.w.globals;let d=-Number.MAX_VALUE,g=Number.MIN_VALUE;null===i&&(i=e+1);const p=this.w.seriesData.series;let x=p,u=p;"candlestick"===c.chart.type?(x=this.w.candleData.seriesCandleL,u=this.w.candleData.seriesCandleH):"boxPlot"===c.chart.type?(x=this.w.candleData.seriesCandleO,u=this.w.candleData.seriesCandleC):this.w.axisFlags.isRangeData&&(x=this.w.rangeData.seriesRangeStart,u=this.w.rangeData.seriesRangeEnd);let f=!1;if(this.w.seriesData.seriesX.length>=i){const e=null==(a=h.brushSource)?void 0:a.w.config.chart.brush;(c.chart.zoom.enabled&&c.chart.zoom.autoScaleYaxis||(null==e?void 0:e.enabled)&&(null==e?void 0:e.autoScaleYaxis))&&(f=!0)}for(let a=e;a<i;a++){h.dataPoints=Math.max(h.dataPoints,p[a].length);const e=c.series[a].type;this.w.labelData.categoryLabels.length&&(h.dataPoints=this.w.labelData.categoryLabels.filter(e=>void 0!==e).length),this.w.labelData.labels.length&&"datetime"!==c.xaxis.type&&0!==this.w.seriesData.series.reduce((e,t)=>e+t.length,0)&&(h.dataPoints=Math.max(h.dataPoints,this.w.labelData.labels.length));let i=0,m=p[a].length-1;if(f){if(c.xaxis.min)for(;i<m&&this.w.seriesData.seriesX[a][i]<c.xaxis.min;i++);if(c.xaxis.max)for(;m>i&&this.w.seriesData.seriesX[a][m]>c.xaxis.max;m--);}for(let c=i;c<=m&&c<this.w.seriesData.series[a].length;c++){let i=p[a][c];if(null!==i&&b.isNumber(i)){switch(void 0!==(null==(r=u[a])?void 0:r[c])&&(d=Math.max(d,u[a][c]),t=Math.min(t,u[a][c])),void 0!==(null==(o=x[a])?void 0:o[c])&&(t=Math.min(t,x[a][c]),s=Math.max(s,x[a][c])),e){case"candlestick":void 0!==this.w.candleData.seriesCandleC[a][c]&&(d=Math.max(d,this.w.candleData.seriesCandleH[a][c]),t=Math.min(t,this.w.candleData.seriesCandleL[a][c]));break;case"boxPlot":void 0!==this.w.candleData.seriesCandleC[a][c]&&(d=Math.max(d,this.w.candleData.seriesCandleC[a][c]),t=Math.min(t,this.w.candleData.seriesCandleO[a][c]))}e&&"candlestick"!==e&&"boxPlot"!==e&&"rangeArea"!==e&&"rangeBar"!==e&&(d=Math.max(d,this.w.seriesData.series[a][c]),t=Math.min(t,this.w.seriesData.series[a][c])),this.w.seriesData.seriesGoals[a]&&this.w.seriesData.seriesGoals[a][c]&&Array.isArray(this.w.seriesData.seriesGoals[a][c])&&this.w.seriesData.seriesGoals[a][c].forEach(e=>{d=Math.max(d,e.value),t=Math.min(t,e.value)}),s=d,i=b.noExponents(i),b.isFloat(i)&&(h.yValueDecimal=Math.max(h.yValueDecimal,i.toString().split(".")[1].length)),g>(null==(n=x[a])?void 0:n[c])&&(null==(l=x[a])?void 0:l[c])<0&&(g=x[a][c])}else h.hasNullValues=!0}"bar"!==e&&"column"!==e||(g<0&&d<0&&(d=0,s=Math.max(s,0)),g===Number.MIN_VALUE&&(g=0,t=Math.min(t,0)))}return"rangeBar"===c.chart.type&&this.w.rangeData.seriesRangeStart.length&&h.isBarHorizontal&&(g=t),"bar"===c.chart.type&&(g<0&&d<0&&(d=0),g===Number.MIN_VALUE&&(g=0)),{minY:g,maxY:d,lowestY:t,highestY:s}}setYRange(){const e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;let s,i=Number.MAX_VALUE;if(e.isMultipleYAxis){i=Number.MAX_VALUE;for(let t=0;t<this.w.seriesData.series.length;t++)s=this.getMinYMaxY(t),e.minYArr[t]=s.lowestY,e.maxYArr[t]=s.highestY,i=Math.min(i,s.lowestY)}if(s=this.getMinYMaxY(0,i,null,this.w.seriesData.series.length),"bar"===t.chart.type?(e.minY=s.minY,e.maxY=s.maxY):(e.minY=s.lowestY,e.maxY=s.highestY),i=s.lowestY,t.chart.stacked&&this._setStackedMinMax(),"line"===t.chart.type||"area"===t.chart.type||"scatter"===t.chart.type||"candlestick"===t.chart.type||"boxPlot"===t.chart.type||"rangeBar"===t.chart.type&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==e.maxY&&(e.minY=i):e.minY=e.minY!==Number.MIN_VALUE?Math.min(s.minY,e.minY):s.minY,t.yaxis.forEach((t,s)=>{void 0!==t.max&&("number"==typeof t.max?e.maxYArr[s]=t.max:"function"==typeof t.max&&(e.maxYArr[s]=t.max(e.isMultipleYAxis?e.maxYArr[s]:e.maxY)),e.maxY=e.maxYArr[s]),void 0!==t.min&&("number"==typeof t.min?e.minYArr[s]=t.min:"function"==typeof t.min&&(e.minYArr[s]=t.min(e.isMultipleYAxis?e.minYArr[s]===Number.MIN_VALUE?0:e.minYArr[s]:e.minY)),e.minY=e.minYArr[s])}),e.isBarHorizontal){["min","max"].forEach(s=>{void 0!==t.xaxis[s]&&"number"==typeof t.xaxis[s]&&("min"===s?e.minY=t.xaxis[s]:e.maxY=t.xaxis[s])})}return e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=i):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(s=>{switch(s.type||t.chart.type){case"bar":case"column":e.barGroups.push(s.group);break;case"line":e.lineGroups.push(s.group);break;case"area":e.areaGroups.push(s.group)}}),e.barGroups=e.barGroups.filter((e,t,s)=>s.indexOf(e)===t),e.lineGroups=e.lineGroups.filter((e,t,s)=>s.indexOf(e)===t),e.areaGroups=e.areaGroups.filter((e,t,s)=>s.indexOf(e)===t),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}setXRange(){const e=this.w.globals,t=this.w.config,s="numeric"===t.xaxis.type||"datetime"===t.xaxis.type||"category"===t.xaxis.type&&!this.w.axisFlags.noLabelsProvided||this.w.axisFlags.noLabelsProvided||this.w.axisFlags.isXNumeric,i=()=>{for(let t=0;t<this.w.seriesData.series.length;t++)if(this.w.labelData.labels[t])for(let s=0;s<this.w.labelData.labels[t].length;s++)null!==this.w.labelData.labels[t][s]&&b.isNumber(this.w.labelData.labels[t][s])&&(e.maxX=Math.max(e.maxX,this.w.labelData.labels[t][s]),e.initialMaxX=Math.max(e.maxX,this.w.labelData.labels[t][s]),e.minX=Math.min(e.minX,this.w.labelData.labels[t][s]),e.initialMinX=Math.min(e.minX,this.w.labelData.labels[t][s]))};if(this.w.axisFlags.isXNumeric&&i(),this.w.axisFlags.noLabelsProvided&&0===t.xaxis.categories.length&&(e.maxX=this.w.labelData.labels[this.w.labelData.labels.length-1],e.initialMaxX=this.w.labelData.labels[this.w.labelData.labels.length-1],e.minX=1,e.initialMinX=1),this.w.axisFlags.isXNumeric||this.w.axisFlags.noLabelsProvided||this.w.axisFlags.dataFormatXNumeric){let i=10;if(void 0===t.xaxis.tickAmount)i=Math.round(e.svgWidth/150),"numeric"===t.xaxis.type&&e.dataPoints<30&&(i=e.dataPoints-1),i>e.dataPoints&&0!==e.dataPoints&&(i=e.dataPoints-1);else if("dataPoints"===t.xaxis.tickAmount){if(this.w.seriesData.series.length>1&&(i=this.w.seriesData.series[e.maxValsInArrayIndex].length-1),this.w.axisFlags.isXNumeric){const t=Math.round(e.maxX-e.minX);t<30&&(i=t)}}else i=t.xaxis.tickAmount;if(e.xTickAmount=i,void 0!==t.xaxis.max&&"number"==typeof t.xaxis.max&&(e.maxX=t.xaxis.max),void 0!==t.xaxis.min&&"number"==typeof t.xaxis.min&&(e.minX=t.xaxis.min),void 0!==t.xaxis.range&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!this.w.axisFlags.dataFormatXNumeric){const t=[];for(let s=e.minX-1;s<e.maxX;s++)t.push(s+1);e.xAxisScale={result:t,niceMin:t[0],niceMax:t[t.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,i,i,0,t.xaxis.stepSize),this.w.axisFlags.noLabelsProvided&&this.w.labelData.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,this.w.labelData.labels.length,i-1,0,t.xaxis.stepSize),this.w.seriesData.seriesX=this.w.labelData.labels.slice());s&&(this.w.labelData.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&this.w.labelData.labels.length&&(e.xTickAmount=this.w.labelData.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}setZRange(){const e=this.w.globals;if(this.w.axisFlags.isDataXYZ)for(let t=0;t<this.w.seriesData.series.length;t++)if(void 0!==this.w.seriesData.seriesZ[t])for(let s=0;s<this.w.seriesData.seriesZ[t].length;s++)null!==this.w.seriesData.seriesZ[t][s]&&b.isNumber(this.w.seriesData.seriesZ[t][s])&&(e.maxZ=Math.max(e.maxZ,this.w.seriesData.seriesZ[t][s]),e.minZ=Math.min(e.minZ,this.w.seriesData.seriesZ[t][s]))}_handleSingleDataPoint(){const e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){const s=new y(this.w);if("datetime"===t.xaxis.type){const i=s.getDate(e.minX);t.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()-2):i.setDate(i.getDate()-2),e.minX=new Date(i).getTime();const a=s.getDate(e.maxX);t.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()+2):a.setDate(a.getDate()+2),e.maxX=new Date(a).getTime()}else("numeric"===t.xaxis.type||"category"===t.xaxis.type&&!this.w.axisFlags.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}_getMinXDiff(){const e=this.w.globals;this.w.axisFlags.isXNumeric&&this.w.seriesData.seriesX.forEach(t=>{if(t.length){1===t.length&&t.push(this.w.seriesData.seriesX[e.maxValsInArrayIndex][this.w.seriesData.seriesX[e.maxValsInArrayIndex].length-1]);const s=t.slice();s.sort((e,t)=>e-t),s.forEach((t,i)=>{if(i>0){const a=t-s[i-1];a>0&&(e.minXDiff=Math.min(a,e.minXDiff))}}),1!==e.dataPoints&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}_setStackedMinMax(){const e=this.w.globals;if(!this.w.seriesData.series.length)return;let t=this.w.labelData.seriesGroups;t.length||(t=[this.w.seriesData.seriesNames.map(e=>e)]);const s={},i={};t.forEach(t=>{s[t]=[],i[t]=[];this.w.config.series.map((e,s)=>t.indexOf(this.w.seriesData.seriesNames[s])>-1?s:null).filter(e=>null!==e).forEach(a=>{var r,o,n,l;for(let c=0;c<this.w.seriesData.series[e.maxValsInArrayIndex].length;c++){void 0===s[t][c]&&(s[t][c]=0,i[t][c]=0);(this.w.config.chart.stacked&&!e.comboCharts||this.w.config.chart.stacked&&e.comboCharts&&(!this.w.config.chart.stackOnlyBar||"bar"===(null==(o=null==(r=this.w.config.series)?void 0:r[a])?void 0:o.type)||"column"===(null==(l=null==(n=this.w.config.series)?void 0:n[a])?void 0:l.type)))&&null!==this.w.seriesData.series[a][c]&&b.isNumber(this.w.seriesData.series[a][c])&&(this.w.seriesData.series[a][c]>0?s[t][c]+=parseFloat(this.w.seriesData.series[a][c])+1e-4:i[t][c]+=parseFloat(this.w.seriesData.series[a][c]))}})}),Object.entries(s).forEach(([t])=>{s[t].forEach((a,r)=>{e.maxY=Math.max(e.maxY,s[t][r]),e.minY=Math.min(e.minY,i[t][r])})})}}class U{constructor(e,{theme:t=null,timeScale:s=null}={},i){this.w=e,this.elgrid=i,this.xaxisFontSize=e.config.xaxis.labels.style.fontSize,this.axisFontFamily=e.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=e.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===e.config.chart.type&&e.config.plotOptions.bar.horizontal,this.xAxisoffX="bottom"===e.config.xaxis.position?e.layout.gridHeight:0,this.drawnLabels=[],this.axesUtils=new W(e,{theme:t,timeScale:s})}drawYaxis(e){const t=this.w,s=new P(this.w),i=t.config.yaxis[e].labels.style,{fontSize:a,fontFamily:r,fontWeight:o}=i,n=s.group({class:"apexcharts-yaxis",rel:e,transform:`translate(${t.globals.translateYAxisX[e]}, 0)`});if(this.axesUtils.isYAxisHidden(e))return n;const l=s.group({class:"apexcharts-yaxis-texts-g"});n.add(l);const c=t.globals.yAxisScale[e].result.length-1,h=t.layout.gridHeight/c,d=t.formatters.yLabelFormatters[e],g=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){let n=t.layout.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?n=0:"heatmap"===t.config.chart.type&&(n-=h/2),n+=parseInt(a,10)/3;let p=null;for(let x=c;x>=0;x--){const c=d(g[x],x,t);let u=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&0!==t.config.yaxis.length&&(u*=-1);const f=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),m=this.axesUtils.getYAxisForeColor(i.colors,e),b=Array.isArray(m)?m[x]:m,y=Array.from(t.dom.baseEl.querySelectorAll(`.apexcharts-yaxis[rel='${e}'] .apexcharts-yaxis-label tspan`)).map(e=>e.textContent),w=s.drawText({x:u,y:n,text:y.includes(c)&&!t.config.yaxis[e].labels.showDuplicates?"":c,textAnchor:f,fontSize:a,fontFamily:r,fontWeight:o,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:b,isPlainText:!1,cssClass:`apexcharts-yaxis-label ${i.cssClass}`});l.add(w),this.addTooltip(w,c),null===p&&(p=w),0!==t.config.yaxis[e].labels.rotate&&this.rotateLabel(s,w,p,t.config.yaxis[e].labels.rotate),n+=h}}return this.addYAxisTitle(s,n,e),this.addAxisBorder(s,n,e,c,h),n}getTextAnchor(e,t){return"left"===e?"start":"center"===e?"middle":"right"===e?"end":t?"start":"end"}addTooltip(e,t){const s=m.createElementNS(N,"title");s.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(s)}rotateLabel(e,t,s,i){const a=e.rotateAroundCenter(s.node),r=e.rotateAroundCenter(t.node);t.node.setAttribute("transform",`rotate(${i} ${a.x} ${r.y})`)}addYAxisTitle(e,t,s){const i=this.w;if(void 0!==i.config.yaxis[s].title.text){const a=e.group({class:"apexcharts-yaxis-title"}),r=i.config.yaxis[s].opposite?i.globals.translateYAxisX[s]:0,o=e.drawText({x:r,y:i.layout.gridHeight/2+i.layout.translateY+i.config.yaxis[s].title.offsetY,text:i.config.yaxis[s].title.text,textAnchor:"end",foreColor:i.config.yaxis[s].title.style.color,fontSize:i.config.yaxis[s].title.style.fontSize,fontWeight:i.config.yaxis[s].title.style.fontWeight,fontFamily:i.config.yaxis[s].title.style.fontFamily,cssClass:`apexcharts-yaxis-title-text ${i.config.yaxis[s].title.style.cssClass}`});a.add(o),t.add(a)}}addAxisBorder(e,t,s,i,a){const r=this.w,o=r.config.yaxis[s].axisBorder;let n=31+o.offsetX;if(r.config.yaxis[s].opposite&&(n=-31-o.offsetX),o.show){const s=e.drawLine(n,r.layout.translateY+o.offsetY-2,n,r.layout.gridHeight+r.layout.translateY+o.offsetY+2,o.color,0,o.width);t.add(s)}r.config.yaxis[s].axisTicks.show&&this.axesUtils.drawYAxisTicks(n,i,o,r.config.yaxis[s].axisTicks,s,a,t)}drawYaxisInversed(e){const t=this.w,s=new P(this.w),i=s.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),a=s.group({class:"apexcharts-xaxis-texts-g",transform:`translate(${t.layout.translateXAxisX}, ${t.layout.translateXAxisY})`});i.add(a);let r=t.globals.yAxisScale[e].result.length-1;const o=t.layout.gridWidth/r+.1;let n=o+t.config.xaxis.labels.offsetX;const l=t.formatters.xLabelFormatter;let c=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());const h=t.labelData.timescaleLabels;if(h.length>0&&(this.xaxisLabels=h.slice(),c=h.slice(),r=c.length),t.config.xaxis.labels.show)for(let i=h.length?0:r;h.length?i<h.length:i>=0;h.length?i++:i--){let r=l(c[i],i,t),d=t.layout.gridWidth+t.globals.padHorizontal-(n-o+t.config.xaxis.labels.offsetX);if(h.length){const e=this.axesUtils.getLabel(c,h,d,i,this.drawnLabels,this.xaxisFontSize);d=e.x,r=e.text,this.drawnLabels.push(e.text),0===i&&t.globals.skipFirstTimelinelabel&&(r=""),i===c.length-1&&t.globals.skipLastTimelinelabel&&(r="")}const g=s.drawText({x:d,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-("top"===t.config.xaxis.position?t.layout.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:r,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:`apexcharts-xaxis-label ${t.config.xaxis.labels.style.cssClass}`});a.add(g),this.addTooltip(g,r),n+=o}return this.inversedYAxisTitleText(i),this.inversedYAxisBorder(i),i}inversedYAxisBorder(e){const t=this.w,s=new P(this.w),i=t.config.xaxis.axisBorder;if(i.show){let a=0;"bar"===t.config.chart.type&&t.axisFlags.isXNumeric&&(a-=15);const r=s.drawLine(t.globals.padHorizontal+a+i.offsetX,this.xAxisoffX,t.layout.gridWidth,this.xAxisoffX,i.color,0,i.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(r):e.add(r)}}inversedYAxisTitleText(e){const t=this.w,s=new P(this.w);if(void 0!==t.config.xaxis.title.text){const i=s.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),a=s.drawText({x:t.layout.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:`apexcharts-xaxis-title-text ${t.config.xaxis.title.style.cssClass}`});i.add(a),e.add(i)}}yAxisTitleRotate(e,t){const s=this.w,i=new P(this.w),a=s.dom.baseEl.querySelector(`.apexcharts-yaxis[rel='${e}'] .apexcharts-yaxis-texts-g`),r=a?a.getBoundingClientRect():{width:0,height:0},o=s.dom.baseEl.querySelector(`.apexcharts-yaxis[rel='${e}'] .apexcharts-yaxis-title text`),n=o?o.getBoundingClientRect():{width:0,height:0};if(o){const a=this.xPaddingForYAxisTitle(e,r,n,t);o.setAttribute("x",a.xPos-(t?10:0));const l=i.rotateAroundCenter(o);o.setAttribute("transform",`rotate(${t?-1*s.config.yaxis[e].title.rotate:s.config.yaxis[e].title.rotate} ${l.x} ${l.y})`)}}xPaddingForYAxisTitle(e,t,s,i){const a=this.w;let r=0,o=10;return void 0===a.config.yaxis[e].title.text||e<0?{xPos:r,padd:0}:(i?r=t.width+a.config.yaxis[e].title.offsetX+s.width/2+o/2:(r=-1*t.width+a.config.yaxis[e].title.offsetX+o/2+s.width/2,a.globals.isBarHorizontal&&(o=25,r=-1*t.width-a.config.yaxis[e].title.offsetX-o)),{xPos:r,padd:o})}setYAxisXPosition(e,t){const s=this.w;let i=0,a=0,r=18,o=1;s.config.yaxis.length>1&&(this.multipleYs=!0),s.config.yaxis.forEach((n,l)=>{const c=s.globals.ignoreYAxisIndexes.includes(l)||!n.show||n.floating||0===e[l].width,h=e[l].width+t[l].width;n.opposite?s.globals.isBarHorizontal?(a=s.layout.gridWidth+s.layout.translateX-1,s.globals.translateYAxisX[l]=a-n.labels.offsetX):(a=s.layout.gridWidth+s.layout.translateX+o,c||(o+=h+20),s.globals.translateYAxisX[l]=a-n.labels.offsetX+20):(i=s.layout.translateX-r,c||(r+=h+20),s.globals.translateYAxisX[l]=i+n.labels.offsetX)})}setYAxisTextAlignments(){const e=this.w;Array.from(e.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach((t,s)=>{const i=e.config.yaxis[s];if(i&&!i.floating&&void 0!==i.labels.align){const t=e.dom.baseEl.querySelector(`.apexcharts-yaxis[rel='${s}'] .apexcharts-yaxis-texts-g`),a=Array.from(e.dom.baseEl.querySelectorAll(`.apexcharts-yaxis[rel='${s}'] .apexcharts-yaxis-label`)),r=t.getBoundingClientRect();a.forEach(e=>{e.setAttribute("text-anchor",i.labels.align)}),"left"!==i.labels.align||i.opposite?"center"===i.labels.align?t.setAttribute("transform",`translate(${r.width/2*(i.opposite?1:-1)}, 0)`):"right"===i.labels.align&&i.opposite&&t.setAttribute("transform",`translate(${r.width}, 0)`):t.setAttribute("transform",`translate(-${r.width}, 0)`)}})}}class j{constructor(e,t){this.w=e,this.ctx=t,this.documentEvent=this.documentEvent.bind(this)}addEventListener(e,t){const s=this.w;Object.prototype.hasOwnProperty.call(s.globals.events,e)?s.globals.events[e].push(t):s.globals.events[e]=[t]}removeEventListener(e,t){const s=this.w;if(!Object.prototype.hasOwnProperty.call(s.globals.events,e))return;const i=s.globals.events[e].indexOf(t);-1!==i&&s.globals.events[e].splice(i,1)}fireEvent(e,t){const s=this.w;if(!Object.prototype.hasOwnProperty.call(s.globals.events,e))return;t&&t.length||(t=[]);const i=s.globals.events[e],a=i.length;for(let e=0;e<a;e++)i[e].apply(null,t)}setupEventHandlers(){const e=this.w,t=this.ctx,s=e.dom.baseEl.querySelector(e.globals.chartClass);this.ctx.eventList.forEach(i=>{s.addEventListener(i,s=>{const i=null===s.target.getAttribute("i")&&-1!==e.interact.capturedSeriesIndex?e.interact.capturedSeriesIndex:s.target.getAttribute("i"),a=null===s.target.getAttribute("j")&&-1!==e.interact.capturedDataPointIndex?e.interact.capturedDataPointIndex:s.target.getAttribute("j"),r=Object.assign({},e,{seriesIndex:e.globals.axisCharts?i:0,dataPointIndex:a});"keydown"===s.type?e.config.chart.accessibility.enabled&&e.config.chart.accessibility.keyboard.enabled&&(t.ctx.keyboardNavigation&&t.ctx.keyboardNavigation.handleKey(s),"function"==typeof e.config.chart.events.keyDown&&e.config.chart.events.keyDown(s,t,r),t.ctx.events.fireEvent("keydown",[s,t,r])):"keyup"===s.type?e.config.chart.accessibility.enabled&&e.config.chart.accessibility.keyboard.enabled&&("function"==typeof e.config.chart.events.keyUp&&e.config.chart.events.keyUp(s,t,r),t.ctx.events.fireEvent("keyup",[s,t,r])):"mousemove"===s.type||"touchmove"===s.type?"function"==typeof e.config.chart.events.mouseMove&&e.config.chart.events.mouseMove(s,t,r):"mouseleave"===s.type||"touchleave"===s.type?"function"==typeof e.config.chart.events.mouseLeave&&e.config.chart.events.mouseLeave(s,t,r):("mouseup"===s.type&&1===s.which||"touchend"===s.type)&&("function"==typeof e.config.chart.events.click&&e.config.chart.events.click(s,t,r),t.ctx.events.fireEvent("click",[s,t,r]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(t=>{e.dom.baseEl.addEventListener(t,this.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}documentEvent(e){const t=this.w,s=e.target.className;if("click"===e.type){const e=t.dom.baseEl.querySelector(".apexcharts-menu");e&&e.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==s&&e.classList.remove("apexcharts-menu-open")}t.interact.clientX="touchmove"===e.type?e.touches[0].clientX:e.clientX,t.interact.clientY="touchmove"===e.type?e.touches[0].clientY:e.clientY}}class q{constructor(e){this.w=e}setCurrentLocaleValues(e){let t=this.w.config.chart.locales;const s=h.getApex();s.chart&&s.chart.locales&&s.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(s.chart.locales));const i=t.filter(t=>t.name===e)[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");{const e=b.extend(C,i);this.w.globals.locale=e.options}}}class Z{constructor(e,t){this.w=e,this.ctx=t}drawAxis(e,t){const s=this.w.globals,i=this.w.config,a=new _(this.w,this.ctx,t),r=new U(this.w,{theme:this.ctx.theme,timeScale:this.ctx.timeScale},t);if(s.axisCharts&&"radar"!==e){let e,t;s.isBarHorizontal?(t=r.drawYaxisInversed(0),e=a.drawXaxisInversed(0),this.w.dom.elGraphical.add(e),this.w.dom.elGraphical.add(t)):(e=a.drawXaxis(),this.w.dom.elGraphical.add(e),i.yaxis.map((e,i)=>{if(-1===s.ignoreYAxisIndexes.indexOf(i)&&(t=r.drawYaxis(i),this.w.dom.Paper.add(t),"back"===this.w.config.grid.position)){const e=this.w.dom.Paper.children()[1];e&&(e.remove(),this.w.dom.Paper.add(e))}}))}}}class J{constructor(e){this.w=e}drawXCrosshairs(){const e=this.w,t=new P(this.w),s=new X(this.w),i=e.config.xaxis.crosshairs.fill.gradient,a=e.config.xaxis.crosshairs.dropShadow,r=e.config.xaxis.crosshairs.fill.type,o=i.colorFrom,n=i.colorTo,l=i.opacityFrom,c=i.opacityTo,h=i.stops,d=a.enabled,g=a.left,p=a.top,x=a.blur,u=a.color,f=a.opacity;let m=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){"gradient"===r&&(m=t.drawGradient("vertical",o,n,l,c,null,h,null));let i=t.drawRect();1===e.config.xaxis.crosshairs.width&&(i=t.drawLine());let a=e.layout.gridHeight;(!b.isNumber(a)||a<0)&&(a=0);let y=e.config.xaxis.crosshairs.width;(!b.isNumber(y)||y<0)&&(y=0),i.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:a,width:y,height:a,fill:m,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),d&&(i=s.dropShadow(i,{left:g,top:p,blur:x,color:u,opacity:f})),e.dom.elGraphical.add(i)}}drawYCrosshairs(){const e=this.w,t=new P(this.w),s=e.config.yaxis[0].crosshairs,i=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){const a=t.drawLine(-i,0,e.layout.gridWidth+i,0,s.stroke.color,s.stroke.dashArray,s.stroke.width);a.attr({class:"apexcharts-ycrosshairs"}),e.dom.elGraphical.add(a)}const a=t.drawLine(-i,0,e.layout.gridWidth+i,0,s.stroke.color,0,0);a.attr({class:"apexcharts-ycrosshairs-hidden"}),e.dom.elGraphical.add(a)}}class K{constructor(e){this.w=e}checkResponsiveConfig(e){const t=this.w,s=t.config;if(0===s.responsive.length)return;const i=s.responsive.slice();i.sort((e,t)=>e.breakpoint>t.breakpoint?1:t.breakpoint>e.breakpoint?-1:0).reverse();const a=new D({}),r=(e={})=>{const s=i[0].breakpoint,r=h.isBrowser()?window.innerWidth>0?window.innerWidth:screen.width:0;if(r>s){const s=b.clone(t.globals.initialConfig);s.series=b.clone(t.config.series);const i=F.extendArrayProps(a,s,t);e=b.extend(i,e),e=b.extend(t.config,e),this.overrideResponsiveOptions(e)}else for(let s=0;s<i.length;s++)r<i[s].breakpoint&&(e=F.extendArrayProps(a,i[s].options,t),e=b.extend(t.config,e),this.overrideResponsiveOptions(e))};if(e){let s=F.extendArrayProps(a,e,t);s=b.extend(t.config,s),s=b.extend(s,e),r(s)}else r({})}overrideResponsiveOptions(e){const t=new D(e).init({responsiveOverride:!0});this.w.config=t}}class Q{constructor(e,{toggleDataSeries:t,revertDefaultAxisMinMax:s,updateSeries:i}={}){this.w=e,this._toggleDataSeries=t||null,this._revertDefaultAxisMinMax=s||null,this._updateSeries=i||null,this.legendInactiveClass="legend-mouseover-inactive"}clearSeriesCache(){const e=this.w;e.globals.cachedSelectors&&(delete e.globals.cachedSelectors.allSeriesEls,delete e.globals.cachedSelectors.highlightSeriesEls)}getAllSeriesEls(){const e=this.w,t="allSeriesEls";return e.globals.cachedSelectors[t]||(e.globals.cachedSelectors[t]=e.dom.baseEl.getElementsByClassName("apexcharts-series")),e.globals.cachedSelectors[t]}getSeriesByName(e){return this.w.dom.baseEl.querySelector(`.apexcharts-inner .apexcharts-series[seriesName='${b.escapeString(e)}']`)}isSeriesHidden(e){const t=this.getSeriesByName(e),s=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:s}}addCollapsedClassToSeries(e,t){Q.addCollapsedClassToSeries(this.w,e,t)}static addCollapsedClassToSeries(e,t,s){function i(e){for(let i=0;i<e.length;i++)e[i].index===s&&t.node.classList.add("apexcharts-series-collapsed")}i(e.globals.collapsedSeries),i(e.globals.ancillaryCollapsedSeries)}toggleSeries(e){var t;const s=this.isSeriesHidden(e);return null==(t=this._toggleDataSeries)||t.call(this,s.realIndex,s.isHidden),s.isHidden}showSeries(e){var t;const s=this.isSeriesHidden(e);s.isHidden&&(null==(t=this._toggleDataSeries)||t.call(this,s.realIndex,!0))}hideSeries(e){var t;const s=this.isSeriesHidden(e);s.isHidden||null==(t=this._toggleDataSeries)||t.call(this,s.realIndex,!1)}resetSeries(e=!0,t=!0,s=!0){var i,a;const r=this.w;this.clearSeriesCache();let o=b.clone(r.globals.initialSeries);r.globals.previousPaths=[],s?(r.globals.collapsedSeries=[],r.globals.ancillaryCollapsedSeries=[],r.globals.collapsedSeriesIndices=[],r.globals.ancillaryCollapsedSeriesIndices=[]):o=this.emptyCollapsedSeries(o),r.config.series=o,e&&(t&&(r.interact.zoomed=!1,null==(i=this._revertDefaultAxisMinMax)||i.call(this)),null==(a=this._updateSeries)||a.call(this,o,r.config.chart.animations.dynamicAnimation.enabled))}emptyCollapsedSeries(e){const t=this.w;for(let s=0;s<e.length;s++)t.globals.collapsedSeriesIndices.indexOf(s)>-1&&(e[s].data=[]);return e}highlightSeries(e){const t=this.w,s=this.getSeriesByName(e),i=parseInt(null==s?void 0:s.getAttribute("data:realIndex"),10),a="highlightSeriesEls";let r=t.globals.cachedSelectors[a];r||(r=t.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),t.globals.cachedSelectors[a]=r);let o=null,n=null,l=null;if(t.globals.axisCharts||"radialBar"===t.config.chart.type)if(t.globals.axisCharts){o=t.dom.baseEl.querySelector(`.apexcharts-series[data\\:realIndex='${i}']`),n=t.dom.baseEl.querySelector(`.apexcharts-datalabels[data\\:realIndex='${i}']`);const e=t.globals.seriesYAxisReverseMap[i];l=t.dom.baseEl.querySelector(`.apexcharts-yaxis[rel='${e}']`)}else o=t.dom.baseEl.querySelector(`.apexcharts-series[rel='${i+1}']`);else o=t.dom.baseEl.querySelector(`.apexcharts-series[rel='${i+1}'] path`);for(let e=0;e<r.length;e++)r[e].classList.add(this.legendInactiveClass);if(o)t.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),null!==n&&n.classList.remove(this.legendInactiveClass),null!==l&&l.classList.remove(this.legendInactiveClass);else for(let e=0;e<r.length;e++)r[e].classList.remove(this.legendInactiveClass)}toggleSeriesOnHover(e,t){const s=this.w;t||(t=e.target);const i=s.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if("mousemove"===e.type){const e=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(s.seriesData.seriesNames[e])}else if("mouseout"===e.type)for(let e=0;e<i.length;e++)i[e].classList.remove(this.legendInactiveClass)}highlightRangeInSeries(e,t){const s=this.w,i=s.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),a=e=>{for(let t=0;t<i.length;t++)i[t].classList[e](this.legendInactiveClass)},r=(e,t)=>{for(let s=0;s<i.length;s++){const a=Number(i[s].getAttribute("val"));a>=e.from&&(a<e.to||e.to===t&&a===t)&&i[s].classList.remove(this.legendInactiveClass)}};if("mousemove"===e.type){const e=parseInt(t.getAttribute("rel"),10)-1;a("add");const i=s.config.plotOptions.heatmap.colorScale.ranges;r(i[e],i.reduce((e,t)=>Math.max(e,t.to),0))}else"mouseout"===e.type&&a("remove")}getActiveConfigSeriesIndex(e="asc",t=[]){const s=this.w;let i=0;if(s.config.series.length>1){const a=s.config.series.map((e,i)=>e.data&&e.data.length>0&&-1===s.globals.collapsedSeriesIndices.indexOf(i)&&(!s.globals.comboCharts||0===t.length||t.length&&t.indexOf(s.config.series[i].type)>-1)?i:-1);for(let t="asc"===e?0:a.length-1;"asc"===e?t<a.length:t>=0;"asc"===e?t++:t--)if(-1!==a[t]){i=a[t];break}}return i}getBarSeriesIndices(){return this.w.globals.comboCharts?this.w.config.series.map((e,t)=>"bar"===e.type||"column"===e.type?t:-1).filter(e=>-1!==e):this.w.config.series.map((e,t)=>t)}getPreviousPaths(){const e=this.w;function t(t,s,i){const a=t[s].childNodes,r={type:i,paths:[],realIndex:t[s].getAttribute("data:realIndex")};for(let e=0;e<a.length;e++)if(a[e].hasAttribute("pathTo")){const t=a[e].getAttribute("pathTo");r.paths.push({d:t})}e.globals.previousPaths.push(r)}e.globals.previousPaths=[];["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(s=>{const i=(a=s,e.dom.baseEl.querySelectorAll(`.apexcharts-${a}-series .apexcharts-series`));var a;for(let e=0;e<i.length;e++)t(i,e,s)});const s=e.dom.baseEl.querySelectorAll(`.apexcharts-${e.config.chart.type} .apexcharts-series`);if(s.length>0)for(let t=0;t<s.length;t++){const s=e.dom.baseEl.querySelectorAll(`.apexcharts-${e.config.chart.type} .apexcharts-series[data\\:realIndex='${t}'] rect`),i=[];for(let e=0;e<s.length;e++){const t=t=>s[e].getAttribute(t),a={x:parseFloat(t("x")),y:parseFloat(t("y")),width:parseFloat(t("width")),height:parseFloat(t("height"))};i.push({rect:a,color:s[e].getAttribute("color")})}e.globals.previousPaths.push(i)}e.globals.axisCharts||(e.globals.previousPaths=e.seriesData.series)}clearPreviousPaths(){const e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}handleNoData(){const e=this.w,t=e.config.noData,s=new P(this.w);let i=e.globals.svgWidth/2,a=e.globals.svgHeight/2,r="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,"left"===t.align?(i=10,r="start"):"right"===t.align&&(i=e.globals.svgWidth-10,r="end"),"top"===t.verticalAlign?a=50:"bottom"===t.verticalAlign&&(a=e.globals.svgHeight-50),i+=t.offsetX,a=a+parseInt(t.style.fontSize,10)+2+t.offsetY,void 0!==t.text&&""!==t.text){const o=s.drawText({x:i,y:a,text:t.text,textAnchor:r,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.dom.Paper.add(o)}}setNullSeriesToZeroValues(e){const t=this.w;for(let s=0;s<e.length;s++)if(0===e[s].length)for(let i=0;i<e[t.globals.maxValsInArrayIndex].length;i++)e[s].push(0);return e}hasAllSeriesEqualX(){let e=!0;const t=this.w,s=this.filteredSeriesX();for(let t=0;t<s.length-1;t++)if(s[t][0]!==s[t+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}filteredSeriesX(){return this.w.seriesData.seriesX.map(e=>e.length>0?e:[])}}class ee{constructor(e){this.w=e,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}checkHeatmapDistributed(){const{chart:e,plotOptions:t}=this.w.config;return"treemap"===e.type&&t.treemap&&t.treemap.distributed||"heatmap"===e.type&&t.heatmap&&t.heatmap.distributed}checkBarDistributed(){const{chart:e,plotOptions:t}=this.w.config;return t.bar&&t.bar.distributed&&("bar"===e.type||"rangeBar"===e.type)}init(){this.setDefaultColors()}setDefaultColors(){const e=this.w,t=new b;e.dom.elWrap.classList.add(`apexcharts-theme-${e.config.theme.mode||"light"}`);const s=[...e.config.colors||e.config.fill.colors||[]];e.globals.colors=this.getColors(s),this.applySeriesColors(e.seriesData.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.seriesData.series,t));const i=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],i),this.applyDataLabelsColors(i),this.applyRadarPolygonsColors(),this.applyMarkersColors(i)}getColors(e){const t=this.w;return e&&0!==e.length?Array.isArray(e)&&e.length>0&&"function"==typeof e[0]?(this.isColorFn=!0,t.config.series.map((s,i)=>{const a=e[i]||e[0];return"function"==typeof a?a({value:t.globals.axisCharts?t.seriesData.series[i][0]||0:t.seriesData.series[i],seriesIndex:i,dataPointIndex:i,w:this.w}):a})):e:this.predefined()}applySeriesColors(e,t){e.forEach((e,s)=>{e&&(t[s]=e)})}getMonochromeColors(e,t,s){const{color:i,shadeIntensity:a,shadeTo:r}=e,o=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,n=1/(o/a);let l=0;return Array.from({length:o},()=>{const e="dark"===r?s.shadeColor(-1*l,i):s.shadeColor(l,i);return l+=n,e})}applyColorTypes(e,t){const s=this.w;e.forEach(e=>{s.globals[e].colors=void 0===s.config[e].colors?this.isColorFn?s.config.colors:t:s.config[e].colors.slice(),this.pushExtraColors(s.globals[e].colors)})}applyDataLabelsColors(e){const t=this.w;t.globals.dataLabels.style.colors=void 0===t.config.dataLabels.style.colors?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}applyRadarPolygonsColors(){const e=this.w;e.globals.radarPolygons.fill.colors=void 0===e.config.plotOptions.radar.polygons.fill.colors?["dark"===e.config.theme.mode?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}applyMarkersColors(e){const t=this.w;t.globals.markers.colors=void 0===t.config.markers.colors?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}pushExtraColors(e,t,s=null){const i=this.w;let a=t||i.seriesData.series.length;if(null===s&&(s=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===i.config.chart.type&&i.config.plotOptions.heatmap&&i.config.plotOptions.heatmap.colorScale.inverse),s&&i.seriesData.series.length&&(a=i.seriesData.series[i.globals.maxValsInArrayIndex].length*i.seriesData.series.length),e.length<a){const t=a-e.length;for(let s=0;s<t;s++)e.push(e[s])}}updateThemeOptions(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};const t=e.theme.mode,s="dark"===t?"palette4":"light"===t?"palette1":e.theme.palette||"palette1",i="dark"===t?"#f6f7f8":"light"===t?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=i,e.theme.palette=s,e}predefined(){const e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]};return e[this.w.config.theme.palette]||e.palette1}}class te{constructor(e){this.w=e}draw(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}drawTitleSubtitle(e){const t=this.w,s="title"===e?t.config.title:t.config.subtitle;let i=t.globals.svgWidth/2,a=s.offsetY,r="middle";if("left"===s.align?(i=10,r="start"):"right"===s.align&&(i=t.globals.svgWidth-10,r="end"),i+=s.offsetX,a=a+parseInt(s.style.fontSize,10)+s.margin/2,void 0!==s.text){const o=new P(this.w).drawText({x:i,y:a,text:s.text,textAnchor:r,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,fontWeight:s.style.fontWeight,foreColor:s.style.color,opacity:1});o.node.setAttribute("class",`apexcharts-${e}-text`),t.dom.Paper.add(o)}}}let se=class{constructor(e){this.w=e.w,this.dCtx=e}getTitleSubtitleCoords(e){const t=this.w;let s=0,i=0;const a="title"===e?t.config.title.floating:t.config.subtitle.floating,r=t.dom.baseEl.querySelector(`.apexcharts-${e}-text`);if(null!==r&&!a){const e=r.getBoundingClientRect();s=e.width,i=t.globals.axisCharts?e.height+5:e.height}return{width:s,height:i}}getLegendsRect(){const e=this.w,t=e.dom.elLegendWrap;e.config.legend.height||"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||(t.style.maxHeight=e.globals.svgHeight/2+"px");const s=Object.assign({},b.getBoundingClientRect(t));return null!==t&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:s.x,y:s.y,height:s.height,width:0===s.height?0:s.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==e.config.legend.position&&"right"!==e.config.legend.position||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}getDatalabelsRect(){const e=this.w,t=[];e.config.series.forEach((s,i)=>{s.data.forEach((s,a)=>{const r=(o=e.seriesData.series[i][a],e.config.dataLabels.formatter(o,{seriesIndex:i,dataPointIndex:a,w:e}));var o;t.push(r)})});const s=b.getLargestStringFromArr(t),i=new P(this.w),a=e.config.dataLabels.style,r=i.getTextRects(s,parseInt(a.fontSize),a.fontFamily);return{width:1.05*r.width,height:r.height}}getLargestStringFromMultiArr(e,t){let s=e;if(this.w.axisFlags.isMultiLineX){const e=t.map(e=>Array.isArray(e)?e.length:1),i=Math.max(...e);s=t[e.indexOf(i)]}return s}};class ie{constructor(e){this.w=e.w,this.dCtx=e}getxAxisLabelsCoords(){const e=this.w;let t,s=e.labelData.labels.slice();if(e.config.xaxis.convertedCatToNumeric&&0===s.length&&(s=e.labelData.categoryLabels),e.labelData.timescaleLabels.length>0){const s=this.getxAxisTimeScaleLabelsCoords();t={width:s.width,height:s.height},e.layout.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==e.config.legend.position&&"right"!==e.config.legend.position||e.config.legend.floating?0:this.dCtx.lgRect.width;const i=e.formatters.xLabelFormatter;let a=b.getLargestStringFromArr(s),r=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,s);e.globals.isBarHorizontal&&(a=e.globals.yAxisScale[0].result.reduce((e,t)=>e.length>t.length?e:t,0),r=a);const o=new w(this.w),n=a;a=o.xLabelFormat(i,a,n,{i:void 0,dateFormatter:new y(this.w).formatDate,w:e}),r=o.xLabelFormat(i,r,n,{i:void 0,dateFormatter:new y(this.w).formatDate,w:e}),(e.config.xaxis.convertedCatToNumeric&&void 0===a||""===String(a).trim())&&(a="1",r=a);const l=new P(this.w);let c=l.getTextRects(a,e.config.xaxis.labels.style.fontSize),h=c;if(a!==r&&(h=l.getTextRects(r,e.config.xaxis.labels.style.fontSize)),t={width:c.width>=h.width?c.width:h.width,height:c.height>=h.height?c.height:h.height},t.width*s.length>e.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==e.config.xaxis.labels.rotate||e.config.xaxis.labels.rotateAlways){if(!e.globals.isBarHorizontal){e.layout.rotateXLabels=!0;const s=t=>l.getTextRects(t,e.config.xaxis.labels.style.fontSize,e.config.xaxis.labels.style.fontFamily,`rotate(${e.config.xaxis.labels.rotate} 0 0)`,!1);c=s(a),a!==r&&(h=s(r)),t.height=(c.height>h.height?c.height:h.height)/1.5,t.width=c.width>h.width?c.width:h.width}}else e.layout.rotateXLabels=!1}return e.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}getxAxisGroupLabelsCoords(){var e;const t=this.w;if(!t.labelData.hasXaxisGroups)return{width:0,height:0};const s=(null==(e=t.config.xaxis.group.style)?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,i=t.labelData.groups.map(e=>e.title);let a;const r=b.getLargestStringFromArr(i),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(r,i),n=new P(this.w),l=n.getTextRects(r,s);let c=l;return r!==o&&(c=n.getTextRects(o,s)),a={width:l.width>=c.width?l.width:c.width,height:l.height>=c.height?l.height:c.height},t.config.xaxis.labels.show||(a={width:0,height:0}),{width:a.width,height:a.height}}getxAxisTitleCoords(){const e=this.w;let t=0,s=0;if(void 0!==e.config.xaxis.title.text){const i=new P(this.w).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=i.width,s=i.height}return{width:t,height:s}}getxAxisTimeScaleLabelsCoords(){const e=this.w;this.dCtx.timescaleLabels=e.labelData.timescaleLabels.slice();const t=this.dCtx.timescaleLabels.map(e=>e.value),s=t.reduce((e,t)=>void 0===e?0:e.length>t.length?e:t,0),i=new P(this.w).getTextRects(s,e.config.xaxis.labels.style.fontSize);return 1.05*i.width*t.length>e.layout.gridWidth&&0!==e.config.xaxis.labels.rotate&&(e.globals.overlappingXLabels=!0),i}additionalPaddingXLabels(e){const t=this.w,s=t.globals,i=t.config,a=i.xaxis.type,r=e.width;s.skipLastTimelinelabel=!1,s.skipFirstTimelinelabel=!1;const o=t.config.yaxis[0].opposite&&t.globals.isBarHorizontal,n=e=>{if(this.dCtx.timescaleLabels&&this.dCtx.timescaleLabels.length){const a=this.dCtx.timescaleLabels[0],o=this.dCtx.timescaleLabels[this.dCtx.timescaleLabels.length-1].position+r/1.75-this.dCtx.yAxisWidthRight,n=a.position-r/1.75+this.dCtx.yAxisWidthLeft,l="right"===t.config.legend.position&&this.dCtx.lgRect.width>0?this.dCtx.lgRect.width:0;o>s.svgWidth-t.layout.translateX-l&&(s.skipLastTimelinelabel=!0),n<-(e.show&&!e.floating||"bar"!==i.chart.type&&"candlestick"!==i.chart.type&&"rangeBar"!==i.chart.type&&"boxPlot"!==i.chart.type?10:r/1.75)&&(s.skipFirstTimelinelabel=!0)}else"datetime"===a?this.dCtx.gridPad.right<r&&!t.layout.rotateXLabels&&(s.skipLastTimelinelabel=!0):"datetime"!==a&&this.dCtx.gridPad.right<r/2-this.dCtx.yAxisWidthRight&&!t.layout.rotateXLabels&&!t.config.xaxis.labels.trim&&(this.dCtx.xPadRight=r/2+1)},l=(e,t)=>{i.yaxis.length>1&&(e=>-1!==s.collapsedSeriesIndices.indexOf(e))(t)||n(e)};i.yaxis.forEach((e,t)=>{o?(this.dCtx.gridPad.left<r&&(this.dCtx.xPadLeft=r/2+1),this.dCtx.xPadRight=r/2+1):l(e,t)})}}class ae{constructor(e){this.w=e.w,this.dCtx=e}getyAxisLabelsCoords(){const e=this.w,t=[];let s=10;const i=new W(this.w,{theme:this.dCtx.theme,timeScale:this.dCtx.timeScale});return e.config.yaxis.map((a,r)=>{const o={seriesIndex:r,dataPointIndex:-1,w:e},n=e.globals.yAxisScale[r];let l=0;if(!i.isYAxisHidden(r)&&a.labels.show&&void 0!==a.labels.minWidth&&(l=a.labels.minWidth),!i.isYAxisHidden(r)&&a.labels.show&&n.result.length){const i=e.formatters.yLabelFormatters[r],c=n.niceMin===Number.MIN_VALUE?0:n.niceMin;let h=n.result.reduce((e,t)=>{var s,a;return(null==(s=String(i(e,o)))?void 0:s.length)>(null==(a=String(i(t,o)))?void 0:a.length)?e:t},c);h=i(h,o);let d=h;if(void 0!==h&&0!==h.length||(h=n.niceMax),1===String(h).length&&(h+=".0",d=h),e.globals.isBarHorizontal){s=0;const t=e.labelData.labels.slice();h=b.getLargestStringFromArr(t),h=i(h,{seriesIndex:r,dataPointIndex:-1,w:e}),d=this.dCtx.dimHelpers.getLargestStringFromMultiArr(h,t)}const g=new P(this.w),p="rotate(".concat(a.labels.rotate," 0 0)"),x=g.getTextRects(h,a.labels.style.fontSize,a.labels.style.fontFamily,p,!1);let u=x;h!==d&&(u=g.getTextRects(d,a.labels.style.fontSize,a.labels.style.fontFamily,p,!1)),t.push({width:(l>u.width||l>x.width?l:u.width>x.width?u.width:x.width)+s,height:u.height>x.height?u.height:x.height})}else t.push({width:0,height:0})}),t}getyAxisTitleCoords(){const e=this.w,t=[];return e.config.yaxis.map(e=>{if(e.show&&void 0!==e.title.text){const s=new P(this.w),i="rotate(".concat(e.title.rotate," 0 0)"),a=s.getTextRects(e.title.text,e.title.style.fontSize,e.title.style.fontFamily,i,!1);t.push({width:a.width,height:a.height})}else t.push({width:0,height:0})}),t}getTotalYAxisWidth(){const e=this.w;let t=0,s=0,i=0;const a=e.globals.yAxisScale.length>1?10:0,r=new W(this.w,{theme:this.dCtx.theme,timeScale:this.dCtx.timeScale}),o=(o,n)=>{const l=e.config.yaxis[n].floating;let c=0;o.width>0&&!l?(c=o.width+a,function(t){return e.globals.ignoreYAxisIndexes.indexOf(t)>-1}(n)&&(c=c-o.width-a)):c=l||r.isYAxisHidden(n)?0:5,e.config.yaxis[n].opposite?i+=c:s+=c,t+=c};return e.layout.yLabelsCoords.map((e,t)=>{o(e,t)}),e.layout.yTitleCoords.map((e,t)=>{o(e,t)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.layout.yLabelsCoords[0].width+e.layout.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=s,this.dCtx.yAxisWidthRight=i,t}}class re{constructor(e){this.w=e.w,this.dCtx=e}gridPadForColumnsInNumericAxis(e){const{w:t}=this,{config:s,globals:i}=t;if(i.noData||i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===s.series.length)return 0;const a=e=>["bar","rangeBar","candlestick","boxPlot"].includes(e),r=s.chart.type;let o=0,n=a(r)?s.series.length:1;i.comboBarCount>0&&(n=i.comboBarCount),i.collapsedSeries.forEach(e=>{a(e.type)&&(n-=1)}),s.chart.stacked&&(n=1);const l=a(r)||i.comboBarCount>0;let c=Math.abs(i.initialMaxX-i.initialMinX);if(l&&t.axisFlags.isXNumeric&&!i.isBarHorizontal&&n>0&&0!==c){c<=3&&(c=i.dataPoints);const t=c/e;let a=i.minXDiff&&i.minXDiff/t>0?i.minXDiff/t:0;a>e/2&&(a/=2),o=a*parseInt(s.plotOptions.bar.columnWidth,10)/100,o<1&&(o=1),i.barPadForNumericAxis=o}return o}gridPadFortitleSubtitle(){const{w:e}=this,{globals:t}=e;let s=this.dCtx.isSparkline||!t.axisCharts?0:10;["title","subtitle"].forEach(i=>{void 0!==e.config[i].text?s+=e.config[i].margin:s+=this.dCtx.isSparkline||!t.axisCharts?0:5}),!e.config.legend.show||"bottom"!==e.config.legend.position||e.config.legend.floating||t.axisCharts||(s+=10);const i=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),a=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");e.layout.gridHeight-=i.height+a.height+s,e.layout.translateY+=i.height+a.height+s}setGridXPosForDualYAxis(e,t){const{w:s}=this,i=new W(this.w,{theme:this.dCtx.theme,timeScale:this.dCtx.timeScale});s.config.yaxis.forEach((a,r)=>{-1!==s.globals.ignoreYAxisIndexes.indexOf(r)||a.floating||i.isYAxisHidden(r)||(a.opposite&&(s.layout.translateX-=t[r].width+e[r].width+parseInt(a.labels.style.fontSize,10)/1.2+12),s.layout.translateX<2&&(s.layout.translateX=2))})}}class oe{constructor(e,t){this.w=e,this.ctx=t,this.theme=t.theme,this.timeScale=t.timeScale,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new se(this),this.dimYAxis=new ae(this),this.dimXAxis=new ie(this),this.dimGrid=new re(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}plotCoords(){const e=this.w,t=e.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};const s=Array.isArray(e.config.stroke.width)?Math.max(...e.config.stroke.width):e.config.stroke.width;this.isSparkline&&((e.config.markers.discrete.length>0||e.config.markers.size>0)&&Object.entries(this.gridPad).forEach(([e,t])=>{this.gridPad[e]=Math.max(t,this.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(s/2,this.gridPad.top),this.gridPad.bottom=Math.max(s/2,this.gridPad.bottom)),t.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),e.layout.gridHeight=e.layout.gridHeight-this.gridPad.top-this.gridPad.bottom,e.layout.gridWidth=e.layout.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;const i=this.dimGrid.gridPadForColumnsInNumericAxis(e.layout.gridWidth);return e.layout.gridWidth=e.layout.gridWidth-2*i,e.layout.translateX=e.layout.translateX+this.gridPad.left+this.xPadLeft+(i>0?i:0),e.layout.translateY=e.layout.translateY+this.gridPad.top,{layout:{gridHeight:e.layout.gridHeight,gridWidth:e.layout.gridWidth,translateX:e.layout.translateX,translateY:e.layout.translateY,translateXAxisX:e.layout.translateXAxisX,translateXAxisY:e.layout.translateXAxisY,rotateXLabels:e.layout.rotateXLabels,xAxisHeight:e.layout.xAxisHeight,xAxisLabelsHeight:e.layout.xAxisLabelsHeight,xAxisGroupLabelsHeight:e.layout.xAxisGroupLabelsHeight,xAxisLabelsWidth:e.layout.xAxisLabelsWidth,yLabelsCoords:e.layout.yLabelsCoords,yTitleCoords:e.layout.yTitleCoords}}}setDimensionsForAxisCharts(){const e=this.w,t=e.globals,s=this.dimYAxis.getyAxisLabelsCoords(),i=this.dimYAxis.getyAxisTitleCoords();t.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),e.layout.yLabelsCoords=[],e.layout.yTitleCoords=[],e.config.yaxis.map((t,a)=>{e.layout.yLabelsCoords.push({width:s[a].width,index:a}),e.layout.yTitleCoords.push({width:i[a].width,index:a})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();const a=this.dimXAxis.getxAxisLabelsCoords(),r=this.dimXAxis.getxAxisGroupLabelsCoords(),o=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(a,o,r),e.layout.translateXAxisY=e.layout.rotateXLabels?this.xAxisHeight/8:-4,e.layout.translateXAxisX=e.layout.rotateXLabels&&e.axisFlags.isXNumeric&&e.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,e.globals.isBarHorizontal&&(e.layout.rotateXLabels=!1,e.layout.translateXAxisY=parseInt(e.config.xaxis.labels.style.fontSize,10)/1.5*-1),e.layout.translateXAxisY=e.layout.translateXAxisY+e.config.xaxis.labels.offsetY,e.layout.translateXAxisX=e.layout.translateXAxisX+e.config.xaxis.labels.offsetX;let n=this.yAxisWidth,l=this.xAxisHeight;e.layout.xAxisLabelsHeight=this.xAxisHeight-o.height,e.layout.xAxisGroupLabelsHeight=e.layout.xAxisLabelsHeight-a.height,e.layout.xAxisLabelsWidth=this.xAxisWidth,e.layout.xAxisHeight=this.xAxisHeight;let c=10;("radar"===e.config.chart.type||this.isSparkline)&&(n=0,l=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===e.config.chart.type)&&(n=0,l=0,c=0),this.isSparkline||"treemap"===e.config.chart.type||this.dimXAxis.additionalPaddingXLabels(a);const h=()=>{e.layout.translateX=n+this.datalabelsCoords.width,e.layout.gridHeight=t.svgHeight-this.lgRect.height-l-(this.isSparkline||"treemap"===e.config.chart.type?0:e.layout.rotateXLabels?10:15),e.layout.gridWidth=t.svgWidth-n-2*this.datalabelsCoords.width};switch("top"===e.config.xaxis.position&&(c=e.layout.xAxisHeight-e.config.xaxis.axisTicks.height-5),e.config.legend.position){case"bottom":e.layout.translateY=c,h();break;case"top":e.layout.translateY=this.lgRect.height+c,h();break;case"left":e.layout.translateY=c,e.layout.translateX=this.lgRect.width+n+this.datalabelsCoords.width,e.layout.gridHeight=t.svgHeight-l-12,e.layout.gridWidth=t.svgWidth-this.lgRect.width-n-2*this.datalabelsCoords.width;break;case"right":e.layout.translateY=c,e.layout.translateX=n+this.datalabelsCoords.width,e.layout.gridHeight=t.svgHeight-l-12,e.layout.gridWidth=t.svgWidth-this.lgRect.width-n-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(i,s);new U(this.w,{theme:this.theme,timeScale:this.timeScale}).setYAxisXPosition(s,i)}setDimensionsForNonAxisCharts(){const e=this.w,t=e.globals,s=e.config;let i=0;e.config.legend.show&&!e.config.legend.floating&&(i=20);const a="pie"===s.chart.type||"polarArea"===s.chart.type||"donut"===s.chart.type?"pie":"radialBar",r=s.plotOptions[a].offsetY,o=s.plotOptions[a].offsetX;if(!s.legend.show||s.legend.floating){e.layout.gridHeight=t.svgHeight;const s=e.dom.elWrap.getBoundingClientRect().width;return e.layout.gridWidth=Math.min(s,e.layout.gridHeight),e.layout.translateY=r,void(e.layout.translateX=o+(t.svgWidth-e.layout.gridWidth)/2)}switch(s.legend.position){case"bottom":e.layout.gridHeight=t.svgHeight-this.lgRect.height,e.layout.gridWidth=t.svgWidth,e.layout.translateY=r-10,e.layout.translateX=o+(t.svgWidth-e.layout.gridWidth)/2;break;case"top":e.layout.gridHeight=t.svgHeight-this.lgRect.height,e.layout.gridWidth=t.svgWidth,e.layout.translateY=this.lgRect.height+r+10,e.layout.translateX=o+(t.svgWidth-e.layout.gridWidth)/2;break;case"left":e.layout.gridWidth=t.svgWidth-this.lgRect.width-i,e.layout.gridHeight="auto"!==s.chart.height?t.svgHeight:e.layout.gridWidth,e.layout.translateY=r,e.layout.translateX=o+this.lgRect.width+i;break;case"right":e.layout.gridWidth=t.svgWidth-this.lgRect.width-i-5,e.layout.gridHeight="auto"!==s.chart.height?t.svgHeight:e.layout.gridWidth,e.layout.translateY=r,e.layout.translateX=o+10;break;default:throw new Error("Legend position not supported")}}conditionalChecksForAxisCoords(e,t,s){const i=this.w,a=i.labelData.hasXaxisGroups?2:1,r=s.height+e.height+t.height,o=i.axisFlags.isMultiLineX?1.2:1.618,n=i.layout.rotateXLabels?22:10,l=i.layout.rotateXLabels&&"bottom"===i.config.legend.position?10:0;this.xAxisHeight=r*o+a*n+l,this.xAxisWidth=e.width,this.xAxisHeight-t.height>i.config.xaxis.labels.maxHeight&&(this.xAxisHeight=i.config.xaxis.labels.maxHeight),i.config.xaxis.labels.minHeight&&this.xAxisHeight<i.config.xaxis.labels.minHeight&&(this.xAxisHeight=i.config.xaxis.labels.minHeight),i.config.xaxis.floating&&(this.xAxisHeight=0);let c=0,h=0;i.config.yaxis.forEach(e=>{c+=e.labels.minWidth,h+=e.labels.maxWidth}),this.yAxisWidth<c&&(this.yAxisWidth=c),this.yAxisWidth>h&&(this.yAxisWidth=h)}}class ne{constructor(e){this.w=e.w,this.lgCtx=e}getLegendStyles(){if(h.isSSR())return null;const e=document.createElement("style");e.setAttribute("type","text/css");const t=this.w.config.chart.nonce;t&&e.setAttribute("nonce",t);const s=document.createTextNode(".apexcharts-flip-y {\n  transform: scaleY(-1) translateY(-100%);\n  transform-origin: top;\n  transform-box: fill-box;\n}\n.apexcharts-flip-x {\n  transform: scaleX(-1);\n  transform-origin: center;\n  transform-box: fill-box;\n}\n.apexcharts-legend {\n  display: flex;\n  overflow: auto;\n  padding: 0 10px;\n}\n.apexcharts-legend.apexcharts-legend-group-horizontal {\n  flex-direction: column;\n}\n.apexcharts-legend-group {\n  display: flex;\n}\n.apexcharts-legend-group-vertical {\n  flex-direction: column-reverse;\n}\n.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\n  flex-wrap: wrap\n}\n.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\n  flex-direction: column;\n  bottom: 0;\n}\n.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\n  justify-content: flex-start;\n  align-items: flex-start;\n}\n.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\n  justify-content: center;\n  align-items: center;\n}\n.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\n  justify-content: flex-end;\n  align-items: flex-end;\n}\n.apexcharts-legend-series {\n  cursor: pointer;\n  line-height: normal;\n  display: flex;\n  align-items: center;\n}\n.apexcharts-legend-text {\n  position: relative;\n  font-size: 14px;\n}\n.apexcharts-legend-text *, .apexcharts-legend-marker * {\n  pointer-events: none;\n}\n.apexcharts-legend-marker {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  margin-right: 1px;\n}\n\n.apexcharts-legend-series.apexcharts-no-click {\n  cursor: auto;\n}\n.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\n  display: none !important;\n}\n.apexcharts-inactive-legend {\n  opacity: 0.45;\n} ");return e.appendChild(s),e}getLegendDimensions(){const e=this.w.dom.baseEl.querySelector(".apexcharts-legend");if(!e)return{clwh:0,clww:0};const{width:t,height:s}=e.getBoundingClientRect();return{clwh:s,clww:t}}appendToForeignObject(){const e=this.getLegendStyles();!1!==this.w.config.chart.injectStyleSheet&&e&&this.w.dom.elLegendForeign.appendChild(e)}toggleDataSeries(e,t){const s=this.w;if(s.globals.axisCharts||"radialBar"===s.config.chart.type){s.globals.resized=!0;let i=null,a=null;if(s.globals.risingSeries=[],s.globals.axisCharts){if(i=s.dom.baseEl.querySelector(`.apexcharts-series[data\\:realIndex='${e}']`),!i)return;a=parseInt(i.getAttribute("data:realIndex"),10)}else{if(i=s.dom.baseEl.querySelector(`.apexcharts-series[rel='${e+1}']`),!i)return;a=parseInt(i.getAttribute("rel"),10)-1}if(t){[{cs:s.globals.collapsedSeries,csi:s.globals.collapsedSeriesIndices},{cs:s.globals.ancillaryCollapsedSeries,csi:s.globals.ancillaryCollapsedSeriesIndices}].forEach(e=>{this.riseCollapsedSeries(e.cs,e.csi,a)})}else this.hideSeries({seriesEl:i,realIndex:a});if(s.config.chart.accessibility.enabled){const t=s.dom.baseEl.querySelector(`.apexcharts-legend-series[rel="${e+1}"]`);if(t){const i=s.globals.collapsedSeriesIndices.includes(a)||s.globals.ancillaryCollapsedSeriesIndices.includes(a);t.setAttribute("aria-pressed",i?"true":"false");const r=t.querySelector(".apexcharts-legend-text"),o=r?r.textContent:s.seriesData.seriesNames[e],n=i?"hidden":"visible";t.setAttribute("aria-label",`${o}, ${n}. Press Enter or Space to toggle.`)}}}else{const t=s.dom.Paper.findOne(` .apexcharts-series[rel='${e+1}'] path`),i=s.config.chart.type;if("pie"===i||"polarArea"===i||"donut"===i){const e=s.config.plotOptions.pie.donut.labels;new P(this.w).pathMouseDown(t,null),this.lgCtx.printDataLabelsInner(t.node,e)}if(s.config.chart.accessibility.enabled){const t=s.dom.baseEl.querySelector(`.apexcharts-legend-series[rel="${e+1}"]`);if(t){const i=s.globals.collapsedSeriesIndices.includes(e);t.setAttribute("aria-pressed",i?"true":"false");const a=t.querySelector(".apexcharts-legend-text"),r=a?a.textContent:s.seriesData.seriesNames[e],o=i?"hidden":"visible";t.setAttribute("aria-label",`${r}, ${o}. Press Enter or Space to toggle.`)}}}}getSeriesAfterCollapsing({realIndex:e}){const t=this.w,s=t.globals,i=b.clone(t.config.series);if(s.axisCharts){const a=t.config.yaxis[s.seriesYAxisReverseMap[e]],r={index:e,data:i[e].data.slice(),type:i[e].type||t.config.chart.type};if(a&&a.show&&a.showAlways)s.ancillaryCollapsedSeriesIndices.indexOf(e)<0&&(s.ancillaryCollapsedSeries.push(r),s.ancillaryCollapsedSeriesIndices.push(e));else if(s.collapsedSeriesIndices.indexOf(e)<0){s.collapsedSeries.push(r),s.collapsedSeriesIndices.push(e);const t=s.risingSeries.indexOf(e);s.risingSeries.splice(t,1)}}else s.collapsedSeries.push({index:e,data:i[e]}),s.collapsedSeriesIndices.push(e);return s.allSeriesCollapsed=s.collapsedSeries.length+s.ancillaryCollapsedSeries.length===t.config.series.length,this._getSeriesBasedOnCollapsedState(i)}hideSeries({seriesEl:e,realIndex:t}){const s=this.w,i=this.getSeriesAfterCollapsing({realIndex:t}),a=e.childNodes;for(let e=0;e<a.length;e++)a[e].classList.contains("apexcharts-series-markers-wrap")&&(a[e].classList.contains("apexcharts-hide")?a[e].classList.remove("apexcharts-hide"):a[e].classList.add("apexcharts-hide"));this.lgCtx.updateSeries(i,s.config.chart.animations.dynamicAnimation.enabled)}riseCollapsedSeries(e,t,s){const i=this.w;let a=b.clone(i.config.series);if(e.length>0){for(let r=0;r<e.length;r++)e[r].index===s&&(i.globals.axisCharts?a[s].data=e[r].data.slice():a[s]=e[r].data,"number"!=typeof a[s]&&(a[s].hidden=!1),e.splice(r,1),t.splice(r,1),i.globals.risingSeries.push(s),r--);a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.updateSeries(a,i.config.chart.animations.dynamicAnimation.enabled)}}_getSeriesBasedOnCollapsedState(e){const t=this.w;let s=0;return t.globals.axisCharts?e.forEach((i,a)=>{t.globals.collapsedSeriesIndices.indexOf(a)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(a)<0||(e[a].data=[],s++)}):e.forEach((i,a)=>{t.globals.collapsedSeriesIndices.indexOf(a)<0||(e[a]=0,s++)}),t.globals.allSeriesCollapsed=s===e.length,e}}class le{constructor(e,t){this.w=e,this.ctx=t,this.printDataLabelsInner=(...e)=>{var s;return null==(s=t.pie)?void 0:s.printDataLabelsInner(...e)},this.updateSeries=(...e)=>t.updateHelpers._updateSeries(...e),this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new ne(this)}init(){const e=this.w,t=e.globals,s=e.config,i=s.legend.showForSingleSeries&&1===this.w.seriesData.series.length||this.isBarsDistributed||this.w.seriesData.series.length>1;if(this.legendHelpers.appendToForeignObject(),(i||!t.axisCharts)&&s.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),"bottom"===s.legend.position||"top"===s.legend.position?this.legendAlignHorizontal():"right"!==s.legend.position&&"left"!==s.legend.position||this.legendAlignVertical()}}createLegendMarker({i:e,fillcolor:t}){const s=this.w,i=m.createElement("span");i.classList.add("apexcharts-legend-marker");const a=s.config.legend.markers.shape||s.config.markers.shape;let r=a;Array.isArray(a)&&(r=a[e]);const o=Array.isArray(s.config.legend.markers.size)?parseFloat(s.config.legend.markers.size[e]):parseFloat(s.config.legend.markers.size),c=Array.isArray(s.config.legend.markers.offsetX)?parseFloat(s.config.legend.markers.offsetX[e]):parseFloat(s.config.legend.markers.offsetX),d=Array.isArray(s.config.legend.markers.offsetY)?parseFloat(s.config.legend.markers.offsetY[e]):parseFloat(s.config.legend.markers.offsetY),g=Array.isArray(s.config.legend.markers.strokeWidth)?parseFloat(s.config.legend.markers.strokeWidth[e]):parseFloat(s.config.legend.markers.strokeWidth),p=i.style;if(p.height=2*(o+g)+"px",p.width=2*(o+g)+"px",p.left=c+"px",p.top=d+"px",s.config.legend.markers.customHTML)p.background="transparent",p.color=t[e],Array.isArray(s.config.legend.markers.customHTML)?s.config.legend.markers.customHTML[e]&&(i.innerHTML=s.config.legend.markers.customHTML[e]()):i.innerHTML=s.config.legend.markers.customHTML();else{const a=new O(this.ctx.w,this.ctx).getMarkerConfig({cssClass:`apexcharts-legend-marker apexcharts-marker apexcharts-marker-${r}`,seriesIndex:e,strokeWidth:g,size:o}),c=(h.isBrowser()?window.SVG:global.SVG)().addTo(i).size("100%","100%"),d=new P(this.w).drawMarker(0,0,l(n({},a),{pointFillColor:Array.isArray(t)?t[e]:a.pointFillColor,shape:r}));s.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(e=>{e.node.classList.contains("apexcharts-marker-triangle")?e.node.style.transform="translate(50%, 45%)":e.node.style.transform="translate(50%, 50%)"}),c.add(d)}return i}drawLegends(){var e;const t=this,s=this.w,i=s.config.legend.fontFamily;let a=s.seriesData.seriesNames,r=s.config.legend.markers.fillColors?s.config.legend.markers.fillColors.slice():s.globals.colors.slice();if("heatmap"===s.config.chart.type){const e=s.config.plotOptions.heatmap.colorScale.ranges;a=e.map(e=>e.name?e.name:e.from+" - "+e.to),r=e.map(e=>e.color)}else this.isBarsDistributed&&(a=s.labelData.labels.slice());s.config.legend.customLegendItems.length&&(a=s.config.legend.customLegendItems);const o=s.formatters.legendFormatter,n=s.config.legend.inverseOrder,l=[];s.labelData.seriesGroups.length>1&&s.config.legend.clusterGroupedSeries&&s.labelData.seriesGroups.forEach((e,t)=>{l[t]=m.createElement("div"),l[t].classList.add("apexcharts-legend-group",`apexcharts-legend-group-${t}`),"horizontal"===s.config.legend.clusterGroupedSeriesOrientation?s.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):l[t].classList.add("apexcharts-legend-group-vertical")});for(let t=n?a.length-1:0;n?t>=0:t<=a.length-1;n?t--:t++){const n=o(a[t],{seriesIndex:t,w:s});let c=!1,h=!1;if(s.globals.collapsedSeries.length>0)for(let e=0;e<s.globals.collapsedSeries.length;e++)s.globals.collapsedSeries[e].index===t&&(c=!0);if(s.globals.ancillaryCollapsedSeriesIndices.length>0)for(let e=0;e<s.globals.ancillaryCollapsedSeriesIndices.length;e++)s.globals.ancillaryCollapsedSeriesIndices[e]===t&&(h=!0);const d=this.createLegendMarker({i:t,fillcolor:r});P.setAttrs(d,{rel:t+1,"data:collapsed":c||h}),(c||h)&&d.classList.add("apexcharts-inactive-legend");const g=m.createElement("div");if(s.config.chart.accessibility.enabled&&s.config.chart.accessibility.keyboard.enabled){g.setAttribute("role","button"),g.setAttribute("tabindex","0");const e=Array.isArray(n)?n.join(" "):n,t=c||h,s=t?"hidden":"visible";g.setAttribute("aria-label",`${e}, ${s}. Press Enter or Space to toggle.`),g.setAttribute("aria-pressed",t?"true":"false")}const p=m.createElement("span");p.classList.add("apexcharts-legend-text"),p.innerHTML=Array.isArray(n)?n.join(" "):n;let x=s.config.legend.labels.useSeriesColors?s.globals.colors[t]:Array.isArray(s.config.legend.labels.colors)?null==(e=s.config.legend.labels.colors)?void 0:e[t]:s.config.legend.labels.colors;x||(x=s.config.chart.foreColor),p.style.color=x,p.style.fontSize=s.config.legend.fontSize,p.style.fontWeight=s.config.legend.fontWeight,p.style.fontFamily=i||s.config.chart.fontFamily,P.setAttrs(p,{rel:t+1,i:t,"data:default-text":encodeURIComponent(n),"data:collapsed":c||h}),g.appendChild(d),g.appendChild(p);const u=new F(this.w);if(!s.config.legend.showForZeroSeries){0===u.getSeriesTotalByIndex(t)&&u.seriesHaveSameValues(t)&&!u.isSeriesNull(t)&&-1===s.globals.collapsedSeriesIndices.indexOf(t)&&-1===s.globals.ancillaryCollapsedSeriesIndices.indexOf(t)&&g.classList.add("apexcharts-hidden-zero-series")}s.config.legend.showForNullSeries||u.isSeriesNull(t)&&-1===s.globals.collapsedSeriesIndices.indexOf(t)&&-1===s.globals.ancillaryCollapsedSeriesIndices.indexOf(t)&&g.classList.add("apexcharts-hidden-null-series"),l.length?s.labelData.seriesGroups.forEach((e,i)=>{var a;e.includes(null==(a=s.config.series[t])?void 0:a.name)&&(s.dom.elLegendWrap.appendChild(l[i]),l[i].appendChild(g))}):s.dom.elLegendWrap.appendChild(g),s.dom.elLegendWrap.classList.add(`apexcharts-align-${s.config.legend.horizontalAlign}`),s.dom.elLegendWrap.classList.add("apx-legend-position-"+s.config.legend.position),g.classList.add("apexcharts-legend-series"),g.style.margin=`${s.config.legend.itemMargin.vertical}px ${s.config.legend.itemMargin.horizontal}px`,s.dom.elLegendWrap.style.width=s.config.legend.width?s.config.legend.width+"px":"",s.dom.elLegendWrap.style.height=s.config.legend.height?s.config.legend.height+"px":"",P.setAttrs(g,{rel:t+1,seriesName:b.escapeString(a[t]),"data:collapsed":c||h}),(c||h)&&g.classList.add("apexcharts-inactive-legend"),s.config.legend.onItemClick.toggleDataSeries||g.classList.add("apexcharts-no-click")}s.dom.elWrap.addEventListener("click",t.onLegendClick,!0),s.config.legend.onItemHover.highlightDataSeries&&0===s.config.legend.customLegendItems.length&&(s.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),s.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0)),s.config.chart.accessibility.enabled&&s.config.chart.accessibility.keyboard.enabled&&s.dom.elWrap.addEventListener("keydown",t.onLegendKeyDown.bind(t),!0)}setLegendWrapXY(e,t){const s=this.w,i=s.dom.elLegendWrap,a=i.clientHeight;let r=0,o=0;if("bottom"===s.config.legend.position)o=s.globals.svgHeight-Math.min(a,s.globals.svgHeight/2)-5;else if("top"===s.config.legend.position){const e=new oe(this.w,this.ctx),t=e.dimHelpers.getTitleSubtitleCoords("title").height,s=e.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=(t>0?t-10:0)+(s>0?s-10:0)}i.style.position="absolute",r=r+e+s.config.legend.offsetX,o=o+t+s.config.legend.offsetY,i.style.left=r+"px",i.style.top=o+"px","right"===s.config.legend.position&&(i.style.left="auto",i.style.right=25+s.config.legend.offsetX+"px");["width","height"].forEach(e=>{i.style[e]&&(i.style[e]=parseInt(s.config.legend[e],10)+"px")})}legendAlignHorizontal(){const e=this.w;e.dom.elLegendWrap.style.right=0;const t=new oe(this.w,this.ctx),s=t.dimHelpers.getTitleSubtitleCoords("title"),i=t.dimHelpers.getTitleSubtitleCoords("subtitle");let a=0;"top"===e.config.legend.position&&(a=s.height+i.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,a)}legendAlignVertical(){const e=this.w,t=this.legendHelpers.getLegendDimensions();let s=0;"left"===e.config.legend.position&&(s=20),"right"===e.config.legend.position&&(s=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(s,20)}onLegendHovered(e){const t=this.w,s=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if("heatmap"===t.config.chart.type||this.isBarsDistributed){if(s){const t=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,t,this.w]);new Q(this.ctx.w).highlightRangeInSeries(e,e.target)}}else if(!e.target.classList.contains("apexcharts-inactive-legend")&&s){new Q(this.ctx.w).toggleSeriesOnHover(e,e.target)}}onLegendKeyDown(e){const t=this,s=this.w;if((e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))&&("Enter"===e.key||" "===e.key)){e.preventDefault();const i=e.target.getAttribute("rel");t.onLegendClick(e),null!==i&&s.config.legend.onItemClick.toggleDataSeries&&requestAnimationFrame(()=>{const e=s.dom.baseEl.querySelector(`.apexcharts-legend-series[rel="${i}"]`);e&&e.focus()})}}onLegendClick(e){const t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){const s=parseInt(e.target.getAttribute("rel"),10)-1,i="true"===e.target.getAttribute("data:collapsed"),a=this.w.config.chart.events.legendClick;"function"==typeof a&&a(this.ctx,s,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,s,this.w]);const r=this.w.config.legend.markers.onClick;"function"==typeof r&&e.target.classList.contains("apexcharts-legend-marker")&&(r(this.ctx,s,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,s,this.w]));"treemap"!==t.config.chart.type&&"heatmap"!==t.config.chart.type&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(s,i)}}}const ce=86400,he=10/ce;class de{constructor(e,t){this.w=e,this.ctx=t,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}calculateTimeScaleTicks(e,t){const s=this.w;if(s.globals.allSeriesCollapsed)return s.labelData.labels=[],s.labelData.timescaleLabels=[],[];const i=new y(this.w),a=(t-e)/864e5;this.determineInterval(a),s.interact.disableZoomIn=!1,s.interact.disableZoomOut=!1,a<he?s.interact.disableZoomIn=!0:a>5e4&&(s.interact.disableZoomOut=!0);const r=i.getTimeUnitsfromTimestamp(e,t,this.utc),o=s.layout.gridWidth/a,c=o/24,h=c/60,d=h/60,g=Math.floor(24*a),p=Math.floor(1440*a),x=Math.floor(a*ce),u=Math.floor(a),f=Math.floor(a/30),m=Math.floor(a/365),b={minMillisecond:r.minMillisecond,minSecond:r.minSecond,minMinute:r.minMinute,minHour:r.minHour,minDate:r.minDate,minMonth:r.minMonth,minYear:r.minYear},w={firstVal:b,currentMillisecond:b.minMillisecond,currentSecond:b.minSecond,currentMinute:b.minMinute,currentHour:b.minHour,currentMonthDate:b.minDate,currentDate:b.minDate,currentMonth:b.minMonth,currentYear:b.minYear,daysWidthOnXAxis:o,hoursWidthOnXAxis:c,minutesWidthOnXAxis:h,secondsWidthOnXAxis:d,numberOfSeconds:x,numberOfMinutes:p,numberOfHours:g,numberOfDays:u,numberOfMonths:f,numberOfYears:m};switch(this.tickInterval){case"years":this.generateYearScale(w);break;case"months":case"half_year":this.generateMonthScale(w);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(w);break;case"hours":this.generateHourScale(w);break;case"minutes_fives":case"minutes":this.generateMinuteScale(w);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(w)}const v=this.timeScaleArray.map(e=>{const t={position:e.position,unit:e.unit,year:e.year,day:e.day?e.day:1,hour:e.hour?e.hour:0,month:e.month+1};return"month"===e.unit?l(n({},t),{day:1,value:e.value+1}):"day"===e.unit||"hour"===e.unit?l(n({},t),{value:e.value}):"minute"===e.unit?l(n({},t),{value:e.value,minute:e.value}):"second"===e.unit?l(n({},t),{value:e.value,minute:e.minute,second:e.second}):e});return v.filter(e=>{let t=1,i=Math.ceil(s.layout.gridWidth/120);const a=e.value;void 0!==s.config.xaxis.tickAmount&&(i=s.config.xaxis.tickAmount),v.length>i&&(t=Math.floor(v.length/i));let r=!1,o=!1;switch(this.tickInterval){case"years":"year"===e.unit&&(r=!0);break;case"half_year":t=7,"year"===e.unit&&(r=!0);break;case"months":t=1,"year"===e.unit&&(r=!0);break;case"months_fortnight":t=15,"year"!==e.unit&&"month"!==e.unit||(r=!0),30===a&&(o=!0);break;case"months_days":t=10,"month"===e.unit&&(r=!0),30===a&&(o=!0);break;case"week_days":t=8,"month"===e.unit&&(r=!0);break;case"days":t=1,"month"===e.unit&&(r=!0);break;case"hours":"day"===e.unit&&(r=!0);break;case"minutes_fives":case"seconds_fives":a%5!=0&&(o=!0);break;case"seconds_tens":a%10!=0&&(o=!0)}if("hours"===this.tickInterval||"minutes_fives"===this.tickInterval||"seconds_tens"===this.tickInterval||"seconds_fives"===this.tickInterval){if(!o)return!0}else if((a%t===0||r)&&!o)return!0})}recalcDimensionsBasedOnFormat(e){const t=this.w,s=this.formatDates(e),i=this.removeOverlappingTS(s);t.labelData.timescaleLabels=i.slice();const a=new oe(this.w,this.ctx).plotCoords();this.ctx._writeLayoutCoords(a.layout)}determineInterval(e){const t=24*e,s=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case s>15:this.tickInterval="minutes_fives";break;case s>5:this.tickInterval="minutes";break;case s>1:this.tickInterval="seconds_tens";break;case 60*s>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}generateYearScale({firstVal:e,currentMonth:t,currentYear:s,daysWidthOnXAxis:i,numberOfYears:a}){let r=e.minYear,o=0;const n=new y(this.w),l="year";if(e.minDate>1||e.minMonth>0){const s=n.determineRemainingDaysOfYear(e.minYear,e.minMonth,e.minDate);o=(n.determineDaysOfYear(e.minYear)-s+1)*i,r=e.minYear+1,this.timeScaleArray.push({position:o,value:r,unit:l,year:r,month:b.monthMod(t+1)})}else 1===e.minDate&&0===e.minMonth&&this.timeScaleArray.push({position:o,value:r,unit:l,year:s,month:b.monthMod(t+1)});let c=r,h=o;for(let e=0;e<a;e++)c++,h=n.determineDaysOfYear(c-1)*i+h,this.timeScaleArray.push({position:h,value:c,unit:l,year:c,month:1})}generateMonthScale({firstVal:e,currentMonthDate:t,currentMonth:s,currentYear:i,daysWidthOnXAxis:a,numberOfMonths:r}){let o=s,n=0;const l=new y(this.w);let c="month",h=0;if(e.minDate>1){n=(l.determineDaysOfMonths(s+1,e.minYear)-t+1)*a,o=b.monthMod(s+1);let r=i+h,d=b.monthMod(o),g=o;0===o&&(c="year",g=r,d=1,h+=1,r+=h),this.timeScaleArray.push({position:n,value:g,unit:c,year:r,month:d})}else this.timeScaleArray.push({position:n,value:o,unit:c,year:i,month:b.monthMod(s)});let d=o+1,g=n;for(let e=0,t=1;e<r;e++,t++){d=b.monthMod(d),0===d?(c="year",h+=1):c="month";const e=this._getYear(i,d,h);g=l.determineDaysOfMonths(d,e)*a+g;const t=0===d?e:d;this.timeScaleArray.push({position:g,value:t,unit:c,year:e,month:0===d?1:d}),d++}}generateDayScale({firstVal:e,currentMonth:t,currentYear:s,hoursWidthOnXAxis:i,numberOfDays:a}){const r=new y(this.w);let o="day",n=e.minDate+1,l=n;const c=(e,t,s)=>e>r.determineDaysOfMonths(t+1,s)?(l=1,o="month",d=t+=1,t):t;let h=(24-e.minHour)*i,d=n,g=c(l,t,s);0===e.minHour&&1===e.minDate?(h=0,d=b.monthMod(e.minMonth),o="month",l=e.minDate):1!==e.minDate&&0===e.minHour&&0===e.minMinute&&(h=0,n=e.minDate,l=n,d=n,g=c(l,t,s),1!==d&&(o="day")),this.timeScaleArray.push({position:h,value:d,unit:o,year:this._getYear(s,g,0),month:b.monthMod(g),day:l});let p=h;for(let e=0;e<a;e++){l+=1,o="day",g=c(l,g,this._getYear(s,g,0));const e=this._getYear(s,g,0);p=24*i+p;const t=1===l?b.monthMod(g):l;this.timeScaleArray.push({position:p,value:t,unit:o,year:e,month:b.monthMod(g),day:t})}}generateHourScale({firstVal:e,currentDate:t,currentMonth:s,currentYear:i,minutesWidthOnXAxis:a,numberOfHours:r}){const o=new y(this.w);let n="hour";const l=(e,t)=>(e>o.determineDaysOfMonths(t+1,i)&&(x=1,t+=1),{month:t,date:x}),c=(e,t)=>e>o.determineDaysOfMonths(t+1,i)?t+=1:t,h=60-(e.minMinute+e.minSecond/60);let d=h*a,g=e.minHour+1,p=g;60===h&&(d=0,g=e.minHour,p=g);let x=t;p>=24&&(p=0,x+=1,n="day",g=x);let u=l(x,s).month;u=c(x,u),g>31&&(x=1,g=x),this.timeScaleArray.push({position:d,value:g,unit:n,day:x,hour:p,year:i,month:b.monthMod(u)}),p++;let f=d;for(let e=0;e<r;e++){if(n="hour",p>=24){p=0,x+=1,n="day";u=l(x,u).month,u=c(x,u)}const e=this._getYear(i,u,0);f=60*a+f;const t=0===p?x:p;this.timeScaleArray.push({position:f,value:t,unit:n,hour:p,day:x,year:e,month:b.monthMod(u)}),p++}}generateMinuteScale({currentMillisecond:e,currentSecond:t,currentMinute:s,currentHour:i,currentDate:a,currentMonth:r,currentYear:o,minutesWidthOnXAxis:n,secondsWidthOnXAxis:l,numberOfMinutes:c}){let h=s+1;const d=a,g=r,p=o;let x=i,u=(60-t-e/1e3)*l;for(let e=0;e<c;e++)h>=60&&(h=0,x+=1,24===x&&(x=0)),this.timeScaleArray.push({position:u,value:h,unit:"minute",hour:x,minute:h,day:d,year:this._getYear(p,g,0),month:b.monthMod(g)}),u+=n,h++}generateSecondScale({currentMillisecond:e,currentSecond:t,currentMinute:s,currentHour:i,currentDate:a,currentMonth:r,currentYear:o,secondsWidthOnXAxis:n,numberOfSeconds:l}){let c=t+1,h=s;const d=a,g=r,p=o;let x=i,u=(1e3-e)/1e3*n;for(let e=0;e<l;e++)c>=60&&(h++,c=0,h>=60&&(x++,h=0,24===x&&(x=0))),this.timeScaleArray.push({position:u,value:c,unit:"second",hour:x,minute:h,second:c,day:d,year:this._getYear(p,g,0),month:b.monthMod(g)}),u+=n,c++}createRawDateString(e,t){let s=e.year;return 0===e.month&&(e.month=1),s+="-"+("0"+e.month.toString()).slice(-2),"day"===e.unit?s+="day"===e.unit?"-"+("0"+t).slice(-2):"-01":s+="-"+("0"+(e.day?e.day:"1")).slice(-2),"hour"===e.unit?s+="hour"===e.unit?"T"+("0"+t).slice(-2):"T00":s+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),"minute"===e.unit?s+=":"+("0"+t).slice(-2):s+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),"second"===e.unit?s+=":"+("0"+t).slice(-2):s+=":00",this.utc&&(s+=".000Z"),s}formatDates(e){const t=this.w;return e.map(e=>{let s=e.value.toString();const i=new y(this.w),a=this.createRawDateString(e,s);let r=i.getDate(i.parseDate(a));if(this.utc||(r=i.getDate(i.parseDateWithTimezone(a))),void 0===t.config.xaxis.labels.format){let a="dd MMM";const o=t.config.xaxis.labels.datetimeFormatter;"year"===e.unit&&(a=o.year),"month"===e.unit&&(a=o.month),"day"===e.unit&&(a=o.day),"hour"===e.unit&&(a=o.hour),"minute"===e.unit&&(a=o.minute),"second"===e.unit&&(a=o.second),s=i.formatDate(r,a)}else s=i.formatDate(r,t.config.xaxis.labels.format);return{dateString:a,position:e.position,value:s,unit:e.unit,year:e.year,month:e.month}})}removeOverlappingTS(e){const t=new P(this.w);let s,i=!1;e.length>0&&e[0].value&&e.every(t=>t.value.length===e[0].value.length)&&(i=!0,s=t.getTextRects(e[0].value).width);let a=0,r=e.map((r,o)=>{if(o>0&&this.w.config.xaxis.labels.hideOverlappingLabels){const n=i?s:t.getTextRects(e[a].value).width,l=e[a].position;return r.position>l+n+10?(a=o,r):null}return r});return r=r.filter(e=>null!==e),r}_getYear(e,t,s){return e+Math.floor(t/12)+s}}const ge={};function pe(e){const t=ge[e];if(!t)throw new Error(`ApexCharts: chart type "${e}" is not registered. Import it via ApexCharts.use() or use the full apexcharts bundle.`);return t}class xe{constructor(e,t,s){this.w=t,this.ctx=s,this.el=e}setupElements(){const{globals:e,config:t}=this.w,s=t.chart.type;e.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(s),e.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(s),e.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(s)&&t.plotOptions.bar.horizontal,e.chartClass=`.apexcharts${e.chartID}`,this.w.dom.baseEl=this.el,this.w.dom.elWrap=m.createElementNS("http://www.w3.org/1999/xhtml","div"),P.setAttrs(this.w.dom.elWrap,{id:e.chartClass.substring(1),class:`apexcharts-canvas ${e.chartClass.substring(1)}`}),this.el.appendChild(this.w.dom.elWrap);const i=h.isBrowser()?window.SVG:global.SVG;if(this.w.dom.Paper=i().addTo(this.w.dom.elWrap),this.w.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:`translate(${t.chart.offsetX}, ${t.chart.offsetY})`}),this.w.dom.Paper.node.style.background="dark"!==t.theme.mode||t.chart.background?"light"!==t.theme.mode||t.chart.background?t.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),this.w.dom.elLegendForeign=m.createElementNS(N,"foreignObject"),P.setAttrs(this.w.dom.elLegendForeign,{x:0,y:0,width:e.svgWidth,height:e.svgHeight}),this.w.dom.elLegendWrap=m.createElementNS("http://www.w3.org/1999/xhtml","div"),this.w.dom.elLegendWrap.classList.add("apexcharts-legend"),this.w.dom.elWrap.appendChild(this.w.dom.elLegendWrap),this.w.dom.Paper.node.appendChild(this.w.dom.elLegendForeign),t.chart.accessibility.enabled){const e=this.getAccessibleChartLabel(),s=t.chart.accessibility.keyboard.enabled&&t.chart.accessibility.keyboard.navigation.enabled?"application":"img";this.w.dom.Paper.attr({role:s,"aria-label":e});const i=m.createElementNS(N,"title");if(i.textContent=t.title.text||"Chart",this.w.dom.Paper.node.insertBefore(i,this.w.dom.elLegendForeign.nextSibling),t.chart.accessibility.description){const e=m.createElementNS(N,"desc");e.textContent=t.chart.accessibility.description,this.w.dom.Paper.node.insertBefore(e,i.nextSibling)}}this.w.dom.elGraphical=this.w.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),this.w.dom.elDefs=this.w.dom.Paper.defs(),this.w.dom.Paper.add(this.w.dom.elGraphical),this.w.dom.elGraphical.add(this.w.dom.elDefs)}plotChartType(e,t){const{w:s,ctx:i}=this,{config:a,globals:r}=s,o={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},n=a.chart.type||"line";let l=null,c=0;this.w.seriesData.series.forEach((t,i)=>{var a,r;const h="column"===(null==(a=e[i])?void 0:a.type)?"bar":(null==(r=e[i])?void 0:r.type)||("column"===n?"bar":n);o[h]?("rangeArea"===h?(o[h].series.push(this.w.rangeData.seriesRangeStart[i]),o[h].seriesRangeEnd.push(this.w.rangeData.seriesRangeEnd[i])):o[h].series.push(t),o[h].i.push(i),"bar"===h&&(s.globals.columnSeries=o.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(h)&&(l=h),n!==h&&"scatter"!==h&&c++}),c>0&&o.bar.series.length>0&&a.plotOptions.bar.horizontal&&(c-=o.bar.series.length,o.bar={series:[],i:[]},s.globals.columnSeries={series:[],i:[]}),r.comboCharts||(r.comboCharts=c>0);const h=o.line.series.length>0||o.area.series.length>0||o.scatter.series.length>0||o.bubble.series.length>0||o.rangeArea.series.length>0||!r.comboCharts&&["line","area","scatter","bubble","rangeArea"].includes(a.chart.type)?new(pe("line"))(i.w,i,t):null,d=o.candlestick.series.length>0||o.boxPlot.series.length>0||!r.comboCharts&&["candlestick","boxPlot"].includes(a.chart.type)?new(pe("candlestick"))(i.w,i,t):null,g=!r.comboCharts&&["pie","donut","polarArea"].includes(a.chart.type);i.pie=g?new(pe("pie"))(i.w,i):null;const p=o.rangeBar.series.length>0||!r.comboCharts&&"rangeBar"===a.chart.type;i.rangeBar=p?new(pe("rangeBar"))(i.w,i,t):null;let x=[];if(r.comboCharts){const e=new F(this.w);if(o.area.series.length>0&&x.push(...e.drawSeriesByGroup(o.area,r.areaGroups,"area",h)),o.bar.series.length>0)if(a.chart.stacked){const e=new(pe("barStacked"))(i.w,i,t);x.push(e.draw(o.bar.series,o.bar.i))}else i.bar=new(pe("bar"))(i.w,i,t),x.push(i.bar.draw(o.bar.series,o.bar.i));if(o.rangeArea.series.length>0&&x.push(h.draw(o.rangeArea.series,"rangeArea",o.rangeArea.i,o.rangeArea.seriesRangeEnd)),o.line.series.length>0&&x.push(...e.drawSeriesByGroup(o.line,r.lineGroups,"line",h)),o.candlestick.series.length>0&&x.push(d.draw(o.candlestick.series,"candlestick",o.candlestick.i)),o.boxPlot.series.length>0&&x.push(d.draw(o.boxPlot.series,"boxPlot",o.boxPlot.i)),o.rangeBar.series.length>0&&x.push(i.rangeBar.draw(o.rangeBar.series,o.rangeBar.i)),o.scatter.series.length>0){const e=new(pe("line"))(i.w,i,t,!0);x.push(e.draw(o.scatter.series,"scatter",o.scatter.i))}if(o.bubble.series.length>0){const e=new(pe("line"))(i.w,i,t,!0);x.push(e.draw(o.bubble.series,"bubble",o.bubble.i))}}else{const e=a.chart.type;switch(e){case"line":x=h.draw(this.w.seriesData.series,"line");break;case"area":x=h.draw(this.w.seriesData.series,"area");break;case"bar":if(a.chart.stacked){x=new(pe("barStacked"))(i.w,i,t).draw(this.w.seriesData.series)}else i.bar=new(pe("bar"))(i.w,i,t),x=i.bar.draw(this.w.seriesData.series);break;case"candlestick":x=d.draw(this.w.seriesData.series,"candlestick");break;case"boxPlot":x=d.draw(this.w.seriesData.series,e);break;case"rangeBar":x=i.rangeBar.draw(this.w.seriesData.series);break;case"rangeArea":x=h.draw(this.w.rangeData.seriesRangeStart,"rangeArea",void 0,this.w.rangeData.seriesRangeEnd);break;case"heatmap":x=new(pe("heatmap"))(i.w,i,t).draw(this.w.seriesData.series);break;case"treemap":x=new(pe("treemap"))(i.w,i).draw(this.w.seriesData.series);break;case"pie":case"donut":case"polarArea":x=i.pie.draw(this.w.seriesData.series);break;case"radialBar":x=new(pe("radialBar"))(i.w,i).draw(this.w.seriesData.series);break;case"radar":x=new(pe("radar"))(i.w,i).draw(this.w.seriesData.series);break;default:x=h.draw(this.w.seriesData.series)}}return x}setSVGDimensions(){const{globals:e,config:t}=this.w;t.chart.width=t.chart.width||"100%",t.chart.height=t.chart.height||"auto",e.svgWidth=t.chart.width,e.svgHeight=t.chart.height;let s=b.getDimensions(this.el);const i=t.chart.width.toString().split(/[0-9]+/g).pop();"%"===i?b.isNumber(s[0])&&(0===s[0].width&&(s=b.getDimensions(this.el.parentNode)),e.svgWidth=s[0]*parseInt(t.chart.width,10)/100):"px"!==i&&""!==i||(e.svgWidth=parseInt(t.chart.width,10));const a=String(t.chart.height).toString().split(/[0-9]+/g).pop();if("auto"!==e.svgHeight&&""!==e.svgHeight)if("%"===a){const s=b.getDimensions(this.el.parentNode);e.svgHeight=s[1]*parseInt(t.chart.height,10)/100}else e.svgHeight=parseInt(t.chart.height,10);else e.svgHeight=e.axisCharts?e.svgWidth/1.61:e.svgWidth/1.2;if(e.svgWidth=Math.max(e.svgWidth,0),e.svgHeight=Math.max(e.svgHeight,0),P.setAttrs(this.w.dom.Paper.node,{width:e.svgWidth,height:e.svgHeight}),"%"!==a&&h.isBrowser()){const s=t.chart.sparkline.enabled?0:e.axisCharts?t.chart.parentHeightOffset:0;this.w.dom.Paper.node.parentNode.parentNode.style.minHeight=`${e.svgHeight+s}px`}this.w.dom.elWrap.style.width=`${e.svgWidth}px`,this.w.dom.elWrap.style.height=`${e.svgHeight}px`}shiftGraphPosition(){const{globals:e}=this.w,{translateY:t,translateX:s}=e;P.setAttrs(this.w.dom.elGraphical.node,{transform:`translate(${s}, ${t})`})}resizeNonAxisCharts(){const{w:e}=this;let t=0,s=e.config.chart.sparkline.enabled?1:15;s+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(t=new le(this.w,this.ctx).legendHelpers.getLegendDimensions().clwh+7);const i=e.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie");let a=2.05*e.globals.radialSize;if(i&&!e.config.chart.sparkline.enabled&&0!==e.config.plotOptions.radialBar.startAngle){const t=b.getBoundingClientRect(i);a=t.bottom;const s=t.bottom-t.top;a=Math.max(2.05*e.globals.radialSize,s)}const r=Math.ceil(a+this.w.layout.translateY+t+s);this.w.dom.elLegendForeign&&this.w.dom.elLegendForeign.setAttribute("height",r),e.config.chart.height&&String(e.config.chart.height).includes("%")||(this.w.dom.elWrap.style.height=`${r}px`,P.setAttrs(this.w.dom.Paper.node,{height:r}),h.isBrowser()&&(this.w.dom.Paper.node.parentNode.parentNode.style.minHeight=`${r}px`))}coreCalculations(){new V(this.w).init()}resetGlobals(){const e=()=>this.w.config.series.map(()=>[]),t=new T,{globals:s}=this.w,i={dataWasParsed:this.w.axisFlags.dataWasParsed,originalSeries:s.originalSeries};t.initGlobalVars(s),s.seriesXvalues=e(),s.seriesYvalues=e(),i.dataWasParsed&&(this.w.axisFlags.dataWasParsed=i.dataWasParsed,s.originalSeries=i.originalSeries)}isMultipleY(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}xySettings(){const{w:e}=this;let t=null;if(e.globals.axisCharts){if("back"===e.config.xaxis.crosshairs.position&&new J(this.w).drawXCrosshairs(),"back"===e.config.yaxis[0].crosshairs.position&&new J(this.w).drawYCrosshairs(),"datetime"===e.config.xaxis.type&&void 0===e.config.xaxis.labels.formatter){this.ctx.timeScale=new de(this.w,this.ctx);let t=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?t=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(t=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(t)}t=new F(this.w).getCalculatedRatios()}return t}updateSourceChart(e){this.ctx.w.interact.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}setupBrushHandler(){const{ctx:e,w:t}=this;if(t.config.chart.brush.enabled&&"function"!=typeof t.config.chart.events.selection){const s=Array.isArray(t.config.chart.brush.targets)?t.config.chart.brush.targets:[t.config.chart.brush.target];s.forEach(t=>{const s=e.constructor.getChartByID(t);s.w.globals.brushSource=this.ctx,"function"!=typeof s.w.config.chart.events.zoomed&&(s.w.config.chart.events.zoomed=()=>this.updateSourceChart(s)),"function"!=typeof s.w.config.chart.events.scrolled&&(s.w.config.chart.events.scrolled=()=>this.updateSourceChart(s))}),t.config.chart.events.selection=(t,i)=>{s.forEach(t=>{e.constructor.getChartByID(t).ctx.updateHelpers._updateOptions({xaxis:{min:i.xaxis.min,max:i.xaxis.max}},!1,!1,!1,!1)})}}}getAccessibleChartLabel(){const e=this.w,t=e.config;let s="";if(t.chart.accessibility&&t.chart.accessibility.description)s=t.chart.accessibility.description;else if(t.title.text){const e=t.chart.type;s=`${t.title.text}. ${e} chart`,t.subtitle.text&&(s+=`. ${t.subtitle.text}`)}else{s=`${t.chart.type} chart with ${e.seriesData.series.length||(t.series?t.series.length:0)} data series`}return s}}class ue{constructor(e,{resetGlobals:t=()=>{},isMultipleY:s=()=>{}}={}){this.w=e,this.resetGlobals=t,this.isMultipleY=s,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new F(this.w)}getFirstDataPoint(){const e=this.w.config.series,t=new Q(this.w);return this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex]&&e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&null!==e[this.activeSeriesIndex].data[0]&&void 0!==e[this.activeSeriesIndex].data[0]?e[this.activeSeriesIndex].data[0]:null}isMultiFormat(){return this.isFormatXY()||this.isFormat2DArray()}isFormatXY(){const e=this.getFirstDataPoint();return e&&void 0!==e.x}isFormat2DArray(){const e=this.getFirstDataPoint();return e&&Array.isArray(e)}handleFormat2DArray(e,t){const s=this.w.config,i=e[t].data,a="boxPlot"===s.chart.type||"boxPlot"===s.series[t].type;for(let e=0;e<i.length;e++){const t=i[e],r=t[0],o=t[1],n=t[2];if(void 0!==o&&(Array.isArray(o)&&4===o.length&&!a?this.twoDSeries.push(b.parseNumber(o[3])):t.length>=5?this.twoDSeries.push(b.parseNumber(t[4])):this.twoDSeries.push(b.parseNumber(o)),this.w.axisFlags.dataFormatXNumeric=!0),"datetime"===s.xaxis.type){let e=new Date(r);e=e.getTime(),this.twoDSeriesX.push(e)}else this.twoDSeriesX.push(r);void 0!==n&&(this.threeDSeries.push(n),this.w.axisFlags.isDataXYZ=!0)}}handleFormatXY(e,t){const s=this.w.config,i=this.w.globals,a=new y(this.w),r=e[t].data;let o=t;i.collapsedSeriesIndices.indexOf(t)>-1&&(o=this.activeSeriesIndex);const n=e[o].data;for(let e=0;e<r.length;e++){const s=r[e];if(void 0!==s.y){const e=Array.isArray(s.y)?b.parseNumber(s.y[s.y.length-1]):b.parseNumber(s.y);this.twoDSeries.push(e)}void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),void 0!==s.goals&&Array.isArray(s.goals)?this.seriesGoals[t].push(s.goals):this.seriesGoals[t].push(null),void 0!==s.z&&(this.threeDSeries.push(s.z),this.w.axisFlags.isDataXYZ=!0)}for(let e=0;e<n.length;e++){const t=n[e].x,r="string"==typeof t,o=Array.isArray(t),l=!o&&!!a.isValidDate(t);if(r||l)if(r||s.xaxis.convertedCatToNumeric){const e=i.isBarHorizontal&&this.w.axisFlags.isRangeData;"datetime"!==s.xaxis.type||e?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t),isNaN(t)||"category"===this.w.config.xaxis.type||"string"==typeof t||(this.w.axisFlags.isXNumeric=!0)):this.twoDSeriesX.push(a.parseDate(t))}else"datetime"===s.xaxis.type?this.twoDSeriesX.push(a.parseDate(t.toString())):(this.w.axisFlags.dataFormatXNumeric=!0,this.w.axisFlags.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t)));else o?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t)):(this.w.axisFlags.isXNumeric=!0,this.w.axisFlags.dataFormatXNumeric=!0,this.twoDSeriesX.push(t))}}handleRangeData(e,t){let s={};return this.isFormat2DArray()?s=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(s=this.handleRangeDataFormat("xy",e,t)),this.w.rangeData.seriesRangeStart[t]=void 0===s.start?[]:s.start,this.w.rangeData.seriesRangeEnd[t]=void 0===s.end?[]:s.end,this.w.rangeData.seriesRange[t]=s.rangeUniques,this.w.rangeData.seriesRange.forEach(e=>{e&&e.forEach(e=>{const t=e.y,s=t.length;if(!(s<=1))for(let i=0;i<s;i++){const a=t[i],r=a.y1,o=a.y2;for(let n=i+1;n<s;n++){const s=t[n],i=s.y1;r<=s.y2&&i<=o&&(e.overlaps.indexOf(a.rangeName)<0&&e.overlaps.push(a.rangeName),e.overlaps.indexOf(s.rangeName)<0&&e.overlaps.push(s.rangeName))}}})}),s}handleCandleStickBoxData(e,t){let s={};return this.isFormat2DArray()?s=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(s=this.handleCandleStickBoxDataFormat("xy",e,t)),this.w.candleData.seriesCandleO[t]=s.o,this.w.candleData.seriesCandleH[t]=s.h,this.w.candleData.seriesCandleM[t]=s.m,this.w.candleData.seriesCandleL[t]=s.l,this.w.candleData.seriesCandleC[t]=s.c,s}handleRangeDataFormat(e,t,s){const i=[],a=[],r=new Map,o=[];if(t[s].data.forEach(e=>{if(!r.has(e.x)){const t={x:e.x,overlaps:[],y:[]};r.set(e.x,t),o.push(t)}}),"array"===e)for(let e=0;e<t[s].data.length;e++)Array.isArray(t[s].data[e])?(i.push(t[s].data[e][1][0]),a.push(t[s].data[e][1][1])):(i.push(t[s].data[e]),a.push(t[s].data[e]));else if("xy"===e)for(let e=0;e<t[s].data.length;e++){const o=Array.isArray(t[s].data[e].y),n=b.randomId(),l=t[s].data[e].x,c={y1:o?t[s].data[e].y[0]:t[s].data[e].y,y2:o?t[s].data[e].y[1]:t[s].data[e].y,rangeName:n};t[s].data[e].rangeName=n;const h=r.get(l);h&&h.y.push(c),i.push(c.y1),a.push(c.y2)}return{start:i,end:a,rangeUniques:o}}handleCandleStickBoxDataFormat(e,t,s){const i=this.w,a="boxPlot"===i.config.chart.type||"boxPlot"===i.config.series[s].type,r=[],o=[],n=[],l=[],c=[],h=t[s].data;let d;if("array"===e){d=a&&6===h[0].length||!a&&5===h[0].length?e=>e.slice(1):e=>Array.isArray(e[1])?e[1]:[]}else d=e=>Array.isArray(e.y)?e.y:[];for(let e=0;e<h.length;e++){const t=d(h[e]);t&&t.length>=2&&(r.push(t[0]),o.push(t[1]),a?(n.push(t[2]),l.push(t[3]),c.push(t[4])):(l.push(t[2]),c.push(t[3])))}return{o:r,h:o,m:n,l:l,c:c}}parseDataAxisCharts(e){const t=this.w.config,s=this.w.globals,i=new y(this.w),a=t.labels.length>0?t.labels.slice():t.xaxis.categories.slice();this.w.axisFlags.isRangeBar="rangeBar"===t.chart.type&&s.isBarHorizontal,this.w.labelData.hasXaxisGroups="category"===t.xaxis.type&&t.xaxis.group.groups.length>0,this.w.labelData.hasXaxisGroups&&(this.w.labelData.groups=t.xaxis.group.groups),e.forEach((e,t)=>{void 0!==e.name?this.w.seriesData.seriesNames.push(e.name):this.w.seriesData.seriesNames.push("series-"+parseInt(t+1,10))}),this.coreUtils.setSeriesYAxisMappings();const r=[],o=[...new Set(t.series.map(e=>e.group))];t.series.forEach((e,t)=>{const s=o.indexOf(e.group);r[s]||(r[s]=[]),r[s].push(this.w.seriesData.seriesNames[t])}),this.w.labelData.seriesGroups=r;const n=()=>{for(let e=0;e<a.length;e++)if("string"==typeof a[e]){if(!i.isValidDate(a[e]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");this.twoDSeriesX.push(i.parseDate(a[e]))}else this.twoDSeriesX.push(a[e])};for(let s=0;s<e.length;s++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===e[s].data)return;if("rangeBar"!==t.chart.type&&"rangeArea"!==t.chart.type&&"rangeBar"!==e[s].type&&"rangeArea"!==e[s].type||(this.w.axisFlags.isRangeData=!0,this.handleRangeData(e,s)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,s):this.isFormatXY()&&this.handleFormatXY(e,s),"candlestick"!==t.chart.type&&"candlestick"!==e[s].type&&"boxPlot"!==t.chart.type&&"boxPlot"!==e[s].type||this.handleCandleStickBoxData(e,s),this.w.seriesData.series.push(this.twoDSeries),this.w.labelData.labels.push(this.twoDSeriesX),this.w.seriesData.seriesX.push(this.twoDSeriesX),this.w.seriesData.seriesGoals=this.seriesGoals,s!==this.activeSeriesIndex||this.fallbackToCategory||(this.w.axisFlags.isXNumeric=!0);else{"datetime"===t.xaxis.type?(this.w.axisFlags.isXNumeric=!0,n(),this.w.seriesData.seriesX.push(this.twoDSeriesX)):"numeric"===t.xaxis.type&&(this.w.axisFlags.isXNumeric=!0,a.length>0&&(this.twoDSeriesX=a,this.w.seriesData.seriesX.push(this.twoDSeriesX))),this.w.labelData.labels.push(this.twoDSeriesX);const i=e[s].data.map(e=>b.parseNumber(e));this.w.seriesData.series.push(i)}this.w.seriesData.seriesZ.push(this.threeDSeries),void 0!==e[s].color?this.w.seriesData.seriesColors.push(e[s].color):this.w.seriesData.seriesColors.push(void 0)}return this.w}parseDataNonAxisCharts(e){const t=this.w.config,s=Array.isArray(e)&&e.every(e=>"number"==typeof e)&&t.labels.length>0;Array.isArray(e)&&e.some(e=>e&&"object"==typeof e&&e.data||e&&"object"==typeof e&&e.parsing);if(s){this.w.seriesData.series=e.slice(),this.w.seriesData.seriesNames=t.labels.slice();for(let e=0;e<this.w.seriesData.series.length;e++)void 0===this.w.seriesData.seriesNames[e]&&this.w.seriesData.seriesNames.push("series-"+(e+1));return this.w}if(Array.isArray(e)&&e.every(e=>"number"==typeof e)){this.w.seriesData.series=e.slice(),this.w.seriesData.seriesNames=[];for(let e=0;e<this.w.seriesData.series.length;e++)this.w.seriesData.seriesNames.push(t.labels[e]||`series-${e+1}`);return this.w}const i=this.extractPieDataFromSeries(e);this.w.seriesData.series=i.values,this.w.seriesData.seriesNames=i.labels,"radialBar"===t.chart.type&&(this.w.seriesData.series=this.w.seriesData.series.map(e=>{const t=b.parseNumber(e);return t}));for(let e=0;e<this.w.seriesData.series.length;e++)void 0===this.w.seriesData.seriesNames[e]&&this.w.seriesData.seriesNames.push("series-"+(e+1));return this.w}resetParsingFlags(){const e=this.w;e.axisFlags.dataWasParsed=!1,e.globals.originalSeries=null,e.config.series&&e.config.series.forEach(e=>{e.__apexParsed&&delete e.__apexParsed})}extractPieDataFromSeries(e){const t=[],s=[];if(!Array.isArray(e))return{values:[],labels:[]};if(0===e.length)return{values:[],labels:[]};const i=e[0];return"object"==typeof i&&null!==i&&i.data?(this.extractPieDataFromSeriesObjects(e,t,s),{values:t,labels:s}):{values:[],labels:[]}}extractPieDataFromSeriesObjects(e,t,s){e.forEach((e,i)=>{e.data&&Array.isArray(e.data)&&e.data.forEach(e=>{"object"==typeof e&&null!==e&&void 0!==e.x&&void 0!==e.y&&(s.push(String(e.x)),t.push(b.parseNumber(e.y)))})})}handleExternalLabelsData(e){const t=this.w.config;if(t.xaxis.categories.length>0)this.w.labelData.labels=t.xaxis.categories;else if(t.labels.length>0)this.w.labelData.labels=t.labels.slice();else if(this.fallbackToCategory){if(this.w.labelData.labels=this.w.labelData.labels[0],this.w.rangeData.seriesRange.length&&(this.w.rangeData.seriesRange.map(e=>{e.forEach(e=>{this.w.labelData.labels.indexOf(e.x)<0&&e.x&&this.w.labelData.labels.push(e.x)})}),this.w.labelData.labels=Array.from(new Set(this.w.labelData.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric){new S(t).convertCatToNumericXaxis(t,this.w.seriesData.seriesX[0]),this._generateExternalLabels(e)}}else this._generateExternalLabels(e)}_generateExternalLabels(e){const t=this.w.globals,s=this.w.config;let i=[];if(t.axisCharts){if(this.w.seriesData.series.length>0)if(this.isFormatXY()){const e=s.series.map(e=>e.data.filter((e,t,s)=>s.findIndex(t=>t.x===e.x)===t)),t=e.reduce((e,t,s,i)=>i[e].length>t.length?e:s,0);for(let s=0;s<e[t].length;s++)i.push(s+1)}else for(let e=0;e<this.w.seriesData.series[t.maxValsInArrayIndex].length;e++)i.push(e+1);this.w.seriesData.seriesX=[];for(let t=0;t<e.length;t++)this.w.seriesData.seriesX.push(i);this.w.globals.isBarHorizontal||(this.w.axisFlags.isXNumeric=!0)}if(0===i.length){i=t.axisCharts?[]:this.w.seriesData.series.map((e,t)=>t+1);for(let t=0;t<e.length;t++)this.w.seriesData.seriesX.push(i)}this.w.labelData.labels=i,s.xaxis.convertedCatToNumeric&&(this.w.labelData.categoryLabels=i.map(e=>s.xaxis.labels.formatter(e))),this.w.axisFlags.noLabelsProvided=!0}parseRawDataIfNeeded(e){const t=this.w.config,s=this.w.globals,i=t.parsing;if(this.w.axisFlags.dataWasParsed)return e;if(!i&&!e.some(e=>e.parsing))return e;const a=e.map((e,t)=>{var s,a,r;if(!e.data||!Array.isArray(e.data)||0===e.data.length)return e;const o={x:(null==(s=e.parsing)?void 0:s.x)||(null==i?void 0:i.x),y:(null==(a=e.parsing)?void 0:a.y)||(null==i?void 0:i.y),z:(null==(r=e.parsing)?void 0:r.z)||(null==i?void 0:i.z)};if(!o.x&&!o.y)return e;const c=e.data[0];if("object"==typeof c&&null!==c&&(Object.prototype.hasOwnProperty.call(c,"x")||Object.prototype.hasOwnProperty.call(c,"y"))||Array.isArray(c))return e;if(!o.x||!o.y||Array.isArray(o.y)&&0===o.y.length)return e;const h=e.data.map((e,t)=>{if("object"!=typeof e||null===e)return e;const s=this.getNestedValue(e,o.x);let i,a;if(Array.isArray(o.y)){const t=o.y.map(t=>this.getNestedValue(e,t));i="bubble"===this.w.config.chart.type&&2===t.length?t[0]:t}else i=this.getNestedValue(e,o.y);o.z&&(a=this.getNestedValue(e,o.z));const r={x:s,y:i};if("bubble"===this.w.config.chart.type&&Array.isArray(o.y)&&2===o.y.length){const t=this.getNestedValue(e,o.y[1]);void 0!==t&&(r.z=t)}return void 0!==a&&(r.z=a),r});return l(n({},e),{data:h,__apexParsed:!0})});return this.w.axisFlags.dataWasParsed=!0,s.originalSeries||(s.originalSeries=b.clone(e)),a}getNestedValue(e,t){if(!e||"object"!=typeof e||!t)return;if(-1===t.indexOf("."))return e[t];const s=t.split(".");let i=e;for(let e=0;e<s.length;e++){if(null==i||"object"!=typeof i)return;i=i[s[e]]}return i}parseData(e){const t=this.w,s=t.config,i=t.globals;if(e=this.parseRawDataIfNeeded(e),s.series=e,i.initialSeries=b.clone(e),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.resetGlobals(),this.isMultipleY(),i.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),s.chart.stacked){const e=new Q(this.w);this.w.seriesData.series=e.setNullSeriesToZeroValues(this.w.seriesData.series)}this.coreUtils.getSeriesTotals(),i.axisCharts&&(this.w.seriesData.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),this.w.seriesData.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),this.w.axisFlags.dataFormatXNumeric||this.w.axisFlags.isXNumeric&&("numeric"!==s.xaxis.type||0!==s.labels.length||0!==s.xaxis.categories.length)||this.handleExternalLabelsData(e);const a=this.coreUtils.getCategoryLabels(this.w.labelData.labels);for(let e=0;e<a.length;e++)if(Array.isArray(a[e])){this.w.axisFlags.isMultiLineX=!0;break}return{seriesData:{series:this.w.seriesData.series,seriesNames:this.w.seriesData.seriesNames,seriesX:this.w.seriesData.seriesX,seriesZ:this.w.seriesData.seriesZ,seriesColors:this.w.seriesData.seriesColors,seriesGoals:this.w.seriesData.seriesGoals,initialSeries:i.initialSeries,originalSeries:i.originalSeries,stackedSeriesTotals:this.w.seriesData.stackedSeriesTotals,stackedSeriesTotalsByGroups:this.w.seriesData.stackedSeriesTotalsByGroups,noLabelsProvided:this.w.axisFlags.noLabelsProvided},rangeData:{seriesRangeStart:this.w.rangeData.seriesRangeStart,seriesRangeEnd:this.w.rangeData.seriesRangeEnd,seriesRange:this.w.rangeData.seriesRange},candleData:{seriesCandleO:this.w.candleData.seriesCandleO,seriesCandleH:this.w.candleData.seriesCandleH,seriesCandleM:this.w.candleData.seriesCandleM,seriesCandleL:this.w.candleData.seriesCandleL,seriesCandleC:this.w.candleData.seriesCandleC},labelData:{labels:this.w.labelData.labels,categoryLabels:this.w.labelData.categoryLabels},axisFlags:{isXNumeric:this.w.axisFlags.isXNumeric,dataFormatXNumeric:this.w.axisFlags.dataFormatXNumeric,isDataXYZ:this.w.axisFlags.isDataXYZ,isRangeData:this.w.axisFlags.isRangeData,isRangeBar:this.w.axisFlags.isRangeBar,isMultiLineX:this.w.axisFlags.isMultiLineX,dataWasParsed:this.w.axisFlags.dataWasParsed,hasXaxisGroups:this.w.labelData.hasXaxisGroups,groups:this.w.labelData.groups,seriesGroups:this.w.labelData.seriesGroups}}}excludeCollapsedSeriesInYAxis(){const e=this.w,t=[];e.globals.seriesYAxisMap.forEach((s,i)=>{let a=0;s.forEach(t=>{-1!==e.globals.collapsedSeriesIndices.indexOf(t)&&a++}),a>0&&a==s.length&&t.push(i)}),e.globals.ignoreYAxisIndexes=t.map(e=>e)}}class fe{static invalidateAll(e){e&&e.globals&&(e.globals.cachedSelectors&&(e.globals.cachedSelectors={}),e.globals.domCache&&e.globals.domCache.clear(),e.globals.dimensionCache={})}static invalidateDimensions(e){e&&e.globals&&(e.globals.dimensionCache={})}static invalidateSelectors(e){e&&e.globals&&e.globals.cachedSelectors&&(e.globals.cachedSelectors={})}static getCachedSelector(e,t,s){return e&&e.globals?(e.globals.cachedSelectors||(e.globals.cachedSelectors={}),e.globals.cachedSelectors[t]||(e.globals.cachedSelectors[t]=s()),e.globals.cachedSelectors[t]):s()}static getCachedDimension(e,t,s,i=1e3){if(!e||!e.globals)return s();e.globals.dimensionCache||(e.globals.dimensionCache={});const a=e.globals.dimensionCache[t],r=Date.now();if(a&&a.lastUpdate&&r-a.lastUpdate<i)return a.value;const o=s();return e.globals.dimensionCache[t]={value:o,lastUpdate:r},o}static cacheDOMElement(e,t,s){e&&e.globals&&(e.globals.domCache||(e.globals.domCache=new Map),e.globals.domCache.set(t,s))}static getCachedDOMElement(e,t){return e&&e.globals&&e.globals.domCache&&e.globals.domCache.get(t)||null}}class me{constructor(e,t){this.w=e,this.ctx=t}_updateOptions(e,t=!1,s=!0,i=!0,a=!1){return new Promise(r=>{let o=[this.ctx];i&&(o=this.ctx.getSyncedCharts()),this.w.globals.isExecCalled&&(o=[this.ctx],this.w.globals.isExecCalled=!1),o.forEach((i,n)=>{const l=i.w;if(l.globals.shouldAnimate=s,t||(l.globals.resized=!0,l.globals.dataChanged=!0,s&&i.series.getPreviousPaths()),e&&"object"==typeof e&&(i.config=new D(e),e=F.extendArrayProps(i.config,e,l),i.w.globals.chartID!==this.w.globals.chartID&&delete e.series,l.config=b.extend(l.config,e),a&&(l.globals.lastXAxis=e.xaxis?b.clone(e.xaxis):[],l.globals.lastYAxis=e.yaxis?b.clone(e.yaxis):[],l.globals.initialConfig=b.extend({},l.config),l.globals.initialSeries=b.clone(l.config.series),e.series))){for(let e=0;e<l.globals.collapsedSeriesIndices.length;e++){const t=l.config.series[l.globals.collapsedSeriesIndices[e]];l.globals.collapsedSeries[e].data=l.globals.axisCharts?t.data.slice():t}for(let e=0;e<l.globals.ancillaryCollapsedSeriesIndices.length;e++){const t=l.config.series[l.globals.ancillaryCollapsedSeriesIndices[e]];l.globals.ancillaryCollapsedSeries[e].data=l.globals.axisCharts?t.data.slice():t}i.series.emptyCollapsedSeries(l.config.series)}return i.update(e).then(()=>{n===o.length-1&&r(i)})})})}_updateSeries(e,t,s=!1){return new Promise(i=>{const a=this.w;a.globals.shouldAnimate=t,a.globals.dataChanged=!0,fe.invalidateSelectors(a),t&&this.ctx.series.getPreviousPaths(),this.ctx.data.resetParsingFlags();const r=this.ctx.data.parseData(e);return this.ctx._writeParsedSeriesData(r.seriesData),this.ctx._writeParsedRangeData(r.rangeData),this.ctx._writeParsedCandleData(r.candleData),this.ctx._writeParsedLabelData(r.labelData),this.ctx._writeParsedAxisFlags(r.axisFlags),s&&(a.globals.initialConfig.series=b.clone(a.config.series),a.globals.initialSeries=b.clone(a.config.series)),this.ctx.update().then(()=>{i(this.ctx)})})}_extendSeries(e,t){const s=this.w,i=s.config.series[t];return l(n({},s.config.series[t]),{name:e.name?e.name:null==i?void 0:i.name,color:e.color?e.color:null==i?void 0:i.color,type:e.type?e.type:null==i?void 0:i.type,group:e.group?e.group:null==i?void 0:i.group,hidden:void 0!==e.hidden?e.hidden:null==i?void 0:i.hidden,data:e.data?e.data:null==i?void 0:i.data,zIndex:void 0!==e.zIndex?e.zIndex:t})}toggleDataPointSelection(e,t){const s=this.w;let i=null;const a=`.apexcharts-series[data\\:realIndex='${e}']`;if(s.globals.axisCharts?i=s.dom.Paper.findOne(`${a} path[j='${t}'], ${a} circle[j='${t}'], ${a} rect[j='${t}']`):void 0===t&&(i=s.dom.Paper.findOne(`${a} path[j='${e}']`),"pie"!==s.config.chart.type&&"polarArea"!==s.config.chart.type&&"donut"!==s.config.chart.type||this.ctx.pie.pieClicked(e)),!i)return null;new P(this.w).pathMouseDown(i,null);return i.node?i.node:null}forceXAxisUpdate(e){const t=this.w;if(["min","max"].forEach(s=>{void 0!==e.xaxis[s]&&(t.config.xaxis[s]=e.xaxis[s],t.globals.lastXAxis[s]=e.xaxis[s])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){const t=new S(e);e=t.convertCatToNumericXaxis(e,this.ctx)}return e}forceYAxisUpdate(e){return e.chart&&e.chart.stacked&&"100%"===e.chart.stackType&&(Array.isArray(e.yaxis)?e.yaxis.forEach((t,s)=>{e.yaxis[s].min=0,e.yaxis[s].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}revertDefaultAxisMinMax(e){const t=this.w;let s=t.globals.lastXAxis,i=t.globals.lastYAxis;e&&e.xaxis&&(s=e.xaxis),e&&e.yaxis&&(i=e.yaxis),t.config.xaxis.min=s.min,t.config.xaxis.max=s.max;const a=e=>{void 0!==i[e]&&(t.config.yaxis[e].min=i[e].min,t.config.yaxis[e].max=i[e].max)};t.config.yaxis.map((e,s)=>{t.interact.zoomed||void 0!==i[s]?a(s):void 0!==this.ctx.opts.yaxis[s]&&(e.min=this.ctx.opts.yaxis[s].min,e.max=this.ctx.opts.yaxis[s].max)})}}class be{constructor(e){this.w=e.w,this.ttCtx=e}getNearestValues({hoverArea:e,elGrid:t,clientX:s,clientY:i}){const a=this.w,r=t.getBoundingClientRect(),o=r.width,n=r.height;let l=o/(a.globals.dataPoints-1);const c=n/a.globals.dataPoints,h=this.hasBars();!a.globals.comboCharts&&!h||a.config.xaxis.convertedCatToNumeric||(l=o/a.globals.dataPoints);const d=s-r.left-a.globals.barPadForNumericAxis,g=i-r.top;d<0||g<0||d>o||g>n?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):a.interact.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):a.interact.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan"));let p=Math.round(d/l);const x=Math.floor(g/c);h&&!a.config.xaxis.convertedCatToNumeric&&(p=Math.ceil(d/l),p-=1);let u=null,f=null,m=a.globals.seriesXvalues.map(e=>e.filter(e=>b.isNumber(e)));const y=a.globals.seriesYvalues.map(e=>e.filter(e=>b.isNumber(e)));if(a.axisFlags.isXNumeric){const e=this.ttCtx.getElGrid().getBoundingClientRect(),t=d*(e.width/o),s=g*(e.height/n);f=this.closestInMultiArray(t,s,m,y),u=f.index,p=f.j,null!==u&&a.globals.hasNullValues&&(m=a.globals.seriesXvalues[u],f=this.closestInArray(t,m),p=f.j)}return a.interact.capturedSeriesIndex=null===u?-1:u,(!p||p<1)&&(p=0),a.globals.isBarHorizontal?a.interact.capturedDataPointIndex=x:a.interact.capturedDataPointIndex=p,{capturedSeries:u,j:a.globals.isBarHorizontal?x:p,hoverX:d,hoverY:g}}getFirstActiveXArray(e){const t=this.w;let s=0;const i=e.map((e,t)=>e.length>0?t:-1);for(let e=0;e<i.length;e++)if(-1!==i[e]&&-1===t.globals.collapsedSeriesIndices.indexOf(e)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(e)){s=i[e];break}return s}closestInMultiArray(e,t,s,i){const a=this.w,r=e=>-1===a.globals.collapsedSeriesIndices.indexOf(e)&&-1===a.globals.ancillaryCollapsedSeriesIndices.indexOf(e);let o=1/0,n=null,l=null;for(let c=0;c<s.length;c++){if(!r(c))continue;const h=s[c],d=i[c],g=Math.min(h.length,d.length);for(let s=0;s<g;s++){const i=e-h[s];let r=Math.sqrt(i*i);if(!a.globals.allSeriesHasEqualX){const e=t-d[s];r=Math.sqrt(i*i+e*e)}r<o&&(o=r,n=c,l=s)}}return{index:n,j:l}}closestInArray(e,t){const s=t[0];let i=null,a=Math.abs(e-s);for(let s=0;s<t.length;s++){const r=Math.abs(e-t[s]);r<a&&(a=r,i=s)}return{j:i}}isXoverlap(e){const t=[],s=this.w.seriesData.seriesX.filter(e=>void 0!==e[0]);if(s.length>0)for(let i=0;i<s.length-1;i++)void 0!==s[i][e]&&void 0!==s[i+1][e]&&s[i][e]!==s[i+1][e]&&t.push("unEqual");return 0===t.length}isInitialSeriesSameLen(){var e,t,s;let i=!0;const a=(null==(e=this.w.globals.initialSeries)?void 0:e.filter((e,t)=>{var s;return!(null==(s=this.w.globals.collapsedSeriesIndices)?void 0:s.includes(t))}))||[];for(let e=0;e<a.length-1;e++){if(!(null==(t=a[e])?void 0:t.data)||!(null==(s=a[e+1])?void 0:s.data))return!0;if(a[e].data.length!==a[e+1].data.length){i=!1;break}}return i}getBarsHeight(e){return[...e].reduce((e,t)=>e+t.getBBox().height,0)}getElMarkers(e){return"number"==typeof e?this.w.dom.baseEl.querySelectorAll(`.apexcharts-series[data\\:realIndex='${e}'] .apexcharts-series-markers-wrap > *`):this.w.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}getAllMarkers(e=!1){let t=this.w.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");t=[...t],e&&(t=t.filter(e=>{const t=Number(e.getAttribute("data:realIndex"));return-1===this.w.globals.collapsedSeriesIndices.indexOf(t)})),t.sort((e,t)=>{var s=Number(e.getAttribute("data:realIndex")),i=Number(t.getAttribute("data:realIndex"));return i<s?1:i>s?-1:0});const s=[];return t.forEach(e=>{s.push(e.querySelector(".apexcharts-marker"))}),s}hasMarkers(e){return this.getElMarkers(e).length>0}getPathFromPoint(e,t){const s=Number(e.getAttribute("cx")),i=Number(e.getAttribute("cy")),a=e.getAttribute("shape");return new P(this.w).getMarkerPath(s,i,a,t)}getElBars(){return this.w.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}hasBars(){return this.getElBars().length>0}getHoverMarkerSize(e){const t=this.w;let s=t.config.markers.hover.size;return void 0===s&&(s=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),s}toggleAllTooltipSeriesGroups(e){const t=this.w,s=this.ttCtx;0===s.allTooltipSeriesGroups.length&&(s.allTooltipSeriesGroups=t.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));const i=s.allTooltipSeriesGroups;for(let s=0;s<i.length;s++)"enable"===e?(i[s].classList.add("apexcharts-active"),i[s].style.display=t.config.tooltip.items.display):(i[s].classList.remove("apexcharts-active"),i[s].style.display="none")}}class ye{constructor(e){this.w=e.w,this.ttCtx=e,this.tooltipUtil=new be(e)}drawSeriesTexts({shared:e=!0,ttItems:t,i:s=0,j:i=null,y1:a,y2:r,e:o}){const n=this.w;void 0!==n.config.tooltip.custom?this.handleCustomTooltip({i:s,j:i,y1:a,y2:r,w:n}):this.toggleActiveInactiveSeries(e,s);const l=this.getValuesToPrint({i:s,j:i});this.printLabels({i:s,j:i,values:l,ttItems:t,shared:e,e:o});const c=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=c.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=c.getBoundingClientRect().height}printLabels({i:e,j:t,values:s,ttItems:i,shared:a,e:r}){var o;const c=this.w;let h,d=[];const g=e=>c.seriesData.seriesGoals[e]&&c.seriesData.seriesGoals[e][t]&&Array.isArray(c.seriesData.seriesGoals[e][t]),{xVal:p,zVal:x,xAxisTTVal:u}=s;let f="",m=c.globals.colors[e];null!==t&&c.config.plotOptions.bar.distributed&&(m=c.globals.colors[t]);for(let s=0,b=c.seriesData.series.length-1;s<c.seriesData.series.length;s++,b--){let y=this.getFormatters(e);f=this.getSeriesName({fn:y.yLbTitleFormatter,index:e,seriesIndex:e,j:t}),"treemap"===c.config.chart.type&&(f=y.yLbTitleFormatter(String(c.config.series[e].data[t].x),{series:c.seriesData.series,seriesIndex:e,dataPointIndex:t,w:c}));const w=c.config.tooltip.inverseOrder?b:s;if(c.globals.axisCharts){const s=e=>{var s,i,a,r;return c.axisFlags.isRangeData?y.yLbFormatter(null==(i=null==(s=c.rangeData.seriesRangeStart)?void 0:s[e])?void 0:i[t],{series:c.rangeData.seriesRangeStart,seriesIndex:e,dataPointIndex:t,w:c})+" - "+y.yLbFormatter(null==(r=null==(a=c.rangeData.seriesRangeEnd)?void 0:a[e])?void 0:r[t],{series:c.rangeData.seriesRangeEnd,seriesIndex:e,dataPointIndex:t,w:c}):y.yLbFormatter(c.seriesData.series[e][t],{series:c.seriesData.series,seriesIndex:e,dataPointIndex:t,w:c})};if(a)y=this.getFormatters(w),f=this.getSeriesName({fn:y.yLbTitleFormatter,index:w,seriesIndex:e,j:t}),m=c.globals.colors[w],h=s(w),g(w)&&(d=c.seriesData.seriesGoals[w][t].map(e=>({attrs:e,val:y.yLbFormatter(e.value,{seriesIndex:w,dataPointIndex:t,w:c})})));else{const i=null==(o=null==r?void 0:r.target)?void 0:o.getAttribute("fill");i&&(-1!==i.indexOf("url")?-1!==i.indexOf("Pattern")&&(m=c.dom.baseEl.querySelector(i.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):m=i),h=s(e),g(e)&&Array.isArray(c.seriesData.seriesGoals[e][t])&&(d=c.seriesData.seriesGoals[e][t].map(s=>({attrs:s,val:y.yLbFormatter(s.value,{seriesIndex:e,dataPointIndex:t,w:c})})))}}null===t&&(h=y.yLbFormatter(c.seriesData.series[e],l(n({},c),{seriesIndex:e,dataPointIndex:e}))),this.DOMHandling({i:e,t:w,j:t,ttItems:i,values:{val:h,goalVals:d,xVal:p,xAxisTTVal:u,zVal:x},seriesName:f,shared:a,pColor:m})}}getFormatters(e){const t=this.w;let s,i=t.formatters.yLabelFormatters[e];return void 0!==t.formatters.ttVal?Array.isArray(t.formatters.ttVal)?(i=t.formatters.ttVal[e]&&t.formatters.ttVal[e].formatter,s=t.formatters.ttVal[e]&&t.formatters.ttVal[e].title&&t.formatters.ttVal[e].title.formatter):(i=t.formatters.ttVal.formatter,"function"==typeof t.formatters.ttVal.title.formatter&&(s=t.formatters.ttVal.title.formatter)):s=t.config.tooltip.y.title.formatter,"function"!=typeof i&&(i=t.formatters.yLabelFormatters[0]?t.formatters.yLabelFormatters[0]:function(e){return e}),"function"!=typeof s&&(s=function(e){return e?e+": ":""}),{yLbFormatter:i,yLbTitleFormatter:s}}getSeriesName({fn:e,index:t,seriesIndex:s,j:i}){const a=this.w;return e(String(a.seriesData.seriesNames[t]),{series:a.seriesData.series,seriesIndex:s,dataPointIndex:i,w:a})}DOMHandling({t:e,j:t,ttItems:s,values:i,seriesName:a,shared:r,pColor:o}){const n=this.w,l=this.ttCtx,{val:c,goalVals:h,xVal:d,xAxisTTVal:g,zVal:p}=i;let x=null;x=s[e].children,n.config.tooltip.fillSeriesColor&&(s[e].style.backgroundColor=o,x[0].style.display="none"),l.showTooltipTitle&&(null===l.tooltipTitle&&(l.tooltipTitle=n.dom.baseEl.querySelector(".apexcharts-tooltip-title")),l.tooltipTitle.innerHTML=d),l.isXAxisTooltipEnabled&&(l.xaxisTooltipText.innerHTML=""!==g?g:d);const u=s[e].querySelector(".apexcharts-tooltip-text-y-label");u&&(u.innerHTML=a||"");const f=s[e].querySelector(".apexcharts-tooltip-text-y-value");f&&(f.innerHTML=void 0!==c?c:""),x[0]&&x[0].classList.contains("apexcharts-tooltip-marker")&&(n.config.tooltip.marker.fillColors&&Array.isArray(n.config.tooltip.marker.fillColors)&&(o=n.config.tooltip.marker.fillColors[e]),n.config.tooltip.fillSeriesColor?x[0].style.backgroundColor=o:x[0].style.color=o),n.config.tooltip.marker.show||(x[0].style.display="none");const m=s[e].querySelector(".apexcharts-tooltip-text-goals-label"),b=s[e].querySelector(".apexcharts-tooltip-text-goals-value");if(h.length&&n.seriesData.seriesGoals[e]){const s=()=>{let e="<div>",t="<div>";h.forEach(s=>{e+=` <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: ${s.attrs.strokeColor}; height: 3px; border-radius: 0; top: 5px;"></span> ${s.attrs.name}</div>`,t+=`<div>${s.val}</div>`}),m.innerHTML=e+"</div>",b.innerHTML=t+"</div>"};r?n.seriesData.seriesGoals[e][t]&&Array.isArray(n.seriesData.seriesGoals[e][t])?s():(m.innerHTML="",b.innerHTML=""):s()}else m.innerHTML="",b.innerHTML="";if(null!==p){s[e].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=n.config.tooltip.z.title;s[e].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==p?p:""}if(r&&x[0]){if(n.config.tooltip.hideEmptySeries){const t=s[e].querySelector(".apexcharts-tooltip-marker"),i=s[e].querySelector(".apexcharts-tooltip-text");0==parseFloat(c)?(t.style.display="none",i.style.display="none"):(t.style.display="block",i.style.display="block")}null==c||n.globals.ancillaryCollapsedSeriesIndices.indexOf(e)>-1||n.globals.collapsedSeriesIndices.indexOf(e)>-1||Array.isArray(l.tConfig.enabledOnSeries)&&-1===l.tConfig.enabledOnSeries.indexOf(e)?x[0].parentNode.style.display="none":x[0].parentNode.style.display=n.config.tooltip.items.display}else Array.isArray(l.tConfig.enabledOnSeries)&&-1===l.tConfig.enabledOnSeries.indexOf(e)&&(x[0].parentNode.style.display="none")}toggleActiveInactiveSeries(e,t){const s=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");const e=s.dom.baseEl.querySelector(`.apexcharts-tooltip-series-group-${t}`);e&&(e.classList.add("apexcharts-active"),e.style.display=s.config.tooltip.items.display)}}getValuesToPrint({i:e,j:t}){const s=this.w,i=s.seriesData.seriesX.map(e=>e.length>0?e:[]);let a="",r="",o=null,n=null;const l={series:s.seriesData.series,seriesIndex:e,dataPointIndex:t,w:s},c=s.formatters.ttZFormatter;if(null===t)n=s.seriesData.series[e];else if(s.axisFlags.isXNumeric&&"treemap"!==s.config.chart.type){if(a=i[e][t],0===i[e].length){a=i[this.tooltipUtil.getFirstActiveXArray(i)][t]}}else{a=new ue(this.w).isFormatXY()?void 0!==s.config.series[e].data[t]?s.config.series[e].data[t].x:"":void 0!==s.labelData.labels[t]?s.labelData.labels[t]:""}const h=a;if(s.axisFlags.isXNumeric&&"datetime"===s.config.xaxis.type){a=new w(this.w).xLabelFormat(s.formatters.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new y(this.w).formatDate,w:this.w})}else a=s.globals.isBarHorizontal?s.formatters.yLabelFormatters[0](h,l):s.formatters.xLabelFormatter(h,l);return void 0!==s.config.tooltip.x.formatter&&(a=s.formatters.ttKeyFormatter(h,l)),s.seriesData.seriesZ.length>0&&s.seriesData.seriesZ[e].length>0&&(o=c(s.seriesData.seriesZ[e][t],s)),r="function"==typeof s.config.xaxis.tooltip.formatter?s.formatters.xaxisTooltipFormatter(h,l):a,{val:Array.isArray(n)?n.join(" "):n,xVal:Array.isArray(a)?a.join(" "):a,xAxisTTVal:Array.isArray(r)?r.join(" "):r,zVal:o}}handleCustomTooltip({i:e,j:t,y1:s,y2:i,w:a}){const r=this.ttCtx.getElTooltip();let o=a.config.tooltip.custom;Array.isArray(o)&&o[e]&&(o=o[e]);const n=o({series:a.seriesData.series,seriesIndex:e,dataPointIndex:t,y1:s,y2:i,w:a});"string"==typeof n||"number"==typeof n?r.innerHTML=n:(n instanceof Element||"string"==typeof n.nodeName)&&(r.innerHTML="",r.appendChild(n.cloneNode(!0)))}}class we{constructor(e){this.ttCtx=e,this.w=e.w}moveXCrosshairs(e,t=null){const s=this.ttCtx,i=this.w,a=s.getElXCrosshairs();let r=e-s.xcrosshairsWidth/2;const o=i.labelData.labels.slice().length;if(null!==t&&(r=i.layout.gridWidth/o*t),null===a||i.globals.isBarHorizontal||(a.setAttribute("x",r),a.setAttribute("x1",r),a.setAttribute("x2",r),a.setAttribute("y2",i.layout.gridHeight),a.classList.add("apexcharts-active")),r<0&&(r=0),r>i.layout.gridWidth&&(r=i.layout.gridWidth),s.isXAxisTooltipEnabled){let e=r;"tickWidth"!==i.config.xaxis.crosshairs.width&&"barWidth"!==i.config.xaxis.crosshairs.width||(e=r+s.xcrosshairsWidth/2),this.moveXAxisTooltip(e)}}moveYCrosshairs(e){const t=this.ttCtx;null!==t.ycrosshairs&&P.setAttrs(t.ycrosshairs,{y1:e,y2:e}),null!==t.ycrosshairsHidden&&P.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}moveXAxisTooltip(e){const t=this.w,s=this.ttCtx;if(null!==s.xaxisTooltip&&0!==s.xcrosshairsWidth){s.xaxisTooltip.classList.add("apexcharts-active");const i=s.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.layout.translateY+1+t.config.xaxis.offsetY;if(e-=s.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.layout.translateX;let a=0;a=new P(this.w).getTextRects(s.xaxisTooltipText.innerHTML),s.xaxisTooltipText.style.minWidth=a.width+"px",s.xaxisTooltip.style.left=e+"px",s.xaxisTooltip.style.top=i+"px"}}}moveYAxisTooltip(e){const t=this.w,s=this.ttCtx;null===s.yaxisTTEls&&(s.yaxisTTEls=t.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));const i=parseInt(s.ycrosshairsHidden.getAttribute("y1"),10);let a=t.layout.translateY+i;const r=s.yaxisTTEls[e].getBoundingClientRect(),o=r.height;let n=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(n-=r.width),a-=o/2,-1===t.globals.ignoreYAxisIndexes.indexOf(e)&&a>0&&a<t.layout.gridHeight?(s.yaxisTTEls[e].classList.add("apexcharts-active"),s.yaxisTTEls[e].style.top=a+"px",s.yaxisTTEls[e].style.left=n+t.config.yaxis[e].tooltip.offsetX+"px"):s.yaxisTTEls[e].classList.remove("apexcharts-active")}moveTooltip(e,t,s=null){const i=this.w,a=this.ttCtx,r=a.getElTooltip(),o=a.tooltipRect,n=null!==s?parseFloat(s):1;let l=parseFloat(e)+n+5,c=parseFloat(t)+n/2;if(l>i.layout.gridWidth/2&&(l=l-o.ttWidth-n-10),l>i.layout.gridWidth-o.ttWidth-10&&(l=i.layout.gridWidth-o.ttWidth),l<-20&&(l=-20),i.config.tooltip.followCursor){const e=a.getElGrid().getBoundingClientRect();l=a.e.clientX-e.left,l>i.layout.gridWidth/2&&(l-=a.tooltipRect.ttWidth),c=a.e.clientY+i.layout.translateY-e.top,c>i.layout.gridHeight/2&&(c-=a.tooltipRect.ttHeight)}else i.globals.isBarHorizontal||o.ttHeight/2+c>i.layout.gridHeight&&(c=i.layout.gridHeight-o.ttHeight+i.layout.translateY);isNaN(l)||(l+=i.layout.translateX,r.style.left=l+"px",r.style.top=c+"px")}moveMarkers(e,t){const s=this.w,i=this.ttCtx;if(s.globals.markers.size[e]>0){const a=s.dom.baseEl.querySelectorAll(` .apexcharts-series[data\\:realIndex='${e}'] .apexcharts-marker`);for(let e=0;e<a.length;e++)parseInt(a[e].getAttribute("rel"),10)===t&&(i.marker.resetPointsSize(),i.marker.enlargeCurrentPoint(t,a[e]))}else i.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}moveDynamicPointOnHover(e,t){var s,i,a,r;const o=this.w,n=this.ttCtx;let l=0,c=0;const h=new P(this.w),d=o.globals.pointsArray,g=n.tooltipUtil.getHoverMarkerSize(t),p=o.config.series[t].type;if(p&&("column"===p||"candlestick"===p||"boxPlot"===p))return;l=null==(i=null==(s=d[t])?void 0:s[e])?void 0:i[0],c=(null==(r=null==(a=d[t])?void 0:a[e])?void 0:r[1])||0;const x=o.dom.baseEl.querySelector(`.apexcharts-series[data\\:realIndex='${t}'] .apexcharts-series-markers path`);if(x&&c<o.layout.gridHeight&&c>0){const e=x.getAttribute("shape"),t=h.getMarkerPath(l,c,e,1.5*g);x.setAttribute("d",t)}this.moveXCrosshairs(l),n.fixedTooltip||this.moveTooltip(l,c,g)}moveDynamicPointsOnHover(e){var t;const s=this.ttCtx,i=s.w;let a=0,r=0,o=0;const n=i.globals.pointsArray,l=new Q(this.w),c=new P(this.w);o=l.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);const h=s.tooltipUtil.getHoverMarkerSize(o);if((null==(t=n[o])?void 0:t[e])&&(a=n[o][e][0],r=n[o][e][1]),isNaN(a))return;const d=s.tooltipUtil.getAllMarkers();if(d.length)for(let t=0;t<i.seriesData.series.length;t++){const s=n[t];if(i.globals.comboCharts&&void 0===s&&d.splice(t,0,null),s&&s.length){let s,r=n[t][e][1];d[t].setAttribute("cx",a);const o=d[t].getAttribute("shape");if("rangeArea"===i.config.chart.type&&!i.globals.comboCharts){const a=e+i.seriesData.series[t].length;s=n[t][a][1];r-=Math.abs(r-s)/2}if(null!==r&&!isNaN(r)&&r<i.layout.gridHeight+h&&r+h>0){const e=c.getMarkerPath(a,r,o,h);d[t].setAttribute("d",e)}else d[t].setAttribute("d","")}}this.moveXCrosshairs(a),s.fixedTooltip||this.moveTooltip(a,r||i.layout.gridHeight,h)}moveStickyTooltipOverBars(e,t){const s=this.w,i=this.ttCtx;let a=s.globals.columnSeries?s.globals.columnSeries.length:s.seriesData.series.length;s.config.chart.stacked&&(a=s.globals.barGroups.length);let r=a>=2&&a%2==0?Math.floor(a/2):Math.floor(a/2)+1;if(s.globals.isBarHorizontal){r=new Q(this.w).getActiveConfigSeriesIndex("desc")+1}let o=s.dom.baseEl.querySelector(`.apexcharts-bar-series .apexcharts-series[rel='${r}'] path[j='${e}'], .apexcharts-candlestick-series .apexcharts-series[rel='${r}'] path[j='${e}'], .apexcharts-boxPlot-series .apexcharts-series[rel='${r}'] path[j='${e}'], .apexcharts-rangebar-series .apexcharts-series[rel='${r}'] path[j='${e}']`);o||"number"!=typeof t||(o=s.dom.baseEl.querySelector(`.apexcharts-bar-series .apexcharts-series[data\\:realIndex='${t}'] path[j='${e}'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='${t}'] path[j='${e}'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='${t}'] path[j='${e}'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='${t}'] path[j='${e}']`));let n=o?parseFloat(o.getAttribute("cx")):0,l=o?parseFloat(o.getAttribute("cy")):0;const c=o?parseFloat(o.getAttribute("barWidth")):0,h=i.getElGrid().getBoundingClientRect(),d=o&&(o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area"));s.axisFlags.isXNumeric?(o&&!d&&(n-=a%2!=0?c/2:0),o&&d&&(n-=c/2)):s.globals.isBarHorizontal||(n=i.xAxisTicksPositions[e-1]+i.dataPointsDividedWidth/2,isNaN(n)&&(n=i.xAxisTicksPositions[e]-i.dataPointsDividedWidth/2)),s.globals.isBarHorizontal?l-=i.tooltipRect.ttHeight:s.config.tooltip.followCursor?l=i.e.clientY-h.top-i.tooltipRect.ttHeight/2:l+i.tooltipRect.ttHeight+15>s.layout.gridHeight&&(l=s.layout.gridHeight),s.globals.isBarHorizontal||this.moveXCrosshairs(n),i.fixedTooltip||this.moveTooltip(n,l||s.layout.gridHeight)}}class ve{constructor(e){this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new we(e)}drawDynamicPoints(){const e=this.w,t=new P(this.w),s=new O(this.w,this.ctx);let i=e.dom.baseEl.querySelectorAll(".apexcharts-series");i=[...i],e.config.chart.stacked&&i.sort((e,t)=>parseFloat(e.getAttribute("data:realIndex"))-parseFloat(t.getAttribute("data:realIndex")));for(let a=0;a<i.length;a++){const r=i[a].querySelector(".apexcharts-series-markers-wrap");if(null!==r){let i=`apexcharts-marker w${(Math.random()+1).toString(36).substring(4)}`;"line"!==e.config.chart.type&&"area"!==e.config.chart.type||e.globals.comboCharts||e.config.tooltip.intersect||(i+=" no-pointer-events");const a=s.getMarkerConfig({cssClass:i,seriesIndex:Number(r.getAttribute("data:realIndex"))}),o=t.drawMarker(0,0,a);o.node.setAttribute("default-marker-size",0);const n=m.createElementNS(N,"g");n.classList.add("apexcharts-series-markers"),n.appendChild(o.node),r.appendChild(n)}}}enlargeCurrentPoint(e,t,s=null,i=null){const a=this.w;"bubble"!==a.config.chart.type&&this.newPointSize(e,t);let r=t.getAttribute("cx"),o=t.getAttribute("cy");if(null!==s&&null!==i&&(r=s,o=i),this.tooltipPosition.moveXCrosshairs(r),!this.fixedTooltip){if("radar"===a.config.chart.type){const e=this.ttCtx.getElGrid().getBoundingClientRect();r=this.ttCtx.e.clientX-e.left}this.tooltipPosition.moveTooltip(r,o,a.config.markers.hover.size)}}enlargePoints(e){const t=this.w,s=this,i=this.ttCtx,a=e,r=t.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker");let o=t.config.markers.hover.size;for(let e=0;e<r.length;e++){const n=r[e].getAttribute("rel"),l=r[e].getAttribute("index");if(void 0===o&&(o=t.globals.markers.size[l]+t.config.markers.hover.sizeOffset),a===parseInt(n,10)){s.newPointSize(a,r[e]);const t=r[e].getAttribute("cx"),n=r[e].getAttribute("cy");s.tooltipPosition.moveXCrosshairs(t),i.fixedTooltip||s.tooltipPosition.moveTooltip(t,n,o)}else s.oldPointSize(r[e])}}newPointSize(e,t){const s=this.w;let i=s.config.markers.hover.size;const a=0===e?t.parentNode.firstChild:t.parentNode.lastChild;if("0"!==a.getAttribute("default-marker-size")){const e=parseInt(a.getAttribute("index"),10);void 0===i&&(i=s.globals.markers.size[e]+s.config.markers.hover.sizeOffset),i<0&&(i=0);const r=this.ttCtx.tooltipUtil.getPathFromPoint(t,i);t.setAttribute("d",r)}}oldPointSize(e){const t=parseFloat(e.getAttribute("default-marker-size")),s=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",s)}resetPointsSize(){const e=this.w.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker");for(let t=0;t<e.length;t++){const s=parseFloat(e[t].getAttribute("default-marker-size"));if(b.isNumber(s)&&s>0){const i=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],s);e[t].setAttribute("d",i)}else e[t].setAttribute("d","M0,0")}}}class Ae{constructor(e){this.w=e.w;const t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&"rangeBar"===t.config.chart.type&&t.config.plotOptions.bar.rangeBarGroupRows}getAttr(e,t){return parseFloat(e.target.getAttribute(t))}handleHeatTreeTooltip({e:e,opt:t,x:s,y:i,type:a}){const r=this.ttCtx,o=this.w;if(e.target.classList.contains(`apexcharts-${a}-rect`)){const a=this.getAttr(e,"i"),n=this.getAttr(e,"j"),l=this.getAttr(e,"cx"),c=this.getAttr(e,"cy"),h=this.getAttr(e,"width"),d=this.getAttr(e,"height");if(r.tooltipLabels.drawSeriesTexts({ttItems:t.ttItems,i:a,j:n,shared:!1,e:e}),o.interact.capturedSeriesIndex=a,o.interact.capturedDataPointIndex=n,s=l+r.tooltipRect.ttWidth/2+h,i=c+r.tooltipRect.ttHeight/2-d/2,r.tooltipPosition.moveXCrosshairs(l+h/2),s>o.layout.gridWidth/2&&(s=l-r.tooltipRect.ttWidth/2+h),r.w.config.tooltip.followCursor){const e=o.dom.elWrap.getBoundingClientRect();s=o.interact.clientX-e.left-(s>o.layout.gridWidth/2?r.tooltipRect.ttWidth:0),i=o.interact.clientY-e.top-(i>o.layout.gridHeight/2?r.tooltipRect.ttHeight:0)}}return{x:s,y:i}}handleMarkerTooltip({e:e,opt:t,x:s,y:i}){const a=this.w,r=this.ttCtx;let o,n;if(e.target.classList.contains("apexcharts-marker")){const l=parseInt(t.paths.getAttribute("cx"),10),c=parseInt(t.paths.getAttribute("cy"),10),h=parseFloat(t.paths.getAttribute("val"));if(n=parseInt(t.paths.getAttribute("rel"),10),o=parseInt(t.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,r.intersect){const e=b.findAncestor(t.paths,"apexcharts-series");e&&(o=parseInt(e.getAttribute("data:realIndex"),10))}if(r.tooltipLabels.drawSeriesTexts({ttItems:t.ttItems,i:o,j:n,shared:!r.showOnIntersect&&a.config.tooltip.shared,e:e}),"mouseup"===e.type&&r.markerClick(e,o,n),a.interact.capturedSeriesIndex=o,a.interact.capturedDataPointIndex=n,s=l,i=c+a.layout.translateY-1.4*r.tooltipRect.ttHeight,r.w.config.tooltip.followCursor){const e=r.getElGrid().getBoundingClientRect();i=r.e.clientY+a.layout.translateY-e.top}h<0&&(i=c),r.marker.enlargeCurrentPoint(n,t.paths,s,i)}return{x:s,y:i}}handleBarTooltip({e:e,opt:t}){const s=this.w,i=this.ttCtx,a=i.getElTooltip();let r,o=0,n=0,l=0,c=0;const h=this.getBarTooltipXY({e:e,opt:t});if(null===h.j&&0===h.barHeight&&0===h.barWidth)return;c=h.i;const d=h.j;if(s.interact.capturedSeriesIndex=c,s.interact.capturedDataPointIndex=d,s.globals.isBarHorizontal&&i.tooltipUtil.hasBars()||!s.config.tooltip.shared?(n=h.x,l=h.y,r=Array.isArray(s.config.stroke.width)?s.config.stroke.width[c]:s.config.stroke.width,o=n):s.globals.comboCharts||s.config.tooltip.shared||(o/=2),isNaN(l)&&(l=s.globals.svgHeight-i.tooltipRect.ttHeight),n+i.tooltipRect.ttWidth>s.layout.gridWidth?n-=i.tooltipRect.ttWidth:n<0&&(n=0),i.w.config.tooltip.followCursor){const e=i.getElGrid().getBoundingClientRect();l=i.e.clientY-e.top}null===i.tooltip&&(i.tooltip=s.dom.baseEl.querySelector(".apexcharts-tooltip")),s.config.tooltip.shared||(s.globals.comboBarCount>0?i.tooltipPosition.moveXCrosshairs(o+r/2):i.tooltipPosition.moveXCrosshairs(o)),!i.fixedTooltip&&(!s.config.tooltip.shared||s.globals.isBarHorizontal&&i.tooltipUtil.hasBars())&&(l=l+s.layout.translateY-i.tooltipRect.ttHeight/2,a.style.left=n+s.layout.translateX+"px",a.style.top=l+"px")}getBarTooltipXY({e:e,opt:t}){const s=this.w;let i=null;const a=this.ttCtx;let r=0,o=0,n=0,l=0,c=0;const h=e.target.classList;if(h.contains("apexcharts-bar-area")||h.contains("apexcharts-candlestick-area")||h.contains("apexcharts-boxPlot-area")||h.contains("apexcharts-rangebar-area")){const h=e.target,d=h.getBoundingClientRect(),g=t.elGrid.getBoundingClientRect(),p=d.height;c=d.height;const x=d.width,u=parseInt(h.getAttribute("cx"),10),f=parseInt(h.getAttribute("cy"),10);l=parseFloat(h.getAttribute("barWidth"));const m="touchmove"===e.type?e.touches[0].clientX:e.clientX;i=parseInt(h.getAttribute("j"),10),r=parseInt(h.parentNode.getAttribute("rel"),10)-1;const b=h.getAttribute("data-range-y1"),y=h.getAttribute("data-range-y2");s.globals.comboCharts&&(r=parseInt(h.parentNode.getAttribute("data:realIndex"),10));const w=e=>s.axisFlags.isXNumeric?u-x/2:this.isVerticalGroupedRangeBar?u+x/2:u-a.dataPointsDividedWidth+x/2,v=()=>f-a.dataPointsDividedHeight+p/2-a.tooltipRect.ttHeight/2;a.tooltipLabels.drawSeriesTexts({ttItems:t.ttItems,i:r,j:i,y1:b?parseInt(b,10):null,y2:y?parseInt(y,10):null,shared:!a.showOnIntersect&&s.config.tooltip.shared,e:e}),s.config.tooltip.followCursor?s.globals.isBarHorizontal?(o=m-g.left+15,n=v()):(o=w(o),n=e.clientY-g.top-a.tooltipRect.ttHeight/2-15):s.globals.isBarHorizontal?(o=u,o<a.xyRatios.baseLineInvertedY&&(o=u-a.tooltipRect.ttWidth),n=v()):(o=w(o),n=f)}return{x:o,y:n,barHeight:c,barWidth:l,i:r,j:i}}}class Se{constructor(e){this.w=e.w,this.ttCtx=e}drawXaxisTooltip(){const e=this.w,t=this.ttCtx,s="bottom"===e.config.xaxis.position;t.xaxisOffY=s?e.layout.gridHeight+1:-e.layout.xAxisHeight-e.config.xaxis.axisTicks.height+3;const i=s?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",a=e.dom.elWrap;if(t.isXAxisTooltipEnabled){null===e.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(t.xaxisTooltip=m.createElementNS("http://www.w3.org/1999/xhtml","div"),t.xaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(t.xaxisTooltip),t.xaxisTooltipText=m.createElementNS("http://www.w3.org/1999/xhtml","div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}}drawYaxisTooltip(){const e=this.w,t=this.ttCtx;for(let s=0;s<e.config.yaxis.length;s++){const i=e.config.yaxis[s].opposite||e.config.yaxis[s].crosshairs.opposite;t.yaxisOffX=i?e.layout.gridWidth+1:1;const a=i?`apexcharts-yaxistooltip apexcharts-yaxistooltip-${s} apexcharts-yaxistooltip-right`:`apexcharts-yaxistooltip apexcharts-yaxistooltip-${s} apexcharts-yaxistooltip-left`,r=e.dom.elWrap;null===e.dom.baseEl.querySelector(`.apexcharts-yaxistooltip apexcharts-yaxistooltip-${s}`)&&(t.yaxisTooltip=m.createElementNS("http://www.w3.org/1999/xhtml","div"),t.yaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+e.config.tooltip.theme),r.appendChild(t.yaxisTooltip),0===s&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[s]=m.createElementNS("http://www.w3.org/1999/xhtml","div"),t.yaxisTooltipText[s].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[s]))}}setXCrosshairWidth(){const e=this.w,t=this.ttCtx,s=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){const s=e.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==s&&"barWidth"===e.config.xaxis.crosshairs.width){const e=parseFloat(s.getAttribute("barWidth"));t.xcrosshairsWidth=e}else if("tickWidth"===e.config.xaxis.crosshairs.width){const s=e.labelData.labels.length;t.xcrosshairsWidth=e.layout.gridWidth/s}}else if("tickWidth"===e.config.xaxis.crosshairs.width){const s=e.labelData.labels.length;t.xcrosshairsWidth=e.layout.gridWidth/s}else if("barWidth"===e.config.xaxis.crosshairs.width){const s=e.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==s){const e=parseFloat(s.getAttribute("barWidth"));t.xcrosshairsWidth=e}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),null!==s&&t.xcrosshairsWidth>0&&s.setAttribute("width",t.xcrosshairsWidth)}handleYCrosshair(){const e=this.w,t=this.ttCtx;t.ycrosshairs=e.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}drawYaxisTooltipText(e,t,s){const i=this.ttCtx,a=this.w,r=a.globals,o=r.seriesYAxisMap[e];if(i.yaxisTooltips[e]&&o.length>0){const n=a.formatters.yLabelFormatters[e],l=i.getElGrid().getBoundingClientRect(),c=o[0];let h=0;s.yRatio.length>1&&(h=c);const d=(t-l.top)*s.yRatio[h],g=r.maxYArr[c]-r.minYArr[c];let p=r.minYArr[c]+(g-d);a.config.yaxis[e].reversed&&(p=r.maxYArr[c]-(g-d)),i.tooltipPosition.moveYCrosshairs(t-l.top),i.yaxisTooltipText[e].innerHTML=n(p),i.tooltipPosition.moveYAxisTooltip(e)}}}class Ce{constructor(e,t){this.w=e,this.ctx=t,this.tConfig=e.config.tooltip,this.tooltipUtil=new be(this),this.tooltipLabels=new ye(this),this.tooltipPosition=new we(this),this.marker=new ve(this),this.intersect=new Ae(this),this.axesTooltip=new Se(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!e.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now(),this.dimensionUpdateScheduled=!1}setupDimensionCache(){const e=this.w,t=this.getElTooltip();t&&(this.updateDimensionCache(),"undefined"==typeof ResizeObserver||e.globals.resizeObserver||(e.globals.resizeObserver=new ResizeObserver(()=>{this.dimensionUpdateScheduled||(this.dimensionUpdateScheduled=!0,requestAnimationFrame(()=>{this.updateDimensionCache(),this.dimensionUpdateScheduled=!1}))}),e.globals.resizeObserver.observe(t)))}updateDimensionCache(){const e=this.w,t=this.getElTooltip();if(!t)return;const s=t.getBoundingClientRect();e.globals.dimensionCache.tooltip={width:s.width,height:s.height,lastUpdate:Date.now()}}getCachedDimensions(){const e=this.w;if(e.globals.dimensionCache.tooltip){const t=e.globals.dimensionCache.tooltip;if(Date.now()-t.lastUpdate<1e3)return{ttWidth:t.width,ttHeight:t.height}}this.updateDimensionCache();const t=e.globals.dimensionCache.tooltip;return t?{ttWidth:t.width,ttHeight:t.height}:{ttWidth:0,ttHeight:0}}getElTooltip(e){return e||(e=this),e.w.dom.baseEl?e.w.dom.baseEl.querySelector(".apexcharts-tooltip"):null}getElXCrosshairs(){return this.w.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}getElGrid(){return this.w.dom.baseEl.querySelector(".apexcharts-grid")}drawTooltip(e){const t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(e=>!!(e.show&&e.tooltip.enabled&&t.globals.axisCharts)),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);const s=m.createElementNS("http://www.w3.org/1999/xhtml","div");if(s.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&s.classList.add(t.config.tooltip.cssClass),s.classList.add(`apexcharts-theme-${this.tConfig.theme||"light"}`),t.config.chart.accessibility.enabled&&t.config.chart.accessibility.announcements.enabled&&(s.setAttribute("role","tooltip"),s.setAttribute("aria-live","polite"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-hidden","true")),t.dom.elWrap.appendChild(s),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();const e=new _(this.w,this.ctx);this.xAxisTicksPositions=e.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==t.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==t.config.markers.size&&0!==t.globals.markers.largestSize||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length===t.seriesData.series.length)return;this.dataPointsDividedHeight=t.layout.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.layout.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=m.createElementNS("http://www.w3.org/1999/xhtml","div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,s.appendChild(this.tooltipTitle));let i=t.seriesData.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(i=this.showOnIntersect?1:t.seriesData.series.length),this.legendLabels=t.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(i),this.addSVGEvents(),this.setupDimensionCache()}createTTElements(e){const t=this.w,s=[],i=this.getElTooltip();for(let a=0;a<e;a++){const r=m.createElementNS("http://www.w3.org/1999/xhtml","div");r.classList.add("apexcharts-tooltip-series-group",`apexcharts-tooltip-series-group-${a}`),r.style.order=t.config.tooltip.inverseOrder?e-a:a+1;const o=m.createElementNS("http://www.w3.org/1999/xhtml","span");o.classList.add("apexcharts-tooltip-marker"),t.config.tooltip.fillSeriesColor?o.style.backgroundColor=t.globals.colors[a]:o.style.color=t.globals.colors[a];const n=t.config.markers.shape;let l=n;Array.isArray(n)&&(l=n[a]),o.setAttribute("shape",l),r.appendChild(o);const c=m.createElementNS("http://www.w3.org/1999/xhtml","div");c.classList.add("apexcharts-tooltip-text"),c.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,c.style.fontSize=this.tConfig.style.fontSize,["y","goals","z"].forEach(e=>{const t=m.createElementNS("http://www.w3.org/1999/xhtml","div");t.classList.add(`apexcharts-tooltip-${e}-group`);const s=m.createElementNS("http://www.w3.org/1999/xhtml","span");s.classList.add(`apexcharts-tooltip-text-${e}-label`),t.appendChild(s);const i=m.createElementNS("http://www.w3.org/1999/xhtml","span");i.classList.add(`apexcharts-tooltip-text-${e}-value`),t.appendChild(i),c.appendChild(t)}),r.appendChild(c),i.appendChild(r),s.push(r)}return s}addSVGEvents(){const e=this.w,t=e.config.chart.type,s=this.getElTooltip(),i=!("bar"!==t&&"candlestick"!==t&&"boxPlot"!==t&&"rangeBar"!==t),a="area"===t||"line"===t||"scatter"===t||"bubble"===t||"radar"===t,r=e.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());const n=[],l=[],c={hoverArea:r,elGrid:o,tooltipEl:s,tooltipY:n,tooltipX:l,ttItems:this.ttItems};let h;if(e.globals.axisCharts&&(a?h=e.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):i?h=e.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==t&&"treemap"!==t||(h=e.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),h&&h.length))for(let e=0;e<h.length;e++)n.push(h[e].getAttribute("cy")),l.push(h[e].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||i&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([r],c);else if(i&&!e.globals.comboCharts||a&&this.showOnIntersect)this.addDatapointEventsListeners(c);else if(!e.globals.axisCharts||"heatmap"===t||"treemap"===t){const t=e.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(t,c)}if(this.showOnIntersect){const t=e.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");t.length>0&&this.addPathsEventListeners(t,c),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(c)}}drawFixedTooltipRect(){const e=this.w,t=this.getElTooltip(),s=t.getBoundingClientRect(),i=s.width+10,a=s.height+10;let r=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY;const n=this.tConfig.fixed.position.toLowerCase();return n.indexOf("right")>-1&&(r=r+e.globals.svgWidth-i+10),n.indexOf("bottom")>-1&&(o=o+e.globals.svgHeight-a-10),t.style.left=r+"px",t.style.top=o+"px",{x:r,y:o,ttWidth:i,ttHeight:a}}addDatapointEventsListeners(e){const t=this.w.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}addPathsEventListeners(e,t){const s=this;for(let i=0;i<e.length;i++){const a={paths:e[i],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(t=>e[i].addEventListener(t,s.onSeriesHover.bind(s,a),{capture:!1,passive:!0}))}}onSeriesHover(e,t){const s=Date.now()-this.lastHoverTime;s>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(()=>{this.seriesHover(e,t)},20-s))}seriesHover(e,t){this.lastHoverTime=Date.now();let s=[];const i=this.w;i.config.chart.group&&(s=this.ctx.getGroupedCharts()),i.globals.axisCharts&&(i.globals.minX===-1/0&&i.globals.maxX===1/0||0===i.globals.dataPoints)||(s.length?s.forEach(s=>{const i=this.getElTooltip(s),a={paths:e.paths,tooltipEl:i,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:s.w.globals.tooltip.ttItems};s.w.globals.minX===this.w.globals.minX&&s.w.globals.maxX===this.w.globals.maxX&&s.w.globals.tooltip.seriesHoverByContext({chartCtx:s,ttCtx:s.w.globals.tooltip,opt:a,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}seriesHoverByContext({chartCtx:e,ttCtx:t,opt:s,e:i}){const a=e.w;if(!this.getElTooltip(e))return;const r=t.getCachedDimensions();if(t.tooltipRect={x:0,y:0,ttWidth:r.ttWidth,ttHeight:r.ttHeight},t.e=i,t.tooltipUtil.hasBars()&&!a.globals.comboCharts&&!t.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries){new Q(e.w).toggleSeriesOnHover(i,i.target.parentNode)}a.globals.axisCharts?t.axisChartsTooltips({e:i,opt:s,tooltipRect:t.tooltipRect}):t.nonAxisChartsTooltips({e:i,opt:s,tooltipRect:t.tooltipRect}),t.fixedTooltip&&t.drawFixedTooltipRect()}axisChartsTooltips({e:e,opt:t}){const s=this.w;let i,a;const r=t.elGrid.getBoundingClientRect(),o="touchmove"===e.type?e.touches[0].clientX:e.clientX,n="touchmove"===e.type?e.touches[0].clientY:e.clientY;if(this.clientY=n,this.clientX=o,s.interact.capturedSeriesIndex=-1,s.interact.capturedDataPointIndex=-1,n<r.top||n>r.top+r.height)return void this.handleMouseOut(t);if(Array.isArray(this.tConfig.enabledOnSeries)&&!s.config.tooltip.shared){const e=parseInt(t.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(e)<0)return void this.handleMouseOut(t)}const l=this.getElTooltip(),c=this.getElXCrosshairs();let h=[];s.config.chart.group&&(h=this.ctx.getSyncedCharts());const d=s.globals.xyCharts||"bar"===s.config.chart.type&&!s.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||s.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===e.type||"touchmove"===e.type||"mouseup"===e.type){if(s.globals.collapsedSeries.length+s.globals.ancillaryCollapsedSeries.length===s.seriesData.series.length)return;null!==c&&c.classList.add("apexcharts-active");const r=this.yaxisTooltips.filter(e=>!0===e);if(null!==this.ycrosshairs&&r.length&&this.ycrosshairs.classList.add("apexcharts-active"),d&&!this.showOnIntersect||h.length>1)this.handleStickyTooltip(e,o,n,t);else if("heatmap"===s.config.chart.type||"treemap"===s.config.chart.type){const r=this.intersect.handleHeatTreeTooltip({e:e,opt:t,x:i,y:a,type:s.config.chart.type});i=r.x,a=r.y,l.style.left=i+"px",l.style.top=a+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:e,opt:t}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:e,opt:t,x:i,y:a});if(this.yaxisTooltips.length)for(let e=0;e<s.config.yaxis.length;e++)this.axesTooltip.drawYaxisTooltipText(e,n,this.xyRatios);s.dom.baseEl.classList.add("apexcharts-tooltip-active"),t.tooltipEl.classList.add("apexcharts-active"),s.config.chart.accessibility.enabled&&s.config.chart.accessibility.announcements.enabled&&t.tooltipEl.removeAttribute("aria-hidden")}else"mouseout"!==e.type&&"touchend"!==e.type||this.handleMouseOut(t)}nonAxisChartsTooltips({e:e,opt:t,tooltipRect:s}){const i=this.w,a=t.paths.getAttribute("rel"),r=this.getElTooltip(),o=i.dom.elWrap.getBoundingClientRect();if("mousemove"===e.type||"touchmove"===e.type){let e,n;i.dom.baseEl.classList.add("apexcharts-tooltip-active"),r.classList.add("apexcharts-active"),i.config.chart.accessibility.enabled&&i.config.chart.accessibility.announcements.enabled&&r.removeAttribute("aria-hidden"),this.tooltipLabels.drawSeriesTexts({ttItems:t.ttItems,i:parseInt(a,10)-1,shared:!1});const l=t.paths.querySelector("path[data\\:cx]")||t.paths;if(i.config.tooltip.intersect&&l.hasAttribute("data:cx")&&l.hasAttribute("data:cy")){const t=i.dom.Paper.node.getBoundingClientRect();e=t.left-o.left+parseFloat(l.getAttribute("data:cx"))-s.ttWidth/2,n=t.top-o.top+parseFloat(l.getAttribute("data:cy"))-s.ttHeight-10}else e=i.interact.clientX-o.left-s.ttWidth/2,n=i.interact.clientY-o.top-s.ttHeight-10;if(r.style.left=e+"px",r.style.top=n+"px",i.config.legend.tooltipHoverFormatter){const e=a-1,t=(0,i.config.legend.tooltipHoverFormatter)(this.legendLabels[e].getAttribute("data:default-text"),{seriesIndex:e,dataPointIndex:e,w:i});this.legendLabels[e].innerHTML=t}}else"mouseout"!==e.type&&"touchend"!==e.type||(r.classList.remove("apexcharts-active"),i.dom.baseEl.classList.remove("apexcharts-tooltip-active"),i.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(e=>{const t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)}))}handleStickyTooltip(e,t,s,i){const a=this.w,r=this.tooltipUtil.getNearestValues({context:this,hoverArea:i.hoverArea,elGrid:i.elGrid,clientX:t,clientY:s}),o=r.j;let n=r.capturedSeries;a.globals.collapsedSeriesIndices.includes(n)&&(n=null);const l=i.elGrid.getBoundingClientRect();if(r.hoverX<0||r.hoverX>l.width)this.handleMouseOut(i);else if(null!==n)this.handleStickyCapturedSeries(e,n,i,o);else if(this.tooltipUtil.isXoverlap(o)||a.globals.isBarHorizontal){const t=a.seriesData.series.findIndex((e,t)=>!a.globals.collapsedSeriesIndices.includes(t));this.create(e,this,t,o,i.ttItems)}}handleStickyCapturedSeries(e,t,s,i){const a=this.w;if(!this.tConfig.shared){if(null===a.seriesData.series[t][i])return void this.handleMouseOut(s)}if(void 0!==a.seriesData.series[t][i])this.tConfig.shared&&this.tooltipUtil.isXoverlap(i)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,i,s.ttItems):this.create(e,this,t,i,s.ttItems,!1);else if(this.tooltipUtil.isXoverlap(i)){const t=a.seriesData.series.findIndex((e,t)=>!a.globals.collapsedSeriesIndices.includes(t));this.create(e,this,t,i,s.ttItems)}}deactivateHoverFilter(){const e=this.w,t=new P(this.w,this.ctx),s=e.dom.Paper.find(".apexcharts-bar-area");for(let e=0;e<s.length;e++)t.pathMouseLeave(s[e])}handleMouseOut(e){const t=this.w,s=this.getElXCrosshairs();if(t.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),t.config.chart.accessibility.enabled&&t.config.chart.accessibility.announcements.enabled&&e.tooltipEl.setAttribute("aria-hidden","true"),this.deactivateHoverFilter(),"bubble"!==t.config.chart.type&&this.marker.resetPointsSize(),null!==s&&s.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=t.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(let e=0;e<this.yaxisTTEls.length;e++)this.yaxisTTEls[e].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(e=>{const t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)})}markerClick(e,t,s){const i=this.w;"function"==typeof i.config.chart.events.markerClick&&i.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:i}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:i}])}create(e,t,s,i,a,r=null){var o,c,h,d,g,p,x,u,f,m,b,y,w,v,A,S;const C=this.w,k=t;"mouseup"===e.type&&this.markerClick(e,s,i),null===r&&(r=this.tConfig.shared);const D=this.tooltipUtil.hasMarkers(s),L=this.tooltipUtil.getElBars(),M=()=>{C.globals.markers.largestSize>0?k.marker.enlargePoints(i):k.tooltipPosition.moveDynamicPointsOnHover(i)};if(C.config.legend.tooltipHoverFormatter){const e=C.config.legend.tooltipHoverFormatter,t=Array.from(this.legendLabels);t.forEach(e=>{const t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)});for(let a=0;a<t.length;a++){const o=t[a],n=parseInt(o.getAttribute("i"),10),l=decodeURIComponent(o.getAttribute("data:default-text")),c=e(l,{seriesIndex:r?n:s,dataPointIndex:i,w:C});if(r)o.innerHTML=C.globals.collapsedSeriesIndices.indexOf(n)<0?c:l;else if(o.innerHTML=n===s?c:l,s===n)break}}const T=n(n({ttItems:a,i:s,j:i},void 0!==(null==(d=null==(h=null==(c=null==(o=C.rangeData.seriesRange)?void 0:o[s])?void 0:c[i])?void 0:h.y[0])?void 0:d.y1)&&{y1:null==(u=null==(x=null==(p=null==(g=C.rangeData.seriesRange)?void 0:g[s])?void 0:p[i])?void 0:x.y[0])?void 0:u.y1}),void 0!==(null==(y=null==(b=null==(m=null==(f=C.rangeData.seriesRange)?void 0:f[s])?void 0:m[i])?void 0:b.y[0])?void 0:y.y2)&&{y2:null==(S=null==(A=null==(v=null==(w=C.rangeData.seriesRange)?void 0:w[s])?void 0:v[i])?void 0:A.y[0])?void 0:S.y2});if(r){if(k.tooltipLabels.drawSeriesTexts(l(n({},T),{shared:!this.showOnIntersect&&this.tConfig.shared})),D)M();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(L),this.barSeriesHeight>0)){const e=new P(this.w,this.ctx),t=C.dom.Paper.find(`.apexcharts-bar-area[j='${i}']`);this.deactivateHoverFilter();k.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&M(),k.tooltipPosition.moveStickyTooltipOverBars(i,s);for(let s=0;s<t.length;s++)e.pathMouseEnter(t[s])}}else k.tooltipLabels.drawSeriesTexts(n({shared:!1},T)),this.tooltipUtil.hasBars()&&k.tooltipPosition.moveStickyTooltipOverBars(i,s),D&&k.tooltipPosition.moveMarkers(s,i)}}let ke=class e{constructor(e){this.node=e,e&&(e.instance=this),this._listeners=[],this._filter=null}attr(e,t){if("string"==typeof e&&void 0===t)return this.node.getAttribute(e);const s="string"==typeof e?{[e]:t}:e;for(const e in s){let t=s[e];null===t?this.node.removeAttribute(e):void 0!==t&&("number"==typeof t&&isNaN(t)&&(t=0),this.node.setAttribute(e,t))}if("text"===this.node.nodeName&&null!=s.x){const e=this.node.querySelectorAll("tspan[data-newline]");for(let t=0;t<e.length;t++)e[t].setAttribute("x",s.x)}return this}css(e){for(const t in e)this.node.style[t]=e[t];return this}fill(e){return"object"==typeof e?this.attr(e):this.attr("fill",e)}stroke(e){return"object"==typeof e?(void 0!==e.color&&this.attr("stroke",e.color),void 0!==e.width&&this.attr("stroke-width",e.width),void 0!==e.dasharray&&this.attr("stroke-dasharray",e.dasharray),void 0!==e.linecap&&this.attr("stroke-linecap",e.linecap),void 0!==e.opacity&&this.attr("stroke-opacity",e.opacity),this):this.attr("stroke",e)}size(e,t){return this.attr({width:e,height:t})}move(e,t){return this.attr({x:e,y:t})}center(e,t){if("g"===this.node.nodeName){const s=this.bbox(),i=e-(s.x+s.width/2),a=t-(s.y+s.height/2);return this.attr("transform",`translate(${i}, ${a})`)}return this.attr({cx:e,cy:t})}add(e){return this.node.appendChild(e.node||e),this}addTo(e){return(e.node||e).appendChild(this.node),this}remove(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this}clear(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this}find(t){return Array.from(this.node.querySelectorAll(t)).map(t=>t.instance||new e(t))}findOne(t){const s=this.node.querySelector(t);return s?s.instance||new e(s):null}on(e,t){const s=e.split(".")[0];return this._listeners.push({event:e,eventType:s,handler:t}),this.node.addEventListener(s,t),this}off(e,t){if(e||t)if(e&&!t){const t=e.split(".")[0];this._listeners=this._listeners.filter(e=>e.eventType!==t||(this.node.removeEventListener(e.eventType,e.handler),!1))}else{const s=e.split(".")[0];this._listeners=this._listeners.filter(e=>e.eventType!==s||e.handler!==t||(this.node.removeEventListener(e.eventType,e.handler),!1))}else this._listeners.forEach(e=>{this.node.removeEventListener(e.eventType,e.handler)}),this._listeners=[];return this}each(t,s){return Array.from(this.node.children).forEach(i=>{const a=i.instance||new e(i);t.call(a),s&&a.each(t,s)}),this}removeClass(e){return"*"===e?this.node.removeAttribute("class"):this.node.classList.remove(e),this}children(){return Array.from(this.node.childNodes).filter(e=>1===e.nodeType).map(t=>t.instance||new e(t))}hide(){return this.node.style.display="none",this}show(){return this.node.style.display="",this}bbox(){if("function"==typeof this.node.getBBox)try{return this.node.getBBox()}catch(e){}return{x:0,y:0,width:0,height:0}}tspan(t){const s=m.createElementNS("http://www.w3.org/2000/svg","tspan");return s.textContent=t,this.node.appendChild(s),new e(s)}plot(e){return"string"==typeof e&&this.attr("d",e),this}animate(){throw new Error("Animation module not loaded")}filterWith(){throw new Error("Filter module not loaded")}unfilter(e){return this._filter&&(this.node.removeAttribute("filter"),e&&this._filter.node&&this._filter.node.parentNode&&this._filter.node.parentNode.removeChild(this._filter.node),this._filter=null),this}filterer(){return this._filter}},De=0;class Le extends ke{constructor(e,t,s){const i="radial"===t?"radialGradient":"linearGradient";super(m.createElementNS(N,i)),this._id="SvgjsGradient"+ ++De,this.attr("id",this._id),"function"==typeof s&&s(new Me(this));let a=e.node.querySelector("defs");a||(a=m.createElementNS(N,"defs"),e.node.appendChild(a)),a.appendChild(this.node)}stop(e,t,s){const i=m.createElementNS(N,"stop");return i.setAttribute("offset",e),i.setAttribute("stop-color",t),void 0!==s&&i.setAttribute("stop-opacity",s),this.node.appendChild(i),this}from(e,t){return this.attr({x1:e,y1:t})}to(e,t){return this.attr({x2:e,y2:t})}url(){return"url(#"+this._id+")"}toString(){return this.url()}valueOf(){return this.url()}fill(){return this.url()}}class Me{constructor(e){this.gradient=e}stop(e,t,s){return this.gradient.stop(e,t,s),this}}let Te=0;class Ee extends ke{constructor(e,t,s,i){if(super(m.createElementNS(N,"pattern")),this._id="SvgjsPattern"+ ++Te,this.attr({id:this._id,width:t,height:s,patternUnits:"userSpaceOnUse"}),"function"==typeof i){i(new Fe(this.node))}let a=e.node.querySelector("defs");a||(a=m.createElementNS(N,"defs"),e.node.appendChild(a)),a.appendChild(this.node)}url(){return"url(#"+this._id+")"}toString(){return this.url()}valueOf(){return this.url()}fill(){return this.url()}}class Fe extends ke{line(e,t,s,i){const a=this._make("line");return void 0!==e&&a.attr({x1:e,y1:t,x2:s,y2:i}),a}rect(e,t){const s=this._make("rect");return void 0!==e&&s.attr({width:e,height:t}),s}circle(e){const t=this._make("circle");return void 0!==e&&t.attr({r:e/2,cx:e/2,cy:e/2}),t}path(e){const t=this._make("path");return e&&t.attr("d",e),t}polygon(e){const t=this._make("polygon");return e&&t.attr("points",e),t}group(){return this._makeContainer("g")}defs(){return this._makeContainer("defs")}plain(e){const t=m.createElementNS(N,"text");t.textContent=e;const s=new ke(t);return this.node.appendChild(t),s}text(e){const t=m.createElementNS(N,"text"),s=new ke(t);return this.node.appendChild(t),"function"==typeof e&&e(new Ie(t)),s}image(e,t){const s=m.createElementNS(N,"image");s.setAttributeNS("http://www.w3.org/1999/xlink","href",e);const i=new ke(s);if(this.node.appendChild(s),"function"==typeof t){const s=new Image;s.onload=function(){i.size(s.width,s.height),t.call(i,{width:s.width,height:s.height})},s.src=e}return i}gradient(e,t){return new Le(this,e,t)}pattern(e,t,s){return new Ee(this,e,t,s)}_make(e){const t=m.createElementNS(N,e);return this.node.appendChild(t),new ke(t)}_makeContainer(e){const t=m.createElementNS(N,e);return this.node.appendChild(t),new Fe(t)}}class Ie{constructor(e){this.textNode=e}tspan(e){const t=m.createElementNS(N,"tspan");return t.textContent=e,this.textNode.appendChild(t),new Xe(t,this.textNode)}}class Xe{constructor(e,t){this.node=e,this.textNode=t}newLine(){return this.node.setAttribute("dy","1.1em"),this.node.dataset.newline="1",this}}let Pe=0;class Ne extends ke{constructor(){super(m.createElementNS(N,"filter")),this._id="SvgjsFilter"+ ++Pe,this.attr("id",this._id)}size(e,t,s,i){return this.attr({width:e,height:t,x:s,y:i})}}class ze{constructor(e){this.filter=e}colorMatrix(e){return this._primitive("feColorMatrix",e)}offset(e){return this._primitive("feOffset",e)}gaussianBlur(e){return this._primitive("feGaussianBlur",e)}flood(e){return this._primitive("feFlood",e)}composite(e){return this._primitive("feComposite",e)}merge(e){const t=m.createElementNS(N,"feMerge");return e.forEach(e=>{const s=m.createElementNS(N,"feMergeNode");s.setAttribute("in",e),t.appendChild(s)}),this.filter.node.appendChild(t),new ke(t)}_primitive(e,t){const s=m.createElementNS(N,e);for(const e in t)s.setAttribute(e,t[e]);return this.filter.node.appendChild(s),new ke(s)}}function He(e){if(!e||"string"!=typeof e)return[["M",0,0]];const t=[],s=/([MmLlHhVvCcSsQqTtAaZz])\s*/g,i=/[+-]?(?:\d+\.?\d*|\.\d+)(?:e[+-]?\d+)?/gi;let a;const r=[],o=[];for(;null!==(a=s.exec(e));)r.push(a[1]),o.push(a.index);for(let s=0;s<r.length;s++){const a=o[s]+r[s].length,n=s+1<o.length?o[s+1]:e.length,l=e.substring(a,n),c=[];let h;for(i.lastIndex=0;null!==(h=i.exec(l));)c.push(parseFloat(h[0]));const d=r[s].toUpperCase();if("Z"===d)t.push(["Z"]);else if("M"===d||"L"===d||"T"===d)for(let e=0;e<c.length;e+=2)t.push([d,c[e],c[e+1]]);else if("H"===d)for(let e=0;e<c.length;e++)t.push([d,c[e]]);else if("V"===d)for(let e=0;e<c.length;e++)t.push([d,c[e]]);else if("C"===d)for(let e=0;e<c.length;e+=6)t.push([d,c[e],c[e+1],c[e+2],c[e+3],c[e+4],c[e+5]]);else if("S"===d||"Q"===d)for(let e=0;e<c.length;e+=4)t.push([d,c[e],c[e+1],c[e+2],c[e+3]]);else if("A"===d)for(let e=0;e<c.length;e+=7)t.push([d,c[e],c[e+1],c[e+2],c[e+3],c[e+4],c[e+5],c[e+6]])}return 0===t.length&&t.push(["M",0,0]),t}function Ye(e){let t=1/0,s=1/0,i=-1/0,a=-1/0;return e.forEach(e=>{for(let r=1;r<e.length;r+=2)if(r+1<=e.length){const o=e[r],n=e[r+1];"number"==typeof o&&"number"==typeof n&&(o<t&&(t=o),o>i&&(i=o),n<s&&(s=n),n>a&&(a=n))}}),t===1/0?{x:0,y:0,width:0,height:0}:{x:t,y:s,width:i-t,height:a-s}}function Oe(e){switch(e[0]){case"z":case"Z":e[0]="L",e[1]=this.start[0],e[2]=this.start[1];break;case"H":e[0]="L",e[2]=this.pos[1];break;case"V":e[0]="L",e[2]=e[1],e[1]=this.pos[0];break;case"T":e[0]="Q",e[3]=e[1],e[4]=e[2],e[1]=this.reflection[1],e[2]=this.reflection[0];break;case"S":e[0]="C",e[6]=e[4],e[5]=e[3],e[4]=e[2],e[3]=e[1],e[2]=this.reflection[1],e[1]=this.reflection[0]}return e}function Re(e){var t=e.length;return this.pos=[e[t-2],e[t-1]],-1!="SCQT".indexOf(e[0])&&(this.reflection=[2*this.pos[0]-e[t-4],2*this.pos[1]-e[t-3]]),e}function Be(e){var t=[e];switch(e[0]){case"M":return this.pos=this.start=[e[1],e[2]],t;case"L":e[5]=e[3]=e[1],e[6]=e[4]=e[2],e[1]=this.pos[0],e[2]=this.pos[1];break;case"Q":e[6]=e[4],e[5]=e[3],e[4]=1*e[4]/3+2*e[2]/3,e[3]=1*e[3]/3+2*e[1]/3,e[2]=1*this.pos[1]/3+2*e[2]/3,e[1]=1*this.pos[0]/3+2*e[1]/3;break;case"A":t=function(e,t){var s,i,a,r,o,n,l,c,h,d,g,p,x,u,f,m,b,y,w,v,A,S,C,k,D,L,M=Math.abs(t[1]),T=Math.abs(t[2]),E=t[3]%360,F=t[4],I=t[5],X=t[6],P=t[7],N=new z(e[0],e[1]),Y=new z(X,P),O=[];if(0===M||0===T||N.x===Y.x&&N.y===Y.y)return[["C",N.x,N.y,Y.x,Y.y,Y.x,Y.y]];s=new z((N.x-Y.x)/2,(N.y-Y.y)/2).transform((new H).rotate(E)),(i=s.x*s.x/(M*M)+s.y*s.y/(T*T))>1&&(M*=i=Math.sqrt(i),T*=i);a=(new H).rotate(E).scale(1/M,1/T).rotate(-E),N=N.transform(a),Y=Y.transform(a),r=[Y.x-N.x,Y.y-N.y],n=r[0]*r[0]+r[1]*r[1],o=Math.sqrt(n),r[0]/=o,r[1]/=o,l=n<4?Math.sqrt(1-n/4):0,F===I&&(l*=-1);c=new z((Y.x+N.x)/2+l*-r[1],(Y.y+N.y)/2+l*r[0]),h=new z(N.x-c.x,N.y-c.y),d=new z(Y.x-c.x,Y.y-c.y),g=Math.acos(h.x/Math.sqrt(h.x*h.x+h.y*h.y)),h.y<0&&(g*=-1);p=Math.acos(d.x/Math.sqrt(d.x*d.x+d.y*d.y)),d.y<0&&(p*=-1);I&&g>p&&(p+=2*Math.PI);!I&&g<p&&(p-=2*Math.PI);for(u=Math.ceil(2*Math.abs(g-p)/Math.PI),m=[],b=g,x=(p-g)/u,f=4*Math.tan(x/4)/3,A=0;A<=u;A++)w=Math.cos(b),y=Math.sin(b),v=new z(c.x+w,c.y+y),m[A]=[new z(v.x+f*y,v.y-f*w),v,new z(v.x-f*y,v.y+f*w)],b+=x;for(m[0][0]=m[0][1].clone(),m[m.length-1][2]=m[m.length-1][1].clone(),a=(new H).rotate(E).scale(M,T).rotate(-E),A=0,S=m.length;A<S;A++)m[A][0]=m[A][0].transform(a),m[A][1]=m[A][1].transform(a),m[A][2]=m[A][2].transform(a);for(A=1,S=m.length;A<S;A++)C=(v=m[A-1][2]).x,k=v.y,D=(v=m[A][0]).x,L=v.y,X=(v=m[A][1]).x,P=v.y,O.push(["C",C,k,D,L,X,P]);return O}(this.pos,e),e=t[0]}return e[0]="C",this.pos=[e[5],e[6]],this.reflection=[2*e[5]-e[3],2*e[6]-e[4]],t}function We(e,t){if(!1===t)return!1;for(var s=t,i=e.length;s<i;++s)if("M"==e[s][0])return s;return!1}function _e(e,t,s,i,a,r){for(var o=e.slice(t,s||void 0),n=i.slice(a,r||void 0),l=0,c={pos:[0,0],start:[0,0]},h={pos:[0,0],start:[0,0]};o[l]=Oe.call(c,o[l]),n[l]=Oe.call(h,n[l]),o[l][0]!=n[l][0]||"M"==o[l][0]||"A"==o[l][0]&&(o[l][4]!=n[l][4]||o[l][5]!=n[l][5])?(Array.prototype.splice.apply(o,[l,1].concat(Be.call(c,o[l]))),Array.prototype.splice.apply(n,[l,1].concat(Be.call(h,n[l])))):(o[l]=Re.call(c,o[l]),n[l]=Re.call(h,n[l])),++l!=o.length||l!=n.length;)l==o.length&&o.push(["C",c.pos[0],c.pos[1],c.pos[0],c.pos[1],c.pos[0],c.pos[1]]),l==n.length&&n.push(["C",h.pos[0],h.pos[1],h.pos[0],h.pos[1],h.pos[0],h.pos[1]]);return{start:o,dest:n}}function Ge(e,t){var s=function(e,t){for(var s,i=He(e),a=He(t),r=0,o=0,n=!1,l=!1;!1!==r||!1!==o;){if(n=We(i,!1!==r&&r+1),l=We(a,!1!==o&&o+1),!1===r){const e=Ye(s.start);r=0==e.height||0==e.width?i.push(i[0])-1:i.push(["M",e.x+e.width/2,e.y+e.height/2])-1}if(!1===o){const e=Ye(s.dest);o=0==e.height||0==e.width?a.push(a[0])-1:a.push(["M",e.x+e.width/2,e.y+e.height/2])-1}s=_e(i,r,n,a,o,l),i=i.slice(0,r).concat(s.start,!1===n?[]:i.slice(n)),a=a.slice(0,o).concat(s.dest,!1===l?[]:a.slice(l)),r=!1!==n&&r+s.start.length,o=!1!==l&&o+s.dest.length}return{start:i,dest:a}}(e,t),i=s.start,a=s.dest;return function(e){var t=i.map(function(t,s){return a[s].map(function(i,r){return 0===r?i:t[r]+(a[s][r]-t[r])*e})});return t.map(e=>e.join(" ")).join(" ")}}function $e(e){if(!e||"string"!=typeof e)return null;if("#"===e[0]){let t=e.slice(1);3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);const s=parseInt(t,16);return[s>>16&255,s>>8&255,255&s,1]}const t=e.match(/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d.]+))?\s*\)/);return t?[+t[1],+t[2],+t[3],void 0!==t[4]?+t[4]:1]:null}function Ve(e,t,s){return`rgba(${Math.round(e[0]+(t[0]-e[0])*s)},${Math.round(e[1]+(t[1]-e[1])*s)},${Math.round(e[2]+(t[2]-e[2])*s)},${e[3]+(t[3]-e[3])*s})`}class Ue{constructor(e,t,s){this.el=e,this.duration=null!=t?t:300,this.delay=s||0,this._attrTarget=null,this._plotTarget=null,this._afterCb=null,this._duringCb=null,this._next=null,this._root=null,this._scheduled=!1}attr(e){return this._attrTarget=e,this._schedule(),this}plot(e){return this._plotTarget=e,this._schedule(),this}after(e){return this._afterCb=e,this._schedule(),this}during(e){return this._duringCb=e,this._schedule(),this}animate(e,t){const s=new Ue(this.el,e,t);return this._next=s,s._root=this._root||this,s}_schedule(){const e=this._root||this;e._scheduled||(e._scheduled=!0,queueMicrotask(()=>e._executeChain()))}_executeChain(){const e=[];let t=this;for(;t;)e.push(t),t=t._next;let s=0;e.forEach(e=>{s+=e.delay,e._execute(s),s+=e.duration})}_execute(e){const t=this.el,s=this.duration;if(s<=1){const s=()=>{this._attrTarget&&t.attr(this._attrTarget),this._plotTarget&&t.plot(this._plotTarget),this._afterCb&&this._afterCb.call(t)};return void(e>0?setTimeout(s,e):s())}const i=()=>{const e={},i={},a={};if(this._attrTarget)for(const s of Object.keys(this._attrTarget)){const r=t.attr(s);e[s]=r;const o=$e(r),n=$e(String(this._attrTarget[s]));o&&n&&(i[s]=o,a[s]=n)}let r=null;if(this._plotTarget){const e=t.attr("d")||"";try{r=Ge(e,this._plotTarget)}catch(e){r=null}}const o=performance.now(),n=l=>{const c=l-o,h=Math.min(c/s,1),d=(g=h,-Math.cos(g*Math.PI)/2+.5);var g;if(this._attrTarget)if(h>=1)t.attr(this._attrTarget);else{const s={};for(const t of Object.keys(this._attrTarget))if(i[t]&&a[t])s[t]=Ve(i[t],a[t],d);else{const i=parseFloat(e[t]),a=parseFloat(this._attrTarget[t]);isNaN(i)||isNaN(a)||(s[t]=i+(a-i)*d)}t.attr(s)}r&&h<1&&t.attr("d",r(d)),this._duringCb&&this._duringCb(d),h<1?m.requestAnimationFrame(n):(this._plotTarget&&t.attr("d",this._plotTarget),this._afterCb&&this._afterCb.call(t))};m.requestAnimationFrame(n)};e>0?setTimeout(i,e):i()}}var je;function qe(){const e=m.createElementNS(N,"svg"),t=new Fe(e);return t.attr({xmlns:N}),t}(je=ke).prototype.filterWith=function(e){const t=new Ne;this._filter=t;let s=this.node;for(;s&&"svg"!==s.nodeName;)s=s.parentNode;if(s){let e=s.querySelector("defs");e||(e=m.createElementNS(N,"defs"),s.insertBefore(e,s.firstChild)),e.appendChild(t.node)}return e(new ze(t)),this.attr("filter","url(#"+t._id+")"),this},je.prototype.unfilter=function(e){return this._filter&&(this.node.removeAttribute("filter"),e&&this._filter.node&&this._filter.node.parentNode&&this._filter.node.parentNode.removeChild(this._filter.node),this._filter=null),this},je.prototype.filterer=function(){return this._filter},function(e){e.prototype.animate=function(e,t){return new Ue(this,e,t)}}(ke),function(e){e.prototype.draggable=function(e){if(!1===e)return this._dragCleanup&&(this._dragCleanup(),this._dragCleanup=null),this;const t=this,s=e||{},i=e=>{if(e.button&&0!==e.button)return;e.stopPropagation();const i="touchstart"===e.type?e.touches[0]:e,a=t.node,r=parseFloat(a.getAttribute("x"))||0,o=parseFloat(a.getAttribute("y"))||0,n=i.clientX,l=i.clientY,c=a.ownerSVGElement;let d=null;c&&(d=c.getScreenCTM());const g=e=>{const t="touchmove"===e.type?e.touches[0]:e;let i=t.clientX-n,c=t.clientY-l;d&&(i/=d.a,c/=d.d);let h=r+i,g=o+c;const p=parseFloat(a.getAttribute("width"))||0,x=parseFloat(a.getAttribute("height"))||0;void 0!==s.minX&&h<s.minX&&(h=s.minX),void 0!==s.minY&&g<s.minY&&(g=s.minY),void 0!==s.maxX&&h+p>s.maxX&&(h=s.maxX-p),void 0!==s.maxY&&g+x>s.maxY&&(g=s.maxY-x);const u=new CustomEvent("dragmove",{detail:{handler:{move:function(e,t){a.setAttribute("x",e),a.setAttribute("y",t)}},box:{x:h,y:g,w:p,h:x,x2:h+p,y2:g+x}}});a.dispatchEvent(u)},p=()=>{h.isBrowser()&&(document.removeEventListener("mousemove",g),document.removeEventListener("touchmove",g),document.removeEventListener("mouseup",p),document.removeEventListener("touchend",p))};h.isBrowser()&&(document.addEventListener("mousemove",g),document.addEventListener("touchmove",g),document.addEventListener("mouseup",p),document.addEventListener("touchend",p))};return t.node.addEventListener("mousedown",i),t.node.addEventListener("touchstart",i),t._dragCleanup=()=>{t.node.removeEventListener("mousedown",i),t.node.removeEventListener("touchstart",i)},t}}(ke),function(e){e.prototype.select=function(e){if(!1===e)return this._selectCleanup&&(this._selectCleanup(),this._selectCleanup=null),this;const t=this,{createHandle:s,updateHandle:i}=e,a=document.createElementNS(N,"g");a.setAttribute("class","svg_select_points");const r=t.node.parentNode;r&&r.appendChild(a);const o={},n=["t","b","l","r","lt","rt","lb","rb"];n.forEach((e,t)=>{const i=new Fe(document.createElementNS(N,"g"));a.appendChild(i.node);const r=s(i,[0,0],t,[],e);o[e]={group:i,handle:r}});const l=()=>{const e=parseFloat(t.attr("x"))||0,s=parseFloat(t.attr("y"))||0,r=parseFloat(t.attr("width"))||0,l=parseFloat(t.attr("height"))||0,c=t.node.getAttribute("transform");c?a.setAttribute("transform",c):a.removeAttribute("transform");const h={t:[e+r/2,s],b:[e+r/2,s+l],l:[e,s+l/2],r:[e+r,s+l/2],lt:[e,s],rt:[e+r,s],lb:[e,s+l],rb:[e+r,s+l]};n.forEach(e=>{o[e]&&h[e]&&i(o[e].group,h[e])})};return l(),t._selectHandles=a,t._selectHandlesMap=o,t._updateSelectPositions=l,t._selectCleanup=()=>{a.parentNode&&a.parentNode.removeChild(a),t._selectHandles=null,t._selectHandlesMap=null,t._updateSelectPositions=null},t},e.prototype.resize=function(e){if(!1===e)return this._resizeCleanup&&(this._resizeCleanup(),this._resizeCleanup=null),this;const t=this,s=t._selectHandlesMap;if(!s)return t;const i=[],a=e=>{const a=s[e];if(!a||!a.group||!a.group.node)return;const r=a.group.node,o=s=>{if(s.button&&0!==s.button)return;s.stopPropagation();const i=("touchstart"===s.type?s.touches[0]:s).clientX,a=t.node.ownerSVGElement;let r=null;a&&(r=a.getScreenCTM());const o=parseFloat(t.attr("x"))||0,n=parseFloat(t.attr("width"))||0,l=s=>{let a=("touchmove"===s.type?s.touches[0]:s).clientX-i;r&&(a/=r.a);let l=o,c=n;"l"===e?(l=o+a,c=n-a):"r"===e&&(c=n+a),c<0&&(c=0),t.attr({x:l,width:c}),t._updateSelectPositions&&t._updateSelectPositions();const h=new CustomEvent("resize",{detail:{el:t}});t.node.dispatchEvent(h)},c=()=>{h.isBrowser()&&(document.removeEventListener("mousemove",l),document.removeEventListener("touchmove",l),document.removeEventListener("mouseup",c),document.removeEventListener("touchend",c));const e=new CustomEvent("resize",{detail:{el:t}});t.node.dispatchEvent(e)};h.isBrowser()&&(document.addEventListener("mousemove",l),document.addEventListener("touchmove",l),document.addEventListener("mouseup",c),document.addEventListener("touchend",c))};r.addEventListener("mousedown",o),r.addEventListener("touchstart",o),i.push(()=>{r.removeEventListener("mousedown",o),r.removeEventListener("touchstart",o)})};return a("l"),a("r"),t._resizeCleanup=()=>{i.forEach(e=>e())},t}}(ke),qe.xlink="http://www.w3.org/1999/xlink",h.isBrowser()&&void 0===window.SVG&&(window.SVG=qe),h.isBrowser()?(void 0===window.SVG&&(window.SVG=qe),void 0===window.Apex&&(window.Apex={})):"undefined"!=typeof global&&void 0===global.Apex&&(global.Apex={});const Ze=class e{static registerFeatures(t){for(const[s,i]of Object.entries(t))e._featureRegistry.set(s,i)}constructor(e){this.ctx=e,this.w=e.w}initModules(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend","keydown","keyup"],this.ctx.animations=new I(this.w,this.ctx),this.ctx.axes=new Z(this.w,this.ctx),this.ctx.core=new xe(this.ctx.el,this.w,this.ctx),this.ctx.config=new D({}),this.ctx.data=new ue(this.w,{resetGlobals:()=>this.ctx.core.resetGlobals(),isMultipleY:()=>this.ctx.core.isMultipleY()}),this.ctx.grid=new G(this.w,this.ctx),this.ctx.graphics=new P(this.w,this.ctx),this.ctx.coreUtils=new F(this.w),this.ctx.crosshairs=new J(this.w),this.ctx.events=new j(this.w,this.ctx),this.ctx.fill=new Y(this.w),this.ctx.localization=new q(this.w),this.ctx.options=new k,this.ctx.responsive=new K(this.w),this.ctx.series=new Q(this.w,{toggleDataSeries:(...e)=>{var t;return null==(t=this.ctx.legend)?void 0:t.legendHelpers.toggleDataSeries(...e)},revertDefaultAxisMinMax:()=>this.ctx.updateHelpers.revertDefaultAxisMinMax(),updateSeries:(...e)=>this.ctx.updateHelpers._updateSeries(...e)}),this.ctx.theme=new ee(this.w),this.ctx.formatters=new w(this.w),this.ctx.titleSubtitle=new te(this.w),this.ctx.dimensions=new oe(this.w,this.ctx),this.ctx.updateHelpers=new me(this.w,this.ctx);const e=new Ce(this.w,this.ctx);this.w.globals.tooltip=e,Object.defineProperty(this.ctx,"tooltip",{get(){return this.w.globals.tooltip},configurable:!0}),this._initOptionalModules()}_initOptionalModules(){const t=e._featureRegistry,s=this.w,i=this.ctx,a=t.get("exports");i.exports=a?new a(s,i):null;const r=t.get("legend");i.legend=r?new r(s,i):null;const o=t.get("toolbar");Object.defineProperty(i,"toolbar",{get(){var e;return!this._toolbar&&o&&(this._toolbar=new o(s,this)),null!=(e=this._toolbar)?e:null},configurable:!0});const n=t.get("zoomPanSelection");Object.defineProperty(i,"zoomPanSelection",{get(){var e;return!this._zoomPanSelection&&n&&(this._zoomPanSelection=new n(s,this)),null!=(e=this._zoomPanSelection)?e:null},configurable:!0});const l=t.get("keyboardNavigation");Object.defineProperty(i,"keyboardNavigation",{get(){var e;return!this._keyboardNavigation&&l&&(this._keyboardNavigation=new l(s,this)),null!=(e=this._keyboardNavigation)?e:null},configurable:!0})}};var Je;o(Ze,"symbol"!=typeof(Je="_featureRegistry")?Je+"":Je,new Map);let Ke=Ze;class Qe{constructor(e){this.ctx=e,this.w=e.w}clear({isUpdating:e}){this.ctx._zoomPanSelection&&this.ctx._zoomPanSelection.destroy(),this.ctx._toolbar&&this.ctx._toolbar.destroy(),this.w.globals.resizeObserver&&"function"==typeof this.w.globals.resizeObserver.disconnect&&(this.w.globals.resizeObserver.disconnect(),this.w.globals.resizeObserver=null),fe.invalidateAll(this.w),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx._zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx._toolbar=null,this.ctx.localization=null,this.ctx._keyboardNavigation=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:e})}killSVG(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}clearDomElements({isUpdating:e}){const t=this.w.dom;if(h.isBrowser()){const s=t.Paper.node;s.parentNode&&s.parentNode.parentNode&&!e&&(s.parentNode.parentNode.style.minHeight="unset");const i=t.baseEl;if(i&&this.ctx.eventList.forEach(e=>{i.removeEventListener(e,this.ctx.events.documentEvent)}),null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(t.Paper),t.Paper.remove()}t.elWrap=null,t.elGraphical=null,t.elLegendWrap=null,t.elLegendForeign=null,t.baseEl=null,t.elGridRect=null,t.elGridRectMask=null,t.elGridRectBarMask=null,t.elGridRectMarkerMask=null,t.elForecastMask=null,t.elNonForecastMask=null,t.elDefs=null}}const et=new WeakMap;class tt{constructor(e,t){this.opts=t,this.ctx=this,this.w=new E(t).init(),this.el=e,this.w.globals.cuid=b.randomId(),this.w.globals.chartID=this.w.config.chart.id?b.escapeString(this.w.config.chart.id):this.w.globals.cuid;new Ke(this).initModules(),this.lastUpdateOptions=null,this.create=this.create.bind(this),h.isBrowser()&&(this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this))}render(){return new Promise((e,t)=>{var s;if(b.elementExists(this.el)){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),this.w.config.chart.id&&Apex._chartInstances.push({id:this.w.globals.chartID,group:this.w.config.chart.group,chart:this}),this.setLocale(this.w.config.chart.defaultLocale);const i=this.w.config.chart.events.beforeMount;if("function"==typeof i&&i(this,this.w),this.events.fireEvent("beforeMount",[this,this.w]),h.isBrowser()){window.addEventListener("resize",this.windowResizeHandler),function(e,t){if(h.isSSR())return;let s=!1;if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){const t=e.getBoundingClientRect();"none"!==e.style.display&&0!==t.width||(s=!0)}const i=new ResizeObserver(i=>{s&&t.call(e,i),s=!0});e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(e.children).forEach(e=>i.observe(e)):i.observe(e),et.set(t,i)}(this.el.parentNode,this.parentResizeHandler);const e=this.el.getRootNode&&this.el.getRootNode(),t=b.is("ShadowRoot",e),i=this.el.ownerDocument;let a=t?e.getElementById("apexcharts-css"):i.getElementById("apexcharts-css");if(!a){a=m.createElementNS("http://www.w3.org/1999/xhtml","style"),a.id="apexcharts-css",a.textContent='@keyframes opaque {\n  0% {\n    opacity: 0\n  }\n\n  to {\n    opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n\n  0%,\n  to {\n    opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  direction: ltr !important;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\nrect.legend-mouseover-inactive,\n.legend-mouseover-inactive rect,\n.legend-mouseover-inactive path,\n.legend-mouseover-inactive circle,\n.legend-mouseover-inactive line,\n.legend-mouseover-inactive text.apexcharts-yaxis-title-text,\n.legend-mouseover-inactive text.apexcharts-yaxis-label {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-legend-series[role="button"]:focus {\n  outline: 2px solid #008FFB;\n  outline-offset: 2px;\n}\n\n.apexcharts-legend-series[role="button"]:focus:not(:focus-visible) {\n  outline: none;\n}\n\n.apexcharts-legend-series[role="button"]:focus-visible {\n  outline: 2px solid #008FFB;\n  outline-offset: 2px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n/* Keyboard navigation focus indicator on SVG data elements.\n   SVG elements don\'t support CSS outline, so we use stroke. */\n.apexcharts-bar-area.apexcharts-keyboard-focused,\n.apexcharts-candlestick-area.apexcharts-keyboard-focused,\n.apexcharts-boxPlot-area.apexcharts-keyboard-focused,\n.apexcharts-rangebar-area.apexcharts-keyboard-focused,\n.apexcharts-pie-area.apexcharts-keyboard-focused,\n.apexcharts-heatmap-rect.apexcharts-keyboard-focused,\n.apexcharts-treemap-rect.apexcharts-keyboard-focused {\n  stroke: #008FFB;\n  stroke-width: 2;\n  stroke-opacity: 1;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, .96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, .8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, .7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-z-value:empty,\n.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,\n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,\n.apexcharts-tooltip-text-goals-label,\n.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  font-size: 16px;\n  line-height: 16px;\n  margin-right: 4px;\n  text-align: center;\n  vertical-align: middle;\n  color: inherit;\n}\n\n.apexcharts-tooltip-marker::before {\n  content: "";\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  color: currentcolor;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  font-size: 26px;\n  font-family: Arial, Helvetica, sans-serif;\n  line-height: 14px;\n  font-weight: 900;\n}\n\n.apexcharts-tooltip-marker[shape="circle"]::before {\n  content: "\\25CF";\n}\n\n.apexcharts-tooltip-marker[shape="square"]::before,\n.apexcharts-tooltip-marker[shape="rect"]::before {\n  content: "\\25A0";\n  transform: translate(-1px, -2px);\n}\n\n.apexcharts-tooltip-marker[shape="line"]::before {\n  content: "\\2500";\n}\n\n.apexcharts-tooltip-marker[shape="diamond"]::before {\n  content: "\\25C6";\n  font-size: 28px;\n}\n\n.apexcharts-tooltip-marker[shape="triangle"]::before {\n  content: "\\25B2";\n  font-size: 22px;\n}\n\n.apexcharts-tooltip-marker[shape="cross"]::before {\n  content: "\\2715";\n  font-size: 18px;\n}\n\n.apexcharts-tooltip-marker[shape="plus"]::before {\n  content: "\\2715";\n  transform: rotate(45deg) translate(-1px, -1px);\n  font-size: 18px;\n}\n\n.apexcharts-tooltip-marker[shape="star"]::before {\n  content: "\\2605";\n  font-size: 18px;\n}\n\n.apexcharts-tooltip-marker[shape="sparkle"]::before {\n  content: "\\2726";\n  font-size: 20px;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,\n.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, .7);\n  border: 1px solid rgba(0, 0, 0, .5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, .7);\n  border: 1px solid rgba(0, 0, 0, .5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_shape {\n  stroke-width: 1;\n  stroke-dasharray: 10 10;\n  stroke: black;\n  stroke-opacity: 0.1;\n  pointer-events: none;\n  fill: none;\n}\n\n.svg_select_handle {\n  stroke-width: 3;\n  stroke: black;\n  fill: none;\n}\n\n.svg_select_handle_r {\n  cursor: e-resize;\n}\n\n.svg_select_handle_l {\n  cursor: w-resize;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,\n.apexcharts-pan-icon,\n.apexcharts-reset-icon,\n.apexcharts-selection-icon,\n.apexcharts-toolbar-custom-icon,\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,\n.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,\n.apexcharts-reset-icon,\n.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, .7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1\n  }\n}\n\n/* Toolbar keyboard accessibility: show toolbar when any button inside it is focused */\n.apexcharts-toolbar:focus-within {\n  opacity: 1\n}\n\n/* Focus indicator for toolbar icon buttons */\n.apexcharts-menu-icon:focus-visible,\n.apexcharts-pan-icon:focus-visible,\n.apexcharts-reset-icon:focus-visible,\n.apexcharts-selection-icon:focus-visible,\n.apexcharts-toolbar-custom-icon:focus-visible,\n.apexcharts-zoom-icon:focus-visible,\n.apexcharts-zoomin-icon:focus-visible,\n.apexcharts-zoomout-icon:focus-visible {\n  outline: 2px solid #008FFB;\n  outline-offset: 2px;\n  border-radius: 2px\n}\n\n/* Focus indicator for hamburger menu items */\n.apexcharts-menu-item:focus-visible {\n  outline: 2px solid #008FFB;\n  outline-offset: -2px;\n  background: #eee\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,\n.apexcharts-datalabel.apexcharts-element-hidden,\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value,\n.apexcharts-datalabels,\n.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-radialbar-label {\n  cursor: pointer;\n}\n\n.apexcharts-annotation-rect,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-gridline,\n.apexcharts-line,\n.apexcharts-point-annotation-label,\n.apexcharts-radar-series path:not(.apexcharts-marker),\n.apexcharts-radar-series polygon,\n.apexcharts-toolbar svg,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-xaxis-annotation-label,\n.apexcharts-yaxis-annotation-label,\n.apexcharts-zoom-rect,\n.no-pointer-events {\n  pointer-events: none\n}\n\n.apexcharts-tooltip-active .apexcharts-marker {\n  transition: .15s ease all\n}\n\n.apexcharts-radar-series .apexcharts-yaxis {\n  pointer-events: none;\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,\n.resize-triggers,\n.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n\n.apexcharts-bar-goals-markers {\n  pointer-events: none\n}\n\n.apexcharts-bar-shadows {\n  pointer-events: none\n}\n\n.apexcharts-rangebar-goals-markers {\n  pointer-events: none\n}\n\n.apexcharts-disable-transitions * {\n  transition: none !important;\n}';const r=(null==(s=this.opts.chart)?void 0:s.nonce)||this.w.config.chart.nonce;r&&a.setAttribute("nonce",r),t?e.prepend(a):!1!==this.w.config.chart.injectStyleSheet&&i.head.appendChild(a)}}const a=this.create(this.w.config.series,{});if(!a)return e(this);this.mount(a).then(()=>{"function"==typeof this.w.config.chart.events.mounted&&this.w.config.chart.events.mounted(this,this.w),this.events.fireEvent("mounted",[this,this.w]),e(a)}).catch(e=>{t(e)})}else t(new Error("Element not found"))})}create(e,t){var s;const i=this.w;new Ke(this).initModules();const a=this.w.globals;if(a.noData=!1,a.animationEnded=!1,!b.elementExists(this.el))return a.animationEnded=!0,null;if(this.responsive.checkResponsiveConfig(t),i.config.xaxis.convertedCatToNumeric){new S(i.config).convertCatToNumericXaxis(i.config,this.ctx)}if(this.core.setupElements(),"treemap"===i.config.chart.type&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),0===a.svgWidth)return a.animationEnded=!0,null;let r=e;e.forEach((e,t)=>{e.hidden&&(r=this.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:t}))});const o=F.checkComboSeries(r,i.config.chart.type);a.comboCharts=o.comboCharts,a.comboBarCount=o.comboBarCount;const n=r.every(e=>e.data&&0===e.data.length);(0===r.length||n&&a.collapsedSeries.length<1)&&this.series.handleNoData(),h.isBrowser()&&this.events.setupEventHandlers();const l=this.data.parseData(r);this._writeParsedSeriesData(l.seriesData),this._writeParsedRangeData(l.rangeData),this._writeParsedCandleData(l.candleData),this._writeParsedLabelData(l.labelData),this._writeParsedAxisFlags(l.axisFlags),this.theme.init();new O(this.w,this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),a.noData&&a.collapsedSeries.length!==i.seriesData.series.length&&!i.config.legend.showForSingleSeries||null==(s=this.legend)||s.init(),this.series.hasAllSeriesEqualX(),a.axisCharts&&(this.core.coreCalculations(),"category"!==i.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar&&(this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX)),this.formatters.heatmapLabelFormatters();new F(this.w).getLargestMarkerSize();const c=this.dimensions.plotCoords();this._writeLayoutCoords(c.layout);const d=this.core.xySettings();this.grid.createGridMask();const g=this.core.plotChartType(r,d),p=new B(this.w,this);p.bringForward(),i.config.dataLabels.background.enabled&&p.dataLabelsBackground(),this.core.shiftGraphPosition(),i.globals.dataPoints>50&&i.dom.elWrap.classList.add("apexcharts-disable-transitions");return{elGraph:g,xyRatios:d,dimensions:{plot:{left:i.layout.translateX,top:i.layout.translateY,width:i.layout.gridWidth,height:i.layout.gridHeight}}}}mount(e=null){const t=this,s=t.w;return new Promise((i,a)=>{var r,o,n,l,c,d,g,p;if(null===t.el)return a(new Error("Not enough data to display or target element not found"));(null===e||s.globals.allSeriesCollapsed)&&t.series.handleNoData(),t.grid=new G(t.w,t);const x=t.grid.drawGrid(),u=Ke._featureRegistry.get("annotations");if(t.annotations=u?new u(t.w,{theme:t.theme,timeScale:t.timeScale}):null,null==(r=t.annotations)||r.drawImageAnnos(),null==(o=t.annotations)||o.drawTextAnnos(),"back"===s.config.grid.position&&(x&&s.dom.elGraphical.add(x.el),(null==(n=null==x?void 0:x.elGridBorders)?void 0:n.node)&&s.dom.elGraphical.add(x.elGridBorders)),Array.isArray(e.elGraph))for(let t=0;t<e.elGraph.length;t++)s.dom.elGraphical.add(e.elGraph[t]);else s.dom.elGraphical.add(e.elGraph);"front"===s.config.grid.position&&(x&&s.dom.elGraphical.add(x.el),(null==(l=null==x?void 0:x.elGridBorders)?void 0:l.node)&&s.dom.elGraphical.add(x.elGridBorders)),"front"===s.config.xaxis.crosshairs.position&&t.crosshairs.drawXCrosshairs(),"front"===s.config.yaxis[0].crosshairs.position&&t.crosshairs.drawYCrosshairs(),"treemap"!==s.config.chart.type&&t.axes.drawAxis(s.config.chart.type,x);const f=new _(this.w,this.ctx,x),m=new U(this.w,{theme:this.theme,timeScale:this.timeScale},x);if(null!==x&&(f.xAxisLabelCorrections(x.xAxisTickWidth),m.setYAxisTextAlignments(),s.config.yaxis.map((e,t)=>{-1===s.globals.ignoreYAxisIndexes.indexOf(t)&&m.yAxisTitleRotate(t,e.opposite)})),null==(c=t.annotations)||c.drawAxesAnnotations(),!s.globals.noData){if(h.isBrowser()&&s.config.tooltip.enabled&&!s.globals.noData&&t.w.globals.tooltip.drawTooltip(e.xyRatios),s.config.chart.accessibility.enabled&&s.config.chart.accessibility.keyboard.enabled&&s.config.chart.accessibility.keyboard.navigation.enabled&&(null==(d=t.keyboardNavigation)||d.init()),h.isBrowser()&&s.globals.axisCharts&&(s.axisFlags.isXNumeric||s.config.xaxis.convertedCatToNumeric||s.axisFlags.isRangeBar))(s.config.chart.zoom.enabled||s.config.chart.selection&&s.config.chart.selection.enabled||s.config.chart.pan&&s.config.chart.pan.enabled)&&(null==(g=t.zoomPanSelection)||g.init({xyRatios:e.xyRatios}));else{const e=s.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(t=>{e[t]=!1})}s.config.chart.toolbar.show&&!s.globals.allSeriesCollapsed&&(null==(p=t.toolbar)||p.createToolbar())}s.globals.memory.methodsToExec.length>0&&s.globals.memory.methodsToExec.forEach(e=>{e.method(e.params,!1,e.context)}),s.globals.axisCharts||s.globals.noData||t.core.resizeNonAxisCharts(),i(t)})}destroy(){h.isBrowser()&&(window.removeEventListener("resize",this.windowResizeHandler),function(e,t){if(h.isSSR())return;const s=et.get(t);s&&(s.disconnect(),et.delete(t))}(this.el.parentNode,this.parentResizeHandler));const e=this.w.config.chart.id;e&&Apex._chartInstances.forEach((t,s)=>{t.id===b.escapeString(e)&&Apex._chartInstances.splice(s,1)}),this._keyboardNavigation&&this._keyboardNavigation.destroy(),new Qe(this.ctx).clear({isUpdating:!1})}updateOptions(e,t=!1,s=!0,i=!0,a=!0){const r=this.w;if(r.interact.selection=void 0,this.lastUpdateOptions){if(b.shallowEqual(this.lastUpdateOptions,e))return this;if(e.series&&this.lastUpdateOptions.series&&JSON.stringify(this.lastUpdateOptions.series)===JSON.stringify(e.series)){const t=n({},e),s=n({},this.lastUpdateOptions);if(delete t.series,delete s.series,b.shallowEqual(t,s))return this}}return e.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map((e,t)=>this.updateHelpers._extendSeries(e,t))),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),r.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,t,s,i,a)}updateSeries(e=[],t=!0,s=!0){return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,s)}appendSeries(e,t=!0,s=!0){this.data.resetParsingFlags();const i=this.w.config.series.slice();return i.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,t,s)}appendData(e,t=!0){const s=this;s.data.resetParsingFlags(),s.w.globals.dataChanged=!0,s.series.getPreviousPaths();const i=s.w.config.series.slice();for(let t=0;t<i.length;t++)if(null!==e[t]&&void 0!==e[t])for(let s=0;s<e[t].data.length;s++)i[t].data.push(e[t].data[s]);return s.w.config.series=i,t&&(s.w.globals.initialSeries=b.clone(s.w.config.series)),this.update()}update(e){return new Promise((t,s)=>{if(this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e))return t(this);this.lastUpdateOptions=b.clone(e),new Qe(this.ctx).clear({isUpdating:!0});const i=this.create(this.w.config.series,e);if(!i)return t(this);this.mount(i).then(()=>{"function"==typeof this.w.config.chart.events.updated&&this.w.config.chart.events.updated(this,this.w),this.events.fireEvent("updated",[this,this.w]),this.w.globals.isDirty=!0,t(this)}).catch(e=>{s(e)})})}getSyncedCharts(){const e=this.getGroupedCharts();let t=[this];return e.length&&(t=[],e.forEach(e=>{t.push(e)})),t}getGroupedCharts(){return Apex._chartInstances.filter(e=>{if(e.group)return!0}).map(e=>this.w.config.chart.group===e.group?e.chart:this)}static getChartByID(e){const t=b.escapeString(e);if(!Apex._chartInstances)return;const s=Apex._chartInstances.filter(e=>e.id===t)[0];return s&&s.chart}static initOnLoad(){const e=document.querySelectorAll("[data-apexcharts]");for(let t=0;t<e.length;t++){const s=e[t],i=JSON.parse(e[t].getAttribute("data-options"));new tt(s,i).render()}}static exec(e,t,...s){const i=this.getChartByID(e);if(!i)return;i.w.globals.isExecCalled=!0;let a=null;return-1!==i.publicMethods.indexOf(t)&&(a=i[t](...s)),a}static merge(e,t){return b.extend(e,t)}static getThemePalettes(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}static use(e){!function(e){Object.assign(ge,e)}(e)}static registerFeatures(e){Ke.registerFeatures(e)}toggleSeries(e){return this.series.toggleSeries(e)}highlightSeriesOnLegendHover(e,t){return this.series.toggleSeriesOnHover(e,t)}showSeries(e){this.series.showSeries(e)}hideSeries(e){this.series.hideSeries(e)}highlightSeries(e){this.series.highlightSeries(e)}isSeriesHidden(e){this.series.isSeriesHidden(e)}resetSeries(e=!0,t=!0){this.series.resetSeries(e,t)}addEventListener(e,t){this.events.addEventListener(e,t)}removeEventListener(e,t){this.events.removeEventListener(e,t)}addXaxisAnnotation(e,t=!0,s=void 0){var i;let a=this;s&&(a=s),null==(i=a.annotations)||i.addXaxisAnnotationExternal(e,t,a)}addYaxisAnnotation(e,t=!0,s=void 0){var i;let a=this;s&&(a=s),null==(i=a.annotations)||i.addYaxisAnnotationExternal(e,t,a)}addPointAnnotation(e,t=!0,s=void 0){var i;let a=this;s&&(a=s),null==(i=a.annotations)||i.addPointAnnotationExternal(e,t,a)}clearAnnotations(e=void 0){var t;let s=this;e&&(s=e),null==(t=s.annotations)||t.clearAnnotations(s)}removeAnnotation(e,t=void 0){var s;let i=this;t&&(i=t),null==(s=i.annotations)||s.removeAnnotation(i,e)}getChartArea(){return this.w.dom.baseEl.querySelector(".apexcharts-inner")}getSeriesTotalXRange(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}getHighestValueInSeries(e=0){return new V(this.w).getMinYMaxY(e).highestY}getLowestValueInSeries(e=0){return new V(this.w).getMinYMaxY(e).lowestY}getSeriesTotal(){return this.w.globals.seriesTotals}getState(){const e=this.w,t=e.globals;return{series:e.seriesData.series,seriesNames:e.seriesData.seriesNames,colors:t.colors,labels:e.labelData.labels,seriesTotals:t.seriesTotals,seriesPercent:t.seriesPercent,seriesXvalues:t.seriesXvalues,seriesYvalues:t.seriesYvalues,minX:t.minX,maxX:t.maxX,minY:t.minY,maxY:t.maxY,minYArr:t.minYArr,maxYArr:t.maxYArr,minXDiff:t.minXDiff,dataPoints:t.dataPoints,xAxisScale:t.xAxisScale,yAxisScale:t.yAxisScale,xTickAmount:t.xTickAmount,isXNumeric:e.axisFlags.isXNumeric,seriesYAxisMap:t.seriesYAxisMap,seriesYAxisReverseMap:t.seriesYAxisReverseMap,svgWidth:t.svgWidth,svgHeight:t.svgHeight,gridWidth:e.layout.gridWidth,gridHeight:e.layout.gridHeight,selectedDataPoints:e.interact.selectedDataPoints,collapsedSeriesIndices:t.collapsedSeriesIndices,zoomed:e.interact.zoomed,seriesX:e.seriesData.seriesX,seriesZ:e.seriesData.seriesZ,seriesCandleO:e.candleData.seriesCandleO,seriesCandleH:e.candleData.seriesCandleH,seriesCandleM:e.candleData.seriesCandleM,seriesCandleL:e.candleData.seriesCandleL,seriesCandleC:e.candleData.seriesCandleC,seriesRangeStart:e.rangeData.seriesRangeStart,seriesRangeEnd:e.rangeData.seriesRangeEnd,seriesGoals:e.seriesData.seriesGoals}}toggleDataPointSelection(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}zoomX(e,t){var s;null==(s=this.ctx.toolbar)||s.zoomUpdateOptions(e,t)}setLocale(e){this.localization.setCurrentLocaleValues(e)}dataURI(e){if(!this.ctx.exports)throw new Error("apexcharts: Exports feature is not registered. Import apexcharts/features/exports.");return this.ctx.exports.dataURI(e)}getSvgString(e){if(!this.ctx.exports)throw new Error("apexcharts: Exports feature is not registered. Import apexcharts/features/exports.");return this.ctx.exports.getSvgString(e)}exportToCSV(e={}){if(!this.ctx.exports)throw new Error("apexcharts: Exports feature is not registered. Import apexcharts/features/exports.");return this.ctx.exports.exportToCSV(e)}paper(){return this.w.dom.Paper}_writeParsedSeriesData(e){Object.assign(this.w.seriesData,e)}_writeParsedRangeData(e){Object.assign(this.w.rangeData,e)}_writeParsedCandleData(e){Object.assign(this.w.candleData,e)}_writeParsedLabelData(e){Object.assign(this.w.labelData,e)}_writeParsedAxisFlags(e){Object.assign(this.w.axisFlags,e)}_writeLayoutCoords(e){Object.assign(this.w.layout,e)}_parentResizeCallback(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}_windowResize(){clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(()=>{this.w.globals.resized=!0,this.w.globals.dataChanged=!1,this.ctx.update()},150)}_windowResizeHandler(){let{redrawOnWindowResize:e}=this.w.config.chart;"function"==typeof e&&(e=e()),e&&this._windowResize()}}class st{static renderToString(e){return c(this,arguments,function*(e,t={}){h.isSSR()&&m.init();const{width:s=400,height:i=300,scale:a=1}=t,r=this._createVirtualElement(s,i),o=l(n({},e),{chart:l(n({},e.chart),{width:s,height:i,toolbar:{show:!1},animations:{enabled:!1}})}),c=new tt(r,o);try{yield c.render();const e=this._extractSVGString(c,a);return c.destroy(),e}catch(e){throw c.destroy(),new Error(`SSR rendering failed: ${e.message}`)}})}static renderToHTML(e){return c(this,arguments,function*(e,t={}){const{className:s=""}=t,i=yield this.renderToString(e,t);return`<div class="${"apexcharts-ssr-wrapper"+(s?" "+s:"")}" data-apexcharts-hydrate data-apexcharts-config="${this._encodeConfig(e)}">\n${i}\n</div>`})}static _createVirtualElement(e,t){if(h.isBrowser()){const s=document.createElement("div");return s.style.width=`${e}px`,s.style.height=`${t}px`,s}return{_ssrWidth:e,_ssrHeight:t,_ssrMode:!0,nodeType:1,nodeName:"DIV",children:[],style:{},classList:{add:()=>{},remove:()=>{},contains:()=>!1},appendChild(e){this.children.push(e)},removeChild(e){const t=this.children.indexOf(e);t>-1&&this.children.splice(t,1)},querySelector:()=>null,querySelectorAll:()=>[],getElementsByClassName:()=>[],getAttribute:()=>null,setAttribute(){},removeAttribute(){},hasAttribute:()=>!1,getBoundingClientRect(){return{width:this._ssrWidth,height:this._ssrHeight,top:0,left:0,right:this._ssrWidth,bottom:this._ssrHeight,x:0,y:0}},get parentNode(){return null},get isConnected(){return!0},getRootNode(){return this}}}static _extractSVGString(e,t=1){const s=e.w;if(!s||!s.dom||!s.dom.Paper)throw new Error("Chart not properly initialized");const i=s.dom.Paper.node;if(h.isBrowser()&&i instanceof SVGElement){let e=(new XMLSerializer).serializeToString(i);return 1!==t&&(e=this._applyScale(e,t)),e}if(i&&"function"==typeof i.toString){let e=i.toString();return 1!==t&&(e=this._applyScale(e,t)),e}throw new Error("Unable to extract SVG string from chart")}static _applyScale(e,t){const s=e.match(/width="([^"]+)"/),i=e.match(/height="([^"]+)"/);if(s&&i){const a=parseFloat(s[1])*t,r=parseFloat(i[1])*t;e=e.replace(/width="[^"]+"/,`width="${a}"`).replace(/height="[^"]+"/,`height="${r}"`)}return e}static _encodeConfig(e){try{const t=JSON.stringify(e);return"undefined"!=typeof Buffer?Buffer.from(t).toString("base64"):"undefined"!=typeof btoa?btoa(t):encodeURIComponent(t)}catch(e){throw new Error(`Failed to encode config: ${e.message}`)}}static _decodeConfig(e){try{let t;return t="undefined"!=typeof Buffer?Buffer.from(e,"base64").toString("utf-8"):"undefined"!=typeof atob?atob(e):decodeURIComponent(e),JSON.parse(t)}catch(e){throw new Error(`Failed to decode config: ${e.message}`)}}}class it{static hydrate(e,t={}){if(!h.isBrowser())throw new Error("Hydration can only be performed in browser environment");if(!e)throw new Error("Element is required for hydration");if(!e.hasAttribute("data-apexcharts-hydrate"))throw new Error("Element does not have data-apexcharts-hydrate attribute");const s=e.getAttribute("data-apexcharts-config");if(!s)throw new Error("Element is missing data-apexcharts-config attribute");const i=this._decodeConfig(s),a=this._mergeConfigs(i,t),r=e.innerHTML,o=new tt(e,a),n=e.getBoundingClientRect();return e.style.width=`${n.width}px`,e.style.height=`${n.height}px`,e.innerHTML="",e.removeAttribute("data-apexcharts-hydrate"),e.removeAttribute("data-apexcharts-config"),o.render().then(()=>{e.setAttribute("data-apexcharts-hydrated","true"),e.style.width="",e.style.height="";const t=new CustomEvent("apexcharts:hydrated",{detail:{chart:o,ssrContent:r}});e.dispatchEvent(t)}).catch(t=>{throw e.innerHTML=r,e.setAttribute("data-apexcharts-hydrate",""),e.setAttribute("data-apexcharts-config",s),t}),o}static hydrateAll(e="[data-apexcharts-hydrate]",t={}){if(!h.isBrowser())throw new Error("Hydration can only be performed in browser environment");const s=document.querySelectorAll(e);if(0===s.length)return[];const i=[];return s.forEach(e=>{try{const s=this.hydrate(e,t);i.push(s)}catch(e){}}),i}static isHydrated(e){return!!e&&e.hasAttribute("data-apexcharts-hydrated")}static _decodeConfig(e){try{let t;return t="undefined"!=typeof atob?atob(e):"undefined"!=typeof Buffer?Buffer.from(e,"base64").toString("utf-8"):decodeURIComponent(e),JSON.parse(t)}catch(e){throw new Error(`Failed to decode chart config: ${e.message}`)}}static _mergeConfigs(e,t){var s,i,a;const r=n(n({},e),t);return(e.chart||t.chart)&&(r.chart=n(n({},e.chart),t.chart),void 0!==r.chart.animations&&!1!==r.chart.animations.enabled||(r.chart.animations=l(n({},r.chart.animations||{}),{enabled:!0})),void 0===(null==(s=t.chart)?void 0:s.toolbar)&&!1===(null==(a=null==(i=e.chart)?void 0:i.toolbar)?void 0:a.show)&&(r.chart.toolbar=l(n({},r.chart.toolbar||{}),{show:!0}))),r}}tt.renderToString=st.renderToString.bind(st),tt.renderToHTML=st.renderToHTML.bind(st),tt.hydrate=it.hydrate.bind(it),tt.hydrateAll=it.hydrateAll.bind(it),tt.isHydrated=it.isHydrated.bind(it),exports.Hydration=it,exports.SSRRenderer=st,exports.default=tt;
